(this["webpackJsonpkanba-client"]=this["webpackJsonpkanba-client"]||[]).push([[0],{14:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));var r=a(80),n=a.n(r),c=a(81),s=a.n(c),o=n()(s.a,e.Promise),i="localhost"==window.location.hostname?"https://dev-microfinance.herokuapp.com/api":"/api";encodeURIComponent}).call(this,a(60))},142:function(e,t,a){},143:function(e,t,a){},158:function(e,t){},16:function(e,t,a){"use strict";(function(e){var r=a(80),n=a.n(r),c=a(81),s=a.n(c),o=n()(s.a,e.Promise),i="/api",l=(encodeURIComponent,function(e){return e}),d=function(e){return e.response},j=null,b=function(e){j&&e.set("Token",j)},u=function(e){return o.get("".concat(i).concat(e)).use(b).then(l,d)},h=function(e,t){return o.post("".concat(i).concat(e),t).use(b).then(l,d)},O={login:function(e,t){return h("/user/login",{email:e,password:t})},register:function(e){return h("/user/registration",e)}},m={getProductsByCat:function(e){return u("/products?category=".concat(e))},getCatgoryInitialData:function(){return[o.get("".concat(i,"/category")),o.get("".concat(i,"/products"))]},placeOrder:function(e){return o.post("".concat(i,"/orders/place-order"),e).use(b)},getCategoryAdmin:function(){return o.get("".concat(i,"/category")).use(b)},getOrdersHistoryAdmin:function(e){return o.get("".concat(i,"/orders/admin-order-list?page=").concat(e)).use(b)},getOrderHistoryByUserEmail:function(){return o.get("".concat(i,"/orders/get-order")).use(b)},addCategory:function(e){return o.post("".concat(i,"/category"),e).use(b)},deleteCategory:function(e){return o.del("".concat(i,"/category?name=").concat(e),e).use(b)},editCategory:function(e){return o.put("".concat(i,"/category"),e).use(b)},getProducts:function(){return o.get("".concat(i,"/products")).use(b)},deleteProduct:function(e){return o.del("".concat(i,"/products?title=").concat(e),e).use(b)},addProducts:function(e){return o.post("".concat(i,"/products"),e).use(b)},editProducts:function(e){return o.put("".concat(i,"/products"),e).use(b)}},x={getRazorpayOrderId:function(e){return o.post("".concat(i,"/payment/food-create-order-no"),e).use(b)},updatePaymentStatus:function(e){return o.post("".concat(i,"/payment/updatePaymentStatus"),e).use(b)}},p={fillItr:function(e){return o.post("".concat(i,"/finance/fill-itr"),e).use(b)},getAdminItr:function(){return o.get("".concat(i,"/finance/fill-itr")).use(b)},uploadForm16:function(e){return o.post("".concat(i,"/finance/form16Upload"),e).use(b)},getAdminForm16:function(){return o.get("".concat(i,"/finance/form16Upload")).use(b)},downloadForm16:function(e){return o.get("".concat(i,"/download?fileName=").concat(e.fileName)).use(b)}},g={submitInquery:function(e){return o.post("".concat(i,"/user/submitInquery"),e).use(b)}};t.a={Auth:O,Order:m,Payment:x,Finance:p,Inquery:g,getToken:function(){return j},setToken:function(e){j=e}}}).call(this,a(60))},223:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(33),s=a.n(c),o=(a(142),a(143),a(15)),i=a(69),l=a(52),d=a(5),j="REDIRECT",b="LOGIN",u="LOGOUT",h="REGISTER",O="LOGIN_PAGE_UNLOADED",m="REGISTER_PAGE_UNLOADED",x="ASYNC_START",p="ASYNC_END",g="UPDATE_FIELD_AUTH",v="ADD_ITEM_INITIAL",f="INCREASE_QUANTITY",y="DECREASE_QUANTITY",C="RESET_ORDER",_="STORE_EDIT_PRODUCT",w="GET_EDIT_PRODUCT",S="UPDATE_PRODUCT_FIELD",I=a(136),N={addedItem:[]},k={product:{}},L=Object(i.combineReducers)({auth:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case b:return Object(d.a)(Object(d.a)({},a),{},{inProgress:!1,errors:r.payload.message,role:null===(e=r.payload.record[0])||void 0===e?void 0:e.role,id:null===(t=r.payload.record[0])||void 0===t?void 0:t.id,statusCode:""!=r.payload.jwtToken?"200":"",isLoginSuccess:""!=r.payload.jwtToken});case h:return Object(d.a)(Object(d.a)({},a),{},{inProgress:!1,errors:r.payload,statusCode:r.payload.statusCode});case O:return Object(d.a)({},a);case m:return{};case x:if(r.subtype===b||r.subtype===h)return Object(d.a)(Object(d.a)({},a),{},{inProgress:!0});break;case g:return Object(d.a)(Object(d.a)({},a),{},Object(l.a)({},r.key,r.value));default:return a}return a},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{redirectTo:null});default:return e}return e},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var a=[].concat(Object(I.a)(e.addedItem),[{productId:t.item._id,quantity:1,perItemPrice:t.item.price,item:t.item}]);return Object(d.a)(Object(d.a)({},e),{},{addedItem:a});case f:return e.addedItem.map((function(e){return e.productId==t.productId&&(e.quantity+=1),e})),Object(d.a)(Object(d.a)({},e),{},{state:e});case y:return e.addedItem.map((function(e){return e.productId==t.productId&&0!=e.quantity&&(e.quantity-=1),e})),Object(d.a)(Object(d.a)({},e),{},{state:e});case C:return e.addedItem=[],Object(d.a)({},e);default:return e}return e},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(d.a)(Object(d.a)({},e),{},{product:t.data});case w:return Object(d.a)({},e);case S:var a=e.product;return a[t.data.key]=t.data.value,Object(d.a)(Object(d.a)({},e),{},{product:a});default:return e}return e}}),P=function(e,t){return"LOGOUT"===t.type&&(e=void 0),L(e,t)},M=a(16),D=function(e){return function(t){return function(a){if((c=a.payload)&&"function"===typeof c.then){e.dispatch({type:x,subtype:a.type});var r=e.getState().viewChangeCounter,n=a.skipTracking;a.payload.then((function(t){var c=e.getState();(n||c.viewChangeCounter===r)&&(a.payload=t,e.dispatch({type:p,promise:a.payload}),e.dispatch(a))}),(function(t){var c=e.getState();(n||c.viewChangeCounter===r)&&(a.error=!0,a.payload=t.response.body,a.skipTracking||e.dispatch({type:p,promise:a.payload}),e.dispatch(a))}))}else{var c;t(a)}}}},A=function(e){return function(e){return function(t){t.type===b&&void 0!=t.payload?""!=t.payload.jwtToken&&(window.localStorage.setItem("jwt",t.payload.jwtToken),M.a.setToken(t.payload.jwtToken)):t.type===u&&(window.localStorage.setItem("jwt",""),M.a.setToken(null)),e(t)}}};var E=a(129),T=Object(i.createStore)(P,Object(E.composeWithDevTools)(Object(i.applyMiddleware)(D,A))),G=a(11),F=a(22),R=a(23),H=a(24),B=a(26),z=a(25),q=a(244),V=a(0);var U=function(e){return Object(V.jsxs)(q.a,{show:e.isopen,onHide:e.hide,centered:!0,className:"text-center",children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"Tax Return"})}),Object(V.jsxs)(q.a.Body,{children:[Object(V.jsx)(G.Link,{to:{pathname:"/fillItr",query:{type:"fill"}},className:"btn btn-danger btn-sm",children:"Start Your Tax Return"}),Object(V.jsx)(G.Link,{to:{pathname:"/fillItr",query:{type:"uploadForm16"}},className:"btn btn-danger btn-sm",children:"Upload Form-16 Now"})]})]})},Y=a(4),Q=a(234),W=a(245),K=a(131),Z=a(235),J=a(39),X=a.n(J);a(168);var $=function(e){var t=Object(r.useState)({fullName:"",email:"",business:"",dob:new Date,gender:"",service:"",Phone:""}),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(new Date),o=Object(Y.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)({type:"",message:""}),j=Object(Y.a)(d,2),b=j[0],u=j[1],h=Object(r.useState)(!1),O=Object(Y.a)(h,2),m=O[0],x=O[1],p=function(e){n[e.target.name]=e.target.value,c(n),console.log(n)};return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(q.a,{show:e.isopen,onHide:e.hide,children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"Enquiry"})}),Object(V.jsxs)(q.a.Body,{children:[""!=b.type?"success"==b.type?Object(V.jsx)(Q.a,{variant:"success",onClose:function(){return u({type:"",message:""})},dismissible:!0,children:b.message},b.type):Object(V.jsx)(Q.a,{variant:"danger",onClose:function(){return u({type:"",message:""})},dismissible:!0,children:b.message},b.type):"",Object(V.jsxs)(W.a,{onSubmit:function(t){t.preventDefault(),n.dob=i,n.service=e.serviceType,c(n),console.log(n),x(!0),M.a.Inquery.submitInquery(n).then((function(e){200==e.statusCode?(t.target.reset(),b.type="success",b.message="Your Details has been submited. Our agent will contact you soon."):(b.type="error",b.message="Something went wrong. Please try again."),u(b),x(!1)}))},children:[Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridPassword",children:[Object(V.jsx)(W.a.Label,{children:"Full Name"}),Object(V.jsx)(W.a.Control,{onChange:p,type:"text",name:"fullName"})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridEmail",children:[Object(V.jsx)(W.a.Label,{children:"Email"}),Object(V.jsx)(W.a.Control,{type:"email",onChange:p,name:"email",placeholder:"Enter email"})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAddress1",children:[Object(V.jsx)(W.a.Label,{children:"Business"}),Object(V.jsx)(W.a.Control,{type:"text",onChange:p,name:"business"})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAddress1",children:[Object(V.jsx)(W.a.Label,{children:"Date of Birth"}),Object(V.jsx)(X.a,{selected:i,onChange:function(e){return l(e)},dateFormat:"dd/MM/yyyy",showYearDropdown:!0,dateFormatCalendar:"MMMM",yearDropdownItemNumber:50,scrollableYearDropdown:!0,maxDate:new Date})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridState",children:[Object(V.jsx)(W.a.Label,{children:"Gender"}),Object(V.jsxs)(W.a.Control,{name:"gender",as:"select",onChange:p,defaultValue:"Choose...",children:[Object(V.jsx)("option",{children:"Choose..."}),Object(V.jsx)("option",{value:"male",children:"Male"}),Object(V.jsx)("option",{value:"female",children:"Female"})]})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridState",children:[Object(V.jsx)(W.a.Label,{children:"Service"}),Object(V.jsx)(W.a.Control,{onChange:p,type:"text",name:"service",value:e.serviceType,readOnly:!0})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAddress1",children:[Object(V.jsx)(W.a.Label,{children:"Phone"}),Object(V.jsx)(W.a.Control,{type:"text",onChange:p,name:"phone"})]})}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",disabled:m,children:m?"Loading\u2026":"Submit"})]})]})]})})};r.Component,r.Component;var ee=function(e){return e.currentUser.errors&&500!=e.currentUser.errors.statusCode?null:Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)(G.NavLink,{aactiveClassName:"active",className:"nav-link",to:"/login",children:"Login"})})};var te=function(e){var t=Object(o.c)(),a=Object(F.k)();if(e.currentUser.errors&&200==e.currentUser.errors.statusCode){var r=e.currentUser.email.split("@");return Object(V.jsxs)(V.Fragment,{children:[e.currentUser.errors.body.record.isAdmin?Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)(G.NavLink,{aactiveClassName:"active",to:"/adminHome",className:"nav-link",children:"Admin"})})}):"",Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsxs)(G.NavLink,{aactiveClassName:"active",to:"/userAction",className:"nav-link",children:[r[0],e.currentUser.errors.body.record.isPrimeMember?Object(V.jsx)("label",{className:"clr-cyan",children:"(Prime member)"}):""]})}),Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)("a",{className:"nav-link",onClick:function(){t({type:u}),console.log("hollo"),a.push("/")},children:"Logout"})})]})}return null},ae=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){var r;return Object(R.a)(this,a),(r=t.call(this,e)).isopen=!1,r.handleITRPopup=function(){r.setState({isopen:!r.state.isopen})},r.state={isopen:!1},r}return Object(H.a)(a,[{key:"render",value:function(){return Object(V.jsxs)("header",{children:[Object(V.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark fixed-top scrolling-navbar",children:Object(V.jsxs)("div",{className:"container",children:[Object(V.jsxs)(G.NavLink,{className:"navbar-brand",to:"/",children:[" ",Object(V.jsx)("h2",{children:"AA2 Mutualhelp"})]}),Object(V.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent-7","aria-controls":"navbarSupportedContent-7","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(V.jsx)("span",{className:"navbar-toggler-icon"})}),Object(V.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent-7",children:Object(V.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(V.jsx)("li",{className:"nav-item"}),Object(V.jsx)(te,{currentUser:this.props}),Object(V.jsx)(ee,{currentUser:this.props})]})})]})}),Object(V.jsx)("div",{className:"view",children:Object(V.jsx)("div",{className:"mask rgba-gradient d-flex justify-content-center align-items-center",children:Object(V.jsx)("div",{className:"container",children:Object(V.jsx)("div",{className:"row",children:Object(V.jsxs)("div",{className:"col-md-12 white-text text-center mx-auto  mb-5 wow fadeInLeft","data-wow-delay":"0.3s",children:[Object(V.jsx)("h1",{className:"my-3 text-center mx-auto font-weight-bold wow fadeInLeft",children:"Services, on demand."}),Object(V.jsx)("div",{className:"ml-auto mr-auto main-search ",children:Object(V.jsx)("form",{action:"",className:"search-service",children:Object(V.jsx)("input",{className:"search-form form-control form-control-lg",type:"text",placeholder:"Search Services"})})})]})})})})}),Object(V.jsx)(U,{isopen:this.state.isopen,hide:this.handleITRPopup})]})}}]),a}(r.Component),re=(Object(o.b)((function(e){return Object(d.a)({},e.auth)}),(function(e){return{}}))(ae),a(236));var ne=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){var e=this.props.errors,t=this.props.statusCode;return e?Object(V.jsx)(Q.a,{variant:200==t?"success":"danger",children:e}):null}}]),a}(r.Component),ce=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){var r;return Object(R.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=r.state.userDetails;t[e.target.name]=e.target.value,r.setState({userDetails:t})},r.submitForm=function(){return function(e){e.preventDefault(),r.setState({isLoading:!0}),M.a.Auth.register(r.state.userDetails).then((function(t){r.setState({errors:t,statusCode:t.statusCode,isLoading:!1}),200==t.statusCode&&e.target.reset()}))}},r.state={userDetails:{},errors:"",statusCode:"",isLoading:!1},r}return Object(H.a)(a,[{key:"render",value:function(){return Object(V.jsxs)("div",{className:"login-div",children:[Object(V.jsx)(ne,{errors:this.state.errors,statusCode:this.state.statusCode}),Object(V.jsxs)(W.a,{className:"login-form",onSubmit:this.submitForm(),children:[Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Email address"}),Object(V.jsx)(W.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:this.handleChange,required:!0}),Object(V.jsx)(W.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Phone"}),Object(V.jsx)(W.a.Control,{type:"phone",name:"phone",onChange:this.handleChange,required:!0}),Object(V.jsx)(W.a.Text,{className:"text-muted",children:"We'll never share your phone no with anyone else."})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formBasicPassword",children:[Object(V.jsx)(W.a.Label,{children:"Password"}),Object(V.jsx)(W.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,required:!0})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsx)(Z.a,{variant:"primary",type:"submit",disabled:this.state.isLoading,children:this.state.isLoading?"Loading\u2026":"Register"})})]})]})}}]),a}(n.a.Component),se=a(14),oe={login:function(e,t){return se.b.post("".concat(se.a,"/user/login"),{username:e,password:t})}},ie=a(237);var le=function(e){return e.show?Object(V.jsx)(ie.a,{animation:"border",role:"status",className:(null===e||void 0===e?void 0:e.relative)?"loader-relative":"loader"}):null},de=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){var r;return Object(R.a)(this,a),(r=t.call(this,e)).submitForm=function(e){e.preventDefault(),r.setState({isShowLoader:!0}),oe.login(r.props.username,r.props.password).then((function(e){r.setState({isShowLoader:!1}),console.log(e),r.props.onSubmit(e.body)}))},r.state={isShowLoader:!1},r.changeEmail=function(e){r.props.onChangeEmail(e.target.value)},r.changePassword=function(e){r.props.onChangePassword(e.target.value)},r}return Object(H.a)(a,[{key:"componentDidUpdate",value:function(){this.props.isLoginSuccess&&this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){var e=this.props.username,t=this.props.password;return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{className:"login-div",children:[Object(V.jsx)(le,{show:this.state.isShowLoader}),Object(V.jsx)(ne,{errors:this.props.errors,statusCode:this.props.statusCode}),Object(V.jsxs)(W.a,{className:"login-form",onSubmit:this.submitForm,children:[Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Username"}),Object(V.jsx)(W.a.Control,{type:"text",placeholder:"Enter username",value:e,onChange:this.changeEmail,required:!0})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formBasicPassword",children:[Object(V.jsx)(W.a.Label,{children:"Password"}),Object(V.jsx)(W.a.Control,{type:"password",placeholder:"Password",value:t,onChange:this.changePassword,required:!0})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsx)(K.a,{children:Object(V.jsx)(Z.a,{variant:"primary",disabled:this.props.inProgress,type:"submit",children:this.props.inProgress?"Loading\u2026":"Login"})})})]})]})})}}]),a}(r.Component),je=Object(o.b)((function(e){return Object(d.a)({},e.auth)}),(function(e){return{onChangeEmail:function(t){return e({type:g,key:"username",value:t})},onChangePassword:function(t){return e({type:g,key:"password",value:t})},onSubmit:function(t){return e({type:b,payload:t})},onUnload:function(){return e({type:O})}}}))(de);a(223);var be=function(e){var t,a=Object(r.useState)({}),n=Object(Y.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(!1),i=Object(Y.a)(o,2),l=i[0],d=i[1],j=Object(r.useState)(!1),b=Object(Y.a)(j,2),u=b[0],h=b[1],O=Object(r.useState)(!1),m=Object(Y.a)(O,2),x=m[0],p=m[1],g=Object(r.useState)(!1),v=Object(Y.a)(g,2),f=v[0],y=v[1],C=Object(r.useState)([]),_=Object(Y.a)(C,2),w=_[0],S=_[1];console.log(e);var I=function(e){c[e.target.name]=e.target.value,s(c)},N=function(){if(d(!0),k()){var t;console.log("Valid Form");var a="Form16";"fill"==(null===(t=e.location.query)||void 0===t?void 0:t.type)&&(a="ITR"),L(a)}else console.log("invalid from"),d(!1)},k=function(){var t,a,r=!0;return h(!1),p(!1),y(!1),void 0!=c.phone&&""!=c.phone||(h(!0),r=!1),void 0!=c.email&&""!=c.email||"fill"!=(null===(t=e.location.query)||void 0===t?void 0:t.type)||(p(!0),r=!1),void 0!=c.aadhar&&""!=c.aadhar||"fill"!=(null===(a=e.location.query)||void 0===a?void 0:a.type)||(y(!0),r=!1),r},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ITR",t=300;M.a.Payment.getRazorpayOrderId({amount:t,orderForService:e}).then((function(e){if(200==e.statusCode){console.log(e);var a={key:"1234",amount:100*t,currency:"INR",name:"Guest",description:"ITR Fill Transaction",image:"https://example.com/your_logo",order_id:e.body.record.id,handler:function(e){P("success",e)},theme:{color:"#3399cc"}},r=new window.Razorpay(a);r.on("payment.failed",(function(e){P("failed",e)})),r.open()}else d(!1),alert(e.body)}))},P=function(t,a){var r={razorpay_order_id:"",paymentStatus:"",paymentResponse:""};"success"==t&&(r.razorpay_order_id=a.razorpay_order_id,r.paymentStatus=t,r.paymentResponse=a),"failed"==t&&(r.razorpay_order_id=a.error.metadata.order_id,r.paymentStatus=t,r.paymentResponse=a);try{M.a.Payment.updatePaymentStatus(r).then((function(a){var n;200==a.statusCode&&"success"==t&&("fill"==(null===(n=e.location.query)||void 0===n?void 0:n.type)?D(r.razorpay_order_id):A(r.razorpay_order_id));200==a.statusCode&&"failed"==t&&(d(!1),e.history.push("/orderFailed"))}),(function(e){console.log(e.response.body.message)}))}catch(n){alert(n)}},D=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"online";c.razorpay_order_id=t,c.paymentMode=a,s(c),M.a.Finance.fillItr(c).then((function(t){d(!1),200==t.statusCode&&e.history.push("/orderSuccess")}),(function(e){console.log(e.response.body.message)}))},A=function(t){var a=new FormData;a.append("myFile",w,w.name),a.append("razorpay_order_id",t),a.append("phone",c.phone),M.a.Finance.uploadForm16(a).then((function(t){d(!1),200==t.statusCode&&e.history.push("/orderSuccess")}),(function(e){console.log(e.response.body.message)}))};return"fill"==(null===(t=e.location.query)||void 0===t?void 0:t.type)?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h4",{className:"py-5 text-center",children:Object(V.jsx)("b",{children:"Fill ITR"})}),Object(V.jsxs)(W.a,{className:"m-5",children:[Object(V.jsxs)(W.a.Row,{children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridFirstName",children:[Object(V.jsx)(W.a.Label,{variant:"primary",children:"First name"}),Object(V.jsx)(W.a.Control,{name:"firstName",onChange:I,type:"text"})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridlastName",children:[Object(V.jsx)(W.a.Label,{children:"Last name"}),Object(V.jsx)(W.a.Control,{name:"lastName",onChange:I,type:"text"})]})]}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridFirstName",children:[Object(V.jsx)(W.a.Label,{variant:"primary",children:"Phone*"}),Object(V.jsx)(W.a.Control,{name:"phone",onChange:I,type:"text",isInvalid:u}),Object(V.jsx)(W.a.Control.Feedback,{type:"invalid",children:"Please provide a phone number."})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridBusiness",children:[Object(V.jsx)(W.a.Label,{children:"Business Name"}),Object(V.jsx)(W.a.Control,{name:"business",onChange:I,type:"text",placeholder:"ABC limited"})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridEmail",children:[Object(V.jsx)(W.a.Label,{children:"Email*"}),Object(V.jsx)(W.a.Control,{name:"email",onChange:I,type:"email",placeholder:"you@example.com",isInvalid:x}),Object(V.jsx)(W.a.Control.Feedback,{type:"invalid",children:"Please provide a Email."})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAadhar",children:[Object(V.jsx)(W.a.Label,{children:"Address"}),Object(V.jsx)(W.a.Control,{name:"address",onChange:I,as:"textarea",rows:3})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAadhar",children:[Object(V.jsx)(W.a.Label,{children:"Aadhar Number*"}),Object(V.jsx)(W.a.Control,{name:"aadhar",onChange:I,type:"text",isInvalid:f}),Object(V.jsx)(W.a.Control.Feedback,{type:"invalid",children:"Please provide aadhar number."})]})}),Object(V.jsxs)(W.a.Row,{children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridState",children:[Object(V.jsx)(W.a.Label,{children:"Service"}),Object(V.jsxs)(W.a.Control,{name:"service",onChange:I,as:"select",defaultValue:"Choose...",children:[Object(V.jsx)("option",{children:"Choose..."}),Object(V.jsx)("option",{children:"Balance Sheet"})]})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAddress",children:[Object(V.jsx)(W.a.Label,{children:"PAN Number"}),Object(V.jsx)(W.a.Control,{name:"pan",onChange:I,type:"text"})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridZip",children:[Object(V.jsx)(W.a.Label,{children:"Zip"}),Object(V.jsx)(W.a.Control,{type:"text",onChange:I,name:"zip"})]})]}),Object(V.jsx)(Z.a,{variant:"danger",className:"center",type:"button",onClick:N,disabled:l,children:l?"Loading\u2026":"Pay Now"})]})]}):Object(V.jsx)("div",{className:"login-div",children:Object(V.jsxs)(W.a,{className:"login-form",children:[Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridFirstName",children:[Object(V.jsx)(W.a.Label,{variant:"primary",children:"Phone*"}),Object(V.jsx)(W.a.Control,{name:"phone",onChange:I,type:"text",isInvalid:u}),Object(V.jsx)(W.a.Text,{className:"text-muted",children:"We will contact you at this phone number."}),Object(V.jsx)(W.a.Control.Feedback,{type:"invalid",children:"Please provide a phone number."})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formBasicEmail",children:[Object(V.jsxs)(W.a.File,{id:"formcheck-api-regular",children:[Object(V.jsx)(W.a.Label,{variant:"primary",children:"Form16*"}),Object(V.jsx)(W.a.File.Input,{accept:".pdf",onChange:function(e){S(e.target.files[0])}})]}),Object(V.jsx)(W.a.Text,{className:"text-muted",children:"Only PDF file."})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsx)(Z.a,{variant:"danger",type:"button",onClick:N,disabled:l,children:l?"Loading\u2026":"Pay Now"})})]})})},ue=a(137),he=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){var r;return Object(R.a)(this,a),(r=t.call(this,e)).isopen=!1,r.handleITRPopup=function(){r.setState({isopen:!r.state.isopen})},r.state={isopen:!1},r}return Object(H.a)(a,[{key:"render",value:function(){return Object(V.jsxs)("header",{children:[Object(V.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark top-nav-collapse",children:Object(V.jsxs)("div",{className:"container",children:[Object(V.jsxs)(G.NavLink,{className:"navbar-brand",to:"/",children:[" ",Object(V.jsx)("h2",{children:"AA2 Mutualhelp"})]}),Object(V.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent-7","aria-controls":"navbarSupportedContent-7","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(V.jsx)("span",{className:"navbar-toggler-icon"})}),Object(V.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent-7",children:Object(V.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(V.jsx)(te,{currentUser:this.props}),Object(V.jsx)(ee,{currentUser:this.props})]})})]})}),Object(V.jsx)(U,{isopen:this.state.isopen,hide:this.handleITRPopup})]})}}]),a}(r.Component),Oe=(Object(o.b)((function(e){return Object(d.a)({},e.auth)}),(function(e){return{}}))(he),a(248)),me=a(41);function xe(){var e=Object(o.d)((function(e){return e.auth}));return Object(V.jsx)("nav",{id:"sidebar",children:Object(V.jsxs)(Oe.a,{className:"list-unstyled components flex-column",as:"ul",children:[Object(V.jsx)(Oe.a.Item,{as:"li",className:"active",children:Object(V.jsx)(me.LinkContainer,{to:"/",children:Object(V.jsx)(Oe.a.Link,{children:"Dashboard"})})}),Object(V.jsxs)(Oe.a.Item,{as:"li",children:[Object(V.jsx)(Oe.a.Link,{href:"#homeSubmenu",className:"dropdown-toggle","data-toggle":"collapse","aria-expanded":"false",children:"Master Record"}),Object(V.jsxs)(Oe.a,{class:"collapse list-unstyled",id:"homeSubmenu",as:"ul",children:[Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/memberGroup",children:Object(V.jsx)(Oe.a.Link,{href:"/home",children:"Member Group"})})}),Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/member",children:Object(V.jsx)(Oe.a.Link,{eventKey:"link-1",children:"Members"})})})]})]}),Object(V.jsxs)(Oe.a.Item,{as:"li",children:[Object(V.jsx)(Oe.a.Link,{href:"#groupLoan","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Group Loan"}),Object(V.jsxs)(Oe.a,{class:"collapse list-unstyled",id:"groupLoan",as:"ul",children:[Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/emiCalculator",children:Object(V.jsx)(Oe.a.Link,{href:"#",children:"Calculator"})})}),Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/scheme",children:Object(V.jsx)(Oe.a.Link,{eventKey:"link-1",children:"Scheme"})})}),Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/loanApplication",children:Object(V.jsx)(Oe.a.Link,{eventKey:"link-2",children:"Application"})})}),"checker"==e.role||"admin"==e.role?Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/loanApproval",children:Object(V.jsx)(Oe.a.Link,{eventKey:"link-2",children:"Approve Application"})})}):"","checker"==e.role||"admin"==e.role?Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/disburseLoan",children:Object(V.jsx)(Oe.a.Link,{eventKey:"link-2",children:"Disbure Application"})})}):"",Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/allApplications",children:Object(V.jsx)(Oe.a.Link,{eventKey:"link-2",children:"Loan Applications"})})})]})]}),Object(V.jsxs)(Oe.a.Item,{as:"li",children:[Object(V.jsx)(Oe.a.Link,{href:"#processingFee","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Processing Fee"}),Object(V.jsx)(Oe.a,{class:"collapse list-unstyled",id:"processingFee",as:"ul",children:Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(Oe.a.Link,{href:"#",children:"List Processing Fee"})})})]}),Object(V.jsxs)(Oe.a.Item,{as:"li",children:[Object(V.jsx)(Oe.a.Link,{href:"#expense","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Expense"}),Object(V.jsx)(Oe.a,{class:"collapse list-unstyled",id:"expense",as:"ul",children:Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(Oe.a.Link,{href:"#",children:"List Expense"})})})]}),Object(V.jsxs)(Oe.a.Item,{as:"li",children:[Object(V.jsx)(Oe.a.Link,{href:"#payments","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Payment to collect"}),Object(V.jsx)(Oe.a,{class:"collapse list-unstyled",id:"payments",as:"ul",children:Object(V.jsx)(Oe.a.Item,{as:"li",children:Object(V.jsx)(me.LinkContainer,{to:"/dueEmis",children:Object(V.jsx)(Oe.a.Link,{href:"#",children:"Payment to collect(Loan)"})})})})]})]})})}var pe=a(246);function ge(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(o.c)(),r=Object(F.k)();return Object(V.jsxs)(pe.a,{collapseOnSelect:!0,expand:"lg",bg:"info",variant:"dark",children:[Object(V.jsx)("h4",{id:"logo-web",className:"mr-4",children:"AA2 MutualHelp"}),Object(V.jsx)("button",{type:"button",onClick:e.toggleSidebar,class:"btn btn-dark",children:Object(V.jsx)("i",{class:"fas fa-align-left"})}),Object(V.jsx)("h4",{id:"logo-mobile",className:"",children:"AA2 MutualHelp"}),Object(V.jsx)(pe.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(V.jsx)(pe.a.Collapse,{id:"responsive-navbar-nav",children:Object(V.jsxs)(Oe.a,{className:"ml-auto",children:[Object(V.jsx)(Oe.a.Link,{href:"#",children:t.username}),Object(V.jsx)(Oe.a.Link,{eventKey:2,onClick:function(){a({type:u}),r.push("/login")},children:"Logout"})]})})]})}var ve=a(238),fe=["component"],ye=function(e){var t=e.component,a=Object(ue.a)(e,fe),n=Object(o.d)((function(e){return e.auth})),c=Object(F.k)(),s=Object(r.useState)(!0),i=Object(Y.a)(s,2),l=i[0],j=i[1];Object(r.useEffect)((function(){j(!(window.innerWidth<=768)),u()}),[t]);var b=function(){console.log(window),j(!l)},u=function(){var e;e=localStorage.getItem("jwt"),console.log(e),""!=e&&n.hasOwnProperty("username")||c.push("/login")};return Object(V.jsx)(F.d,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(ve.a,{fluid:!0,className:"pl-0 pr-0",children:[Object(V.jsx)(re.a,{children:Object(V.jsx)(K.a,{children:Object(V.jsx)(ge,{toggleSidebar:b})})}),Object(V.jsxs)(re.a,{children:[l?Object(V.jsx)(K.a,{md:2,sm:2,id:"sidebar-col",className:"bg-info",children:Object(V.jsx)(xe,{})}):"",Object(V.jsx)(K.a,{sm:l?10:12,children:Object(V.jsx)("div",{id:"content",children:Object(V.jsx)(t,Object(d.a)({},e))})})]})]})})}}))},Ce=a(13),_e=a.n(Ce),we=a(19),Se=a(249),Ie=a(240),Ne=a(250),ke=a(239),Le=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){var r;return Object(R.a)(this,a),r=t.call(this,e),console.log(e),r.initialAddItem=function(e){return function(t){t.preventDefault(),r.props.addItemInitial(e)}},r.increaseQuantity=function(e){return function(t){t.preventDefault(),r.props.increaseQuantity(e)}},r.decreaseQuantity=function(e){return function(t){t.preventDefault(),r.props.decreaseQuantity(e)}},r}return Object(H.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e,t=this,a=(e=this.props.addedItem.filter((function(e){return e.productId==t.props.item._id}))).length;return console.log(a),console.log(this.props.addedItem),a?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(ke.a,{className:"pointer",variant:"primary",onClick:this.decreaseQuantity(e[0].productId),children:"-"}),Object(V.jsx)(ke.a,{variant:"danger",children:e[0].quantity}),Object(V.jsx)(ke.a,{className:"pointer",variant:"primary",onClick:this.increaseQuantity(e[0].productId),children:"+"})]}):Object(V.jsx)(ke.a,{variant:"danger",className:"pointer",onClick:this.initialAddItem(this.props.item),children:"ADD+"})}}]),a}(r.Component),Pe=Object(o.b)((function(e){return Object(d.a)({},e.order)}),(function(e){return{addItemInitial:function(t){return e({type:v,item:t})},increaseQuantity:function(t){return e({type:f,productId:t})},decreaseQuantity:function(t){return e({type:y,productId:t})}}}))(Le),Me=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){var r;return Object(R.a)(this,a),(r=t.call(this,e)).getInitialData=Object(we.a)(_e.a.mark((function e(){var t,a,n,c;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({showloader:!0}),e.next=3,Promise.all(M.a.Order.getCatgoryInitialData());case 3:t=e.sent,a=Object(Y.a)(t,2),n=a[0],c=a[1],200==n.statusCode&&r.setState({categoryList:n.body.record}),200==c.statusCode&&r.setState({itemList:c.body.record}),r.setState({showloader:!1});case 10:case"end":return e.stop()}}),e)}))),r.changeCategory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){r.setState({showloader:!0}),r.setState({selectedTab:e}),M.a.Order.getProductsByCat(e).then((function(e){r.setState({showloader:!1}),200==e.statusCode&&r.setState({itemList:e.body.record})}))}},r.state={categoryList:[],itemList:[],showloader:!1,selectedTab:""},r}return Object(H.a)(a,[{key:"componentDidMount",value:function(){}},{key:"selectItem",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this;return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(ve.a,{fluid:!0,children:Object(V.jsxs)(re.a,{children:[Object(V.jsx)(K.a,{md:3,className:"p-4",children:Object(V.jsxs)(Se.a,{defaultActiveKey:"all",children:[Object(V.jsx)(Se.a.Item,{className:"mobile-list",active:""==this.state.selectedTab,onClick:this.changeCategory(),children:"All category"},"all"),this.state.categoryList.map((function(t,a){return Object(V.jsx)(Se.a.Item,{className:"mobile-list",active:e.state.selectedTab==t.name,action:!0,onClick:e.changeCategory(t.name),children:t.name},a)}))]})}),Object(V.jsxs)(K.a,{md:9,className:"p-4 production-col",children:[Object(V.jsx)(le,{show:this.state.showloader}),Object(V.jsx)(Ie.a,{children:this.state.itemList.map((function(e,t){return Object(V.jsxs)(Ne.a,{border:"danger",children:[Object(V.jsx)(Ne.a.Img,{variant:"top",src:e.imageUrl}),Object(V.jsxs)(Ne.a.Body,{children:[Object(V.jsx)(Ne.a.Title,{children:e.title}),Object(V.jsxs)(Ne.a.Subtitle,{className:"mb-2 text-muted",children:[Object(V.jsx)("span",{children:"\u20b9"}),e.price]}),Object(V.jsx)(Ne.a.Text,{children:e.description})]}),Object(V.jsx)(Ne.a.Footer,{children:Object(V.jsx)(Pe,{item:e})})]},t)}))})]})]})})})}}]),a}(r.Component),De=a(241),Ae=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){return Object(R.a)(this,a),t.call(this,e)}return Object(H.a)(a,[{key:"render",value:function(){var e=this.props.addedItem.reduce((function(e,t){return e+t.quantity*parseInt(t.perItemPrice)}),0);return Object(V.jsxs)(De.a,{responsive:!0,striped:!0,bordered:!0,className:"cart-table",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Product"}),Object(V.jsx)("th",{children:"Quantity"}),Object(V.jsx)("th",{children:"Price"})]})}),Object(V.jsx)("tbody",{children:this.props.addedItem.map((function(e){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.item.title}),Object(V.jsx)("td",{children:Object(V.jsx)(Pe,{item:e.item})}),Object(V.jsxs)("td",{children:[Object(V.jsx)("span",{children:"\u20b9"}),parseInt(e.perItemPrice)*e.quantity]})]})}))}),Object(V.jsx)("tfoot",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{colSpan:"2",children:Object(V.jsx)("h5",{children:"Total"})}),Object(V.jsxs)("td",{children:[Object(V.jsx)("span",{children:"\u20b9"})," ",e]})]})})]})}}]),a}(r.Component),Ee=Object(o.b)((function(e){return Object(d.a)({},e.order)}),(function(e){return{}}))(Ae);var Te=function(e){var t,a,n=Object(o.d)((function(e){return e.order})),c=Object(o.d)((function(e){return e.auth})),s=Object(r.useState)([]),i=Object(Y.a)(s,2),l=i[0],d=i[1],j=Object(r.useState)(!1),b=Object(Y.a)(j,2),u=b[0],h=b[1],O=Object(r.useState)(!1),m=Object(Y.a)(O,2),x=m[0],p=m[1],g=Object(r.useState)(!1),v=Object(Y.a)(g,2),f=v[0],y=v[1],C=Object(r.useState)(!1),_=Object(Y.a)(C,2),w=_[0],S=_[1],I=0,N=0,k=n.addedItem.map((function(e){return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[e.quantity," x ",e.item.title]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("span",{children:"\u20b9"})," ",e.quantity*parseInt(e.perItemPrice)]})]})})),L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"COD",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={name:l.name,address:l.address,phone:l.phone,city:"barh",street:l.street,landmark:l.landmark},c={items:n.addedItem,shipping:r,paymentMode:t,razorpay_order_id:a};M.a.Order.placeOrder(c).then((function(t){200==t.statusCode&&e.history.push("/orderSuccess")}),(function(e){alert(e.response.body.message)}))},P=function(){E()&&h(!u)},D=function(e){l[e.target.name]=e.target.value,d(l)};n.addedItem.forEach((function(e){I+=e.quantity,N+=parseInt(e.quantity)*e.perItemPrice})),(null===c||void 0===c||null===(t=c.errors)||void 0===t?void 0:t.body.record.isPrimeMember)&&(N-=10*N/100);var A=function(t,a){console.log("status",t),console.log("returnobj",a);var r={razorpay_order_id:"",paymentStatus:"",paymentResponse:""};"success"==t&&(r.razorpay_order_id=a.razorpay_order_id,r.paymentStatus=t,r.paymentResponse=a),"failed"==t&&(r.razorpay_order_id=a.error.metadata.order_id,r.paymentStatus=t,r.paymentResponse=a);try{M.a.Payment.updatePaymentStatus(r).then((function(a){console.log(a.body.record),200==a.statusCode&&"success"==t&&L("online",r.razorpay_order_id),200==a.statusCode&&"failed"==t&&e.history.push("/orderFailed")}),(function(e){console.log(e.response.body.message)}))}catch(n){alert(n)}},E=function(){var e=!0;return y(!1),S(!1),p(!1),void 0!=l.name&&""!=l.name||(y(!0),e=!1),void 0!=l.phone&&""!=l.phone||(p(!0),e=!1),void 0!=l.address&&""!=l.address||(S(!0),e=!1),e};return M.a.getToken(),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(ve.a,{fluid:!0,children:Object(V.jsxs)(re.a,{className:"p-3 order-summary",children:[Object(V.jsxs)(K.a,{md:6,children:[Object(V.jsx)("h4",{children:"Shipping Details"}),Object(V.jsxs)(W.a,{children:[Object(V.jsxs)(W.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"Name"}),Object(V.jsx)(W.a.Control,{type:"text",name:"name",onChange:D,isInvalid:f}),Object(V.jsx)(W.a.Control.Feedback,{type:"invalid",children:"Please provide your name."})]}),Object(V.jsxs)(W.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"Address"}),Object(V.jsx)(W.a.Control,{type:"textarea",name:"address",placeholder:"Line 1",onChange:D,isInvalid:w}),Object(V.jsx)(W.a.Control.Feedback,{type:"invalid",children:"Please provide your address."})]}),Object(V.jsxs)(W.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"Street/Mohalla"}),Object(V.jsx)(W.a.Control,{type:"textarea",name:"street",onChange:D})]}),Object(V.jsxs)(W.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"Landmark"}),Object(V.jsx)(W.a.Control,{type:"textarea",name:"landmark",onChange:D})]}),Object(V.jsxs)(W.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"Mobile no."}),Object(V.jsx)(W.a.Control,{type:"text",name:"phone",onChange:D,isInvalid:x}),Object(V.jsx)(W.a.Control.Feedback,{type:"invalid",children:"Please provide your phone no.."})]}),Object(V.jsxs)(W.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"City"}),Object(V.jsx)(W.a.Control,{type:"text",name:"city",onChange:D,value:"barh",readOnly:!0})]}),Object(V.jsx)(W.a.Group,{children:Object(V.jsx)(Z.a,{variant:"danger",type:"button",onClick:function(e){return P()},children:"Place Order"})})]})]}),Object(V.jsxs)(K.a,{md:6,children:[Object(V.jsx)("p",{children:"Order Summary"}),Object(V.jsxs)("h5",{children:["You have ",I," items in your food cart"]}),Object(V.jsxs)(De.a,{borderless:!0,children:[Object(V.jsx)("tbody",{className:"order-summary-border",children:k}),Object(V.jsxs)("tfoot",{children:[(null===c||void 0===c||null===(a=c.errors)||void 0===a?void 0:a.body.record.isPrimeMember)?Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Prime member discount"})}),Object(V.jsx)("td",{children:"10%"})]}):"",Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Total"})}),Object(V.jsxs)("td",{children:[Object(V.jsx)("span",{children:"\u20b9"})," ",N]})]})]})]})]})]})}),Object(V.jsxs)(q.a,{show:u,onHide:P,centered:!0,children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"Payment Mode"})}),Object(V.jsxs)(q.a.Body,{children:[Object(V.jsx)(Z.a,{variant:"success",onClick:function(){return L()},children:"Cash on Delivery"}),Object(V.jsx)(Z.a,{variant:"primary",onClick:function(){M.a.Payment.getRazorpayOrderId({amount:N,orderForService:"Food Order"}).then((function(e){if(200==e.statusCode){console.log(e);var t={key:"123",amount:100*e.body.record.amount,currency:"INR",name:"Guest",description:"Food Order Transaction",image:"https://example.com/your_logo",order_id:e.body.record.id,handler:function(e){A("success",e)},theme:{color:"#3399cc"}},a=new window.Razorpay(t);a.on("payment.failed",(function(e){A("failed",e)})),a.open()}else alert(e.body)}))},children:"Pay Now"})]})]})]})};var Ge=function(){return Object(o.c)()({type:C}),Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(Q.a,{show:!0,className:"login-div",children:[Object(V.jsx)(Q.a.Heading,{children:"Success!"}),Object(V.jsxs)("p",{children:["Our representative will call you for order confirmation within 2 minutes. If you not get a call please dial ",Object(V.jsx)("b",{children:"9990708074"}),"."]}),Object(V.jsx)("hr",{}),Object(V.jsx)("div",{className:"d-flex justify-content-end",children:Object(V.jsx)(G.Link,{to:"/",children:Object(V.jsx)(Z.a,{variant:"danger",children:"Ok"})})})]})})},Fe=a(21);var Re=function(e){var t=Object(r.useState)([]),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),o=Object(Y.a)(s,2),i=o[0],l=o[1],j=Object(r.useState)({heading:"",message:"",data:{}}),b=Object(Y.a)(j,2),u=b[0],h=b[1],O=function(t){"yes"==t&&(e.showLoader(!0),M.a.Order.deleteCategory(u.data.name).then((function(t){e.showLoader(!1),console.log(t),200==t.statusCode&&m()}))),l(!1)};Object(r.useEffect)((function(){"categories"==e.selectedTab&&m()}),[e.selectedTab]);var m=function(){console.log("category run"),e.showLoader(!0),M.a.Order.getCategoryAdmin().then((function(t){e.showLoader(!1),200==t.statusCode?c(t.body.record):c([])}))},x=function(e){console.log(e),h({heading:"Delete Category: ".concat(e.name),message:"Are you sure you want to delete category: ".concat(e.name),data:e}),l(!0)},p=Object(r.useMemo)((function(){return n.map((function(e,t){return{col1:t+1,col2:e.name,col3:e}}))}),[n]),g=Object(r.useMemo)((function(){return[{Header:"#",accessor:"col1"},{Header:"Name",accessor:"col2"},{Header:"Action",accessor:"col3"}]}),[]),v=Object(Fe.useTable)({columns:g,data:p,initialState:{pageIndex:0}},Fe.useSortBy,Fe.usePagination),f=v.getTableProps,y=v.getTableBodyProps,C=v.headerGroups,_=(v.rows,v.prepareRow),w=v.pageOptions,S=v.page,I=v.state,N=I.pageIndex,k=(I.pageSize,v.gotoPage,v.previousPage),L=v.nextPage,P=(v.setPageSize,v.canPreviousPage),D=v.canNextPage;return"categories"==e.selectedTab?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Z.a,{type:"button",onClick:function(){return e.changeTab("addCategory")},variant:"danger",children:"Add Category"}),Object(V.jsxs)(De.a,Object(d.a)(Object(d.a)({},f()),{},{responsive:!0,children:[Object(V.jsx)("thead",{children:C.map((function(e){return Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(V.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(V.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(V.jsx)("tbody",Object(d.a)(Object(d.a)({},y()),{},{children:S.map((function(e){return _(e),Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return console.log(e),"col3"!=e.column.id?Object(V.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")})):Object(V.jsx)("td",{children:Object(V.jsx)("span",{onClick:function(){return x(e.value)},children:Object(V.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(V.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(V.jsx)("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})})}))}))}))}))]})),Object(V.jsxs)("div",{children:[Object(V.jsx)("button",{onClick:function(){return k()},disabled:!P,children:"Previous Page"}),Object(V.jsx)("button",{onClick:function(){return L()},disabled:!D,children:"Next Page"}),Object(V.jsxs)("div",{children:["Page"," ",Object(V.jsxs)("em",{children:[N+1," of ",w.length]})]})]}),Object(V.jsxs)(q.a,{show:i,onHide:O,children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:u.heading})}),Object(V.jsx)(q.a.Body,{children:u.message}),Object(V.jsxs)(q.a.Footer,{children:[Object(V.jsx)(Z.a,{variant:"secondary",onClick:function(){return O("yes")},children:"Yes"}),Object(V.jsx)(Z.a,{variant:"primary",onClick:function(){return O("no")},children:"Cancel"})]})]})]}):""},He=a(251);var Be=function(e){var t=[];Object(r.useEffect)((function(){"orders"==e.selectedTab&&E()}),[e.selectedTab]);for(var a=Object(r.useState)([]),n=Object(Y.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)([]),i=Object(Y.a)(o,2),l=i[0],d=i[1],j=Object(r.useState)(0),b=Object(Y.a)(j,2),u=b[0],h=b[1],O=Object(r.useState)(!1),m=Object(Y.a)(O,2),x=m[0],p=m[1],g=Object(r.useState)(0),v=Object(Y.a)(g,2),f=v[0],y=v[1],C=function(e){u>0&&t.push(Object(V.jsx)(He.a.Item,{onClick:function(){return T(e)},active:e==f,children:e+1},e))},_=0;_<=u;_++)C(_);var w,S,I,N,k,L,P,D=Object(V.jsx)("div",{children:Object(V.jsx)(He.a,{children:t})}),A=Object(F.k)(),E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.showLoader(!0),M.a.Order.getOrdersHistoryAdmin(t).then((function(t){e.showLoader(!1),console.log(t.body.record),s(t.body.record);t.body.totalOrders;var a=parseInt(t.body.totalOrders)/10;console.log("totalPage",a),h(a)}),(function(t){console.log(t.response.body.message),"jwt must be provided"==t.response.body.message&&(console.log("login required"),A.push("/login")),e.showLoader(!1)}))},T=function(e){console.log("page",e),y(e),E(e)};return"orders"==e.selectedTab?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(De.a,{responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"#"}),Object(V.jsx)("th",{children:"Customer"}),Object(V.jsx)("th",{children:"Date"}),Object(V.jsx)("th",{children:"Details"}),Object(V.jsx)("th",{children:"Number"}),Object(V.jsx)("th",{children:"Action"})]})}),Object(V.jsx)("tbody",{children:c.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:t+1}),Object(V.jsx)("td",{children:e.shipping.name}),Object(V.jsx)("td",{children:e.datePlaced}),Object(V.jsx)("td",{children:e.items.map((function(e){return Object(V.jsxs)("span",{children:[e.item.title," Quantity:",e.quantity,Object(V.jsx)("br",{})]})}))}),Object(V.jsx)("td",{children:e.shipping.phone}),Object(V.jsx)("td",{children:Object(V.jsx)(Z.a,{type:"button",onClick:function(){return function(e){d(e),p(!0)}(e)},children:"View"})})]})}))})]}),D,Object(V.jsxs)(q.a,{show:x,onHide:function(){return p(!1)},children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"Order Details"})}),Object(V.jsxs)(q.a.Body,{children:[Object(V.jsxs)(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsx)("tr",{children:Object(V.jsx)("td",{colSpan:"6",children:Object(V.jsx)("h4",{children:"Shipping Details"})})})}),Object(V.jsx)("tbody",{children:Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Name:"})," ",null===l||void 0===l||null===(w=l.shipping)||void 0===w?void 0:w.name]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Address:"})," ",null===l||void 0===l||null===(S=l.shipping)||void 0===S?void 0:S.address]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Street:"})," ",null===l||void 0===l||null===(I=l.shipping)||void 0===I?void 0:I.street]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Landmark:"})," ",null===l||void 0===l||null===(N=l.shipping)||void 0===N?void 0:N.landmark]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Phone:"})," ",null===l||void 0===l||null===(k=l.shipping)||void 0===k?void 0:k.phone]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"City:"})," ",null===l||void 0===l||null===(L=l.shipping)||void 0===L?void 0:L.city]})]})})]}),Object(V.jsxs)(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsx)("tr",{children:Object(V.jsx)("td",{colSpan:"4",children:Object(V.jsx)("h4",{children:"Products"})})})}),Object(V.jsx)("tbody",{children:null===l||void 0===l||null===(P=l.items)||void 0===P?void 0:P.map((function(e){return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Title:"})," ",e.item.title]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Description:"})," ",e.item.description]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Quantity:"})," ",e.quantity]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Total Price:"})," ",parseInt(e.quantity)*e.perItemPrice]})]})}))})]}),Object(V.jsxs)(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsx)("tr",{children:Object(V.jsx)("td",{colSpan:"4",children:Object(V.jsx)("h4",{children:"Payment Details"})})})}),Object(V.jsx)("tbody",{children:Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Payment Mode: "}),l.paymentMode]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Razorpay Order id: "}),l.razorpay_order_id]})]})})]}),Object(V.jsxs)(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsx)("tr",{children:Object(V.jsx)("td",{colSpan:"4",children:Object(V.jsx)("h4",{children:"Bill Details"})})})}),Object(V.jsxs)("tbody",{children:[l.isDiscountApplied?Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Prime Member Discount:"})}),Object(V.jsx)("td",{children:"10%"})]}):"",Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Total Bill Amount"})}),Object(V.jsx)("td",{children:l.totalBillAmount})]})]})]})]})]})]}):""};var ze=function(e){var t=Object(r.useState)(""),a=Object(Y.a)(t,2),n=a[0],c=a[1];return"addCategory"==e.selectedTab?Object(V.jsxs)(W.a,{onSubmit:function(t){e.showLoader(!1),M.a.Order.addCategory({name:n}).then((function(t){e.showLoader(!1),200==t.statusCode&&(console.log(e),e.changeTab("categories"))})),t.preventDefault()},children:[Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,md:"4",controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Category Name:"}),Object(V.jsx)(W.a.Control,{type:"text",placeholder:"",onChange:function(e){c(e.target.value)}})]})}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",children:"Save"})]}):""},qe=a(242);var Ve=function(e){Object(r.useEffect)((function(){"products"==e.selectedTab&&x()}),[e.selectedTab]);var t=Object(r.useState)([]),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),i=Object(Y.a)(s,2),l=i[0],j=i[1],b=Object(r.useState)({heading:"",message:"",data:{}}),u=Object(Y.a)(b,2),h=u[0],O=u[1],m=Object(o.c)(),x=function(){e.showLoader(!0),M.a.Order.getProducts().then((function(t){e.showLoader(!1),200==t.statusCode?c(t.body.record):c([])}))},p=function(t){"yes"==t&&(e.showLoader(!0),M.a.Order.deleteProduct(h.data.title).then((function(t){e.showLoader(!1),200==t.statusCode&&x()}))),j(!1)},g=function(e){console.log(e),O({heading:"Delete Product: ".concat(e.title),message:"Are you sure you want to delete Product: ".concat(e.title),data:e}),j(!0)},v=Object(r.useMemo)((function(){return[{Header:"#",accessor:"col1"},{Header:"Image",accessor:"col2"},{Header:"Title",accessor:"col3"},{Header:"Description",accessor:"col4"},{Header:"Price",accessor:"col5"},{Header:"Category",accessor:"col6"},{Header:"Action",accessor:"col7"}]}),[]),f=Object(r.useMemo)((function(){return n.map((function(e,t){return{col1:t+1,col2:e.imageUrl,col3:e.title,col4:e.description,col5:e.price,col6:e.category,col7:e}}))}),[n]),y=Object(Fe.useTable)({columns:v,data:f,initialState:{pageIndex:0}},Fe.useSortBy,Fe.usePagination),C=y.getTableProps,w=y.getTableBodyProps,S=y.headerGroups,I=(y.rows,y.prepareRow),N=y.pageOptions,k=y.page,L=y.state,P=L.pageIndex,D=(L.pageSize,y.gotoPage,y.previousPage),A=y.nextPage,E=(y.setPageSize,y.canPreviousPage),T=y.canNextPage;return"products"==e.selectedTab?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Z.a,{type:"button",onClick:function(){return e.changeTab("addProduct")},variant:"danger",children:"Add Product"}),Object(V.jsxs)(De.a,Object(d.a)(Object(d.a)({},C()),{},{responsive:!0,children:[Object(V.jsx)("thead",{children:S.map((function(e){return Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(V.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(V.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(V.jsx)("tbody",Object(d.a)(Object(d.a)({},w()),{},{children:k.map((function(t){return I(t),Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return console.log(t),"col2"==t.column.id?Object(V.jsx)("td",{children:""!=t.value?Object(V.jsx)(qe.a,{src:t.value,className:"product-image",thumbnail:!0}):"No Image"}):"col7"!=t.column.id?Object(V.jsx)("td",Object(d.a)(Object(d.a)({},t.getCellProps()),{},{children:t.render("Cell")})):Object(V.jsxs)("td",{children:[Object(V.jsx)("span",{onClick:function(){return g(t.value)},children:Object(V.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(V.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(V.jsx)("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})}),Object(V.jsx)("span",{className:"ml-2",onClick:function(){return function(t){m({type:_,data:t}),e.changeTab("editProduct")}(t.value)},children:Object(V.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-pencil-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(V.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),Object(V.jsx)("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]})})]})}))}))}))}))]})),Object(V.jsxs)("div",{children:[Object(V.jsx)("button",{onClick:function(){return D()},disabled:!E,children:"Previous Page"}),Object(V.jsx)("button",{onClick:function(){return A()},disabled:!T,children:"Next Page"}),Object(V.jsxs)("div",{children:["Page"," ",Object(V.jsxs)("em",{children:[P+1," of ",N.length]})]})]}),Object(V.jsxs)(q.a,{show:l,onHide:p,children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:h.heading})}),Object(V.jsx)(q.a.Body,{children:h.message}),Object(V.jsxs)(q.a.Footer,{children:[Object(V.jsx)(Z.a,{variant:"secondary",onClick:function(){return p("yes")},children:"Yes"}),Object(V.jsx)(Z.a,{variant:"primary",onClick:function(){return p("no")},children:"Cancel"})]})]})]}):""};var Ue=function(e){var t=Object(r.useState)([]),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)({}),o=Object(Y.a)(s,2),i=o[0],l=o[1];Object(r.useEffect)((function(){"addProduct"==e.selectedTab&&d()}),[e.selectedTab]);var d=function(){e.showLoader(!0),M.a.Order.getCategoryAdmin().then((function(t){e.showLoader(!1),200==t.statusCode?c(t.body.record):c([])}))},j=function(e){i[e.target.name]=e.target.value,l(i),console.log(i)};return"addProduct"==e.selectedTab?Object(V.jsxs)(W.a,{onSubmit:function(t){e.showLoader(!1),console.log(i),M.a.Order.addProducts(i).then((function(t){e.showLoader(!1),200==t.statusCode&&e.changeTab("products")})),t.preventDefault()},children:[Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlSelect1",children:[Object(V.jsx)(W.a.Label,{children:"Select Category"}),Object(V.jsxs)(W.a.Control,{as:"select",name:"category",onChange:j,required:!0,children:[Object(V.jsx)("option",{children:"Select Category"},""),n.map((function(e){return Object(V.jsx)("option",{children:e.name},e.name)}))]})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"Title"}),Object(V.jsx)(W.a.Control,{type:"text",name:"title",onChange:j,required:!0})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlTextarea1",children:[Object(V.jsx)(W.a.Label,{children:"Description"}),Object(V.jsx)(W.a.Control,{as:"textarea",rows:3,name:"description",onChange:j})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlTextarea1",children:[Object(V.jsx)(W.a.Label,{children:"Price"}),Object(V.jsx)(W.a.Control,{type:"number",name:"price",onChange:j})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"ImageURL"}),Object(V.jsx)(W.a.Control,{type:"text",name:"imageURL",onChange:j})]})}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",children:"Save"})]}):""};var Ye=function(e){var t=Object(o.d)((function(e){return e.product})),a=Object(r.useState)([]),n=Object(Y.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)({}),l=Object(Y.a)(i,2),d=(l[0],l[1],Object(o.c)());Object(r.useEffect)((function(){"editProduct"==e.selectedTab&&m()}),[e.selectedTab]);var j,b,u,h,O,m=function(){e.showLoader(!0),M.a.Order.getCategoryAdmin().then((function(t){e.showLoader(!1),200==t.statusCode?s(t.body.record):s([])}))},x=function(e){var t={key:e.target.name,value:e.target.value};d({type:S,data:t})};return"editProduct"==e.selectedTab?Object(V.jsxs)(W.a,{onSubmit:function(a){console.log(t),e.showLoader(!1),M.a.Order.editProducts(t.product).then((function(t){e.showLoader(!1),200==t.statusCode&&e.changeTab("products")})),a.preventDefault()},children:[Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlSelect1",children:[Object(V.jsx)(W.a.Label,{children:"Select Category"}),Object(V.jsxs)(W.a.Control,{as:"select",value:null===(j=t.product)||void 0===j?void 0:j.category,name:"category",onChange:x,required:!0,children:[Object(V.jsx)("option",{children:"Select Category"},""),c.map((function(e){return Object(V.jsx)("option",{children:e.name},e.name)}))]})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlInput1",children:[Object(V.jsx)(W.a.Label,{children:"Title"}),Object(V.jsx)(W.a.Control,{type:"text",value:null===(b=t.product)||void 0===b?void 0:b.title,name:"title",onChange:x,required:!0})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlTextarea1",children:[Object(V.jsx)(W.a.Label,{children:"Description"}),Object(V.jsx)(W.a.Control,{as:"textarea",value:null===(u=t.product)||void 0===u?void 0:u.description,rows:3,name:"description",onChange:x})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlTextarea1",children:[Object(V.jsx)(W.a.Label,{children:"Price"}),Object(V.jsx)(W.a.Control,{type:"number",value:null===(h=t.product)||void 0===h?void 0:h.price,name:"price",onChange:x})]})}),Object(V.jsx)(W.a.Row,{children:Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"exampleForm.ControlInput5",children:[Object(V.jsx)(W.a.Label,{children:"ImageURL"}),Object(V.jsx)(W.a.Control,{type:"text",value:null===(O=t.product)||void 0===O?void 0:O.imageUrl,name:"imageUrl",onChange:x})]})}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",children:"Save"})]}):""};var Qe=function(e){var t=Object(r.useState)([]),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),o=Object(Y.a)(s,2),i=o[0],l=o[1],j=Object(r.useState)([]),b=Object(Y.a)(j,2),u=b[0],h=b[1];Object(r.useEffect)((function(){"finance"==e.selectedTab&&O()}),[e.selectedTab]);var O=function(){e.showLoader(!0),M.a.Finance.getAdminItr().then((function(t){e.showLoader(!1),console.log(t.body.record),c(t.body.record)}),(function(t){e.showLoader(!1)}))},m=Object(r.useMemo)((function(){return[{Header:"#",accessor:"col1"},{Header:"FirstName",accessor:"col2"},{Header:"LastName",accessor:"col3"},{Header:"Phone",accessor:"col4"},{Header:"Email",accessor:"col5"},{Header:"Action",accessor:"col6"}]}),[]),x=Object(r.useMemo)((function(){return n.map((function(e,t){return{col1:t+1,col2:e.firstName,col3:e.lastName,col4:e.phone,col5:e.email,col6:e}}))}),[n]),p=Object(Fe.useTable)({columns:m,data:x,initialState:{pageIndex:0}},Fe.useSortBy,Fe.usePagination),g=p.getTableProps,v=p.getTableBodyProps,f=p.headerGroups,y=(p.rows,p.prepareRow),C=p.pageOptions,_=p.page,w=p.state,S=w.pageIndex,I=(w.pageSize,p.gotoPage,p.previousPage),N=p.nextPage,k=(p.setPageSize,p.canPreviousPage),L=p.canNextPage;return"finance"==e.selectedTab?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(De.a,Object(d.a)(Object(d.a)({},g()),{},{responsive:!0,children:[Object(V.jsx)("thead",{children:f.map((function(e){return Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(V.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(V.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(V.jsx)("tbody",Object(d.a)(Object(d.a)({},v()),{},{children:_.map((function(e){return y(e),Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return"col6"==e.column.id?Object(V.jsx)("td",{children:Object(V.jsx)(Z.a,{type:"button",onClick:function(){return t=e.value,h(t),void l(!0);var t},children:"View"})}):Object(V.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(V.jsxs)("div",{children:[Object(V.jsx)("button",{onClick:function(){return I()},disabled:!k,children:"Previous Page"}),Object(V.jsx)("button",{onClick:function(){return N()},disabled:!L,children:"Next Page"}),Object(V.jsxs)("div",{children:["Page"," ",Object(V.jsxs)("em",{children:[S+1," of ",C.length]})]})]}),Object(V.jsxs)(q.a,{show:i,onHide:function(){return l(!1)},children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"User Details"})}),Object(V.jsx)(q.a.Body,{children:Object(V.jsx)(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(V.jsxs)("tbody",{children:[Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"First Name: "})}),Object(V.jsx)("td",{children:u.firstName})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Last Name: "})}),Object(V.jsx)("td",{children:u.lastName})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Phone: "})}),Object(V.jsx)("td",{children:u.phone})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Email: "})}),Object(V.jsx)("td",{children:u.email})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Address: "})}),Object(V.jsx)("td",{children:u.address})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Aadhar: "})}),Object(V.jsx)("td",{children:u.aadhar})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Business: "})}),Object(V.jsx)("td",{children:u.business})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Zip: "})}),Object(V.jsx)("td",{children:u.zip})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Service: "})}),Object(V.jsx)("td",{children:u.service})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Razorpay order id: "})}),Object(V.jsx)("td",{children:u.razorpay_order_id})]})]})})})]})]}):""};var We=function(e){var t=Object(r.useState)([]),a=Object(Y.a)(t,2),n=a[0],c=a[1];Object(r.useEffect)((function(){"form16"==e.selectedTab&&s()}),[e.selectedTab]);var s=function(){e.showLoader(!0),M.a.Finance.getAdminForm16().then((function(t){e.showLoader(!1),console.log(t.body.record),c(t.body.record)}),(function(t){e.showLoader(!1)}))},o=Object(r.useMemo)((function(){return[{Header:"#",accessor:"col1"},{Header:"Phone",accessor:"col2"},{Header:"Form16",accessor:"col3"},{Header:"Razorpay Order Id",accessor:"col4"}]}),[]),i=Object(r.useMemo)((function(){return n.map((function(e,t){var a=e.filePath.split("/"),r=a[a.length-1];return{col1:t+1,col2:e.phone,col3:r,col4:e.razorpay_order_id}}))}),[n]),l=Object(Fe.useTable)({columns:o,data:i,initialState:{pageIndex:0}},Fe.useSortBy,Fe.usePagination),j=l.getTableProps,b=l.getTableBodyProps,u=l.headerGroups,h=(l.rows,l.prepareRow),O=l.pageOptions,m=l.page,x=l.state,p=x.pageIndex,g=(x.pageSize,l.gotoPage,l.previousPage),v=l.nextPage,f=(l.setPageSize,l.canPreviousPage),y=l.canNextPage;return"form16"==e.selectedTab?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(De.a,Object(d.a)(Object(d.a)({},j()),{},{responsive:!0,children:[Object(V.jsx)("thead",{children:u.map((function(e){return Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(V.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(V.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(V.jsx)("tbody",Object(d.a)(Object(d.a)({},b()),{},{children:m.map((function(e){return h(e),Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return"col3"==e.column.id?Object(V.jsx)("td",{children:Object(V.jsx)(G.Link,{className:"btn btn-danger",target:"_blank",to:"/api/download?fileName=".concat(e.value),children:"Download"})}):Object(V.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(V.jsxs)("div",{children:[Object(V.jsx)("button",{onClick:function(){return g()},disabled:!f,children:"Previous Page"}),Object(V.jsx)("button",{onClick:function(){return v()},disabled:!y,children:"Next Page"}),Object(V.jsxs)("div",{children:["Page"," ",Object(V.jsxs)("em",{children:[p+1," of ",O.length]})]})]})]}):""};var Ke=function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)("categories"),o=Object(Y.a)(s,2),i=o[0],l=o[1],d=function(e){c(e)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";l(e)};return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(ve.a,{fluid:!0,children:Object(V.jsxs)(re.a,{children:[Object(V.jsx)(K.a,{md:3,className:"p-4",children:Object(V.jsxs)(Se.a,{children:[Object(V.jsx)(Se.a.Item,{active:"categories"==i,action:!0,onClick:function(){return j("categories")},children:"Category Management"},"categories"),Object(V.jsx)(Se.a.Item,{active:"products"==i,action:!0,onClick:function(){return j("products")},children:"Product Management"},"products"),Object(V.jsx)(Se.a.Item,{active:"orders"==i,action:!0,onClick:function(){return j("orders")},children:"Order History"},"orders"),Object(V.jsx)(Se.a.Item,{active:"finance"==i,action:!0,onClick:function(){return j("finance")},children:"ITR Requests"},"finance"),Object(V.jsx)(Se.a.Item,{active:"form16"==i,action:!0,onClick:function(){return j("form16")},children:"Form16 Requests"},"form16")]})}),Object(V.jsxs)(K.a,{md:9,className:"p-4 production-col",children:[Object(V.jsx)(le,{show:n}),Object(V.jsx)(Re,{changeTab:j,selectedTab:i,showLoader:d}),Object(V.jsx)(Ve,{changeTab:j,selectedTab:i,showLoader:d}),Object(V.jsx)(Be,{selectedTab:i,showLoader:d}),Object(V.jsx)(ze,{changeTab:j,selectedTab:i,showLoader:d}),Object(V.jsx)(Ue,{changeTab:j,selectedTab:i,showLoader:d}),Object(V.jsx)(Ye,{changeTab:j,selectedTab:i,showLoader:d}),Object(V.jsx)(Qe,{changeTab:j,selectedTab:i,showLoader:d}),Object(V.jsx)(We,{changeTab:j,selectedTab:i,showLoader:d})]})]})})})};var Ze=function(e){var t,a,n,c,s;Object(r.useEffect)((function(){v()}),[]);var o=Object(r.useState)([]),i=Object(Y.a)(o,2),l=i[0],d=i[1],j=Object(r.useState)([]),b=Object(Y.a)(j,2),u=b[0],h=b[1],O=Object(r.useState)(!1),m=Object(Y.a)(O,2),x=m[0],p=m[1],g=Object(F.k)(),v=function(){e.showLoader(!0),M.a.Order.getOrderHistoryByUserEmail().then((function(t){e.showLoader(!1),console.log(t.body.record),d(t.body.record)}),(function(t){console.log(t.response.body.message),"jwt must be provided"==t.response.body.message&&(console.log("login required"),g.push("/login")),e.showLoader(!1)}))};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(De.a,{responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"#"}),Object(V.jsx)("th",{children:"Customer"}),Object(V.jsx)("th",{children:"Date"}),Object(V.jsx)("th",{children:"Details"}),Object(V.jsx)("th",{children:"Number"}),Object(V.jsx)("th",{children:"Action"})]})}),Object(V.jsx)("tbody",{children:l.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:t+1}),Object(V.jsx)("td",{children:e.shipping.name}),Object(V.jsx)("td",{children:e.datePlaced}),Object(V.jsx)("td",{children:e.items.map((function(e){return Object(V.jsxs)("span",{children:[e.item.title," Quantity:",e.quantity,Object(V.jsx)("br",{})]})}))}),Object(V.jsx)("td",{children:e.shipping.phone}),Object(V.jsx)("td",{children:Object(V.jsx)(Z.a,{type:"button",onClick:function(){return function(e){h(e),p(!0)}(e)},children:"View"})})]})}))})]}),Object(V.jsxs)(q.a,{show:x,onHide:function(){return p(!1)},children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"Order Details"})}),Object(V.jsxs)(q.a.Body,{children:[Object(V.jsxs)(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsx)("tr",{children:Object(V.jsx)("td",{colSpan:"4",children:Object(V.jsx)("h4",{children:"Shipping Details"})})})}),Object(V.jsx)("tbody",{children:Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Name:"})," ",null===u||void 0===u||null===(t=u.shipping)||void 0===t?void 0:t.name]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Address:"})," ",null===u||void 0===u||null===(a=u.shipping)||void 0===a?void 0:a.address]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Phone:"})," ",null===u||void 0===u||null===(n=u.shipping)||void 0===n?void 0:n.phone]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"City:"})," ",null===u||void 0===u||null===(c=u.shipping)||void 0===c?void 0:c.city]})]})})]}),Object(V.jsxs)(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsx)("tr",{children:Object(V.jsx)("td",{colSpan:"4",children:Object(V.jsx)("h4",{children:"Products"})})})}),Object(V.jsx)("tbody",{children:null===u||void 0===u||null===(s=u.items)||void 0===s?void 0:s.map((function(e){return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Title:"})," ",e.item.title]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Description:"})," ",e.item.description]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Quantity:"})," ",e.quantity]}),Object(V.jsxs)("td",{children:[Object(V.jsx)("b",{children:"Total Price:"})," ",parseInt(e.quantity)*e.perItemPrice]})]})}))})]}),Object(V.jsxs)(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsx)("tr",{children:Object(V.jsx)("td",{colSpan:"4",children:Object(V.jsx)("h4",{children:"Bill Details"})})})}),Object(V.jsxs)("tbody",{children:[u.isDiscountApplied?Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Prime Member Discount:"})}),Object(V.jsx)("td",{children:"10%"})]}):"",Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)("b",{children:"Total Bill Amount"})}),Object(V.jsx)("td",{children:u.totalBillAmount})]})]})]})]})]})]})};var Je=function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],c=a[1];return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(ve.a,{fluid:!0,children:Object(V.jsxs)(re.a,{children:[Object(V.jsx)(K.a,{md:3,className:"p-4",children:Object(V.jsx)(Se.a,{children:Object(V.jsx)(Se.a.Item,{action:!0,active:!0,children:"Order History"})})}),Object(V.jsxs)(K.a,{md:9,className:"p-4 production-col",children:[Object(V.jsx)(le,{show:n}),Object(V.jsx)(Ze,{showLoader:function(e){c(e)}})]})]})})})};var Xe=function(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(Q.a,{show:!0,className:"login-div",children:[Object(V.jsx)(Q.a.Heading,{children:"Filed!"}),Object(V.jsx)("p",{children:"Something went wrong to place order. Please try again."}),Object(V.jsx)("hr",{}),Object(V.jsx)("div",{className:"d-flex justify-content-end",children:Object(V.jsx)(G.Link,{to:"/placeOrder",children:Object(V.jsx)(Z.a,{variant:"danger",children:"Ok"})})})]})})},$e={getMemberGroups:function(){return se.b.get("".concat(se.a,"/memberGroups/entry"))},saveMemberGroups:function(e){return se.b.post("".concat(se.a,"/memberGroups/entry"),e)}},et=a(27),tt=a.n(et);var at=function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),o=Object(Y.a)(s,2),i=o[0],l=o[1];Object(r.useEffect)((function(){d()}),[]);var d=function(){c(!0),$e.getMemberGroups().then((function(e){c(!1),200==e.statusCode?l(e.body.message):l([])}))};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le,{show:n}),Object(V.jsxs)(ve.a,{fluid:!0,children:[Object(V.jsx)("h2",{className:"text-info text-center",children:"Member Groups"}),Object(V.jsx)(re.a,{className:"mb-5 mt-3",children:Object(V.jsx)(K.a,{children:Object(V.jsx)(G.Link,{to:"/addMemberGroup",children:Object(V.jsx)(Z.a,{variant:"info",size:"lg",active:!0,children:"Add Member Group"})})})}),Object(V.jsx)(re.a,{children:Object(V.jsx)(K.a,{children:Object(V.jsxs)(De.a,{className:" shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{className:"bg-primary",children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Group Code"}),Object(V.jsx)("th",{children:"Name"}),Object(V.jsx)("th",{children:"Remark"}),Object(V.jsx)("th",{children:"Created At"})]})}),Object(V.jsx)("tbody",{children:i.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.group_code}),Object(V.jsx)("td",{children:e.group_name}),Object(V.jsx)("td",{children:e.remark}),Object(V.jsx)("td",{children:tt()(e.created_at).format("DD-MM-YYYY HH:SS")})]})}))})]})})})]})]})},rt=a(247),nt=a(42);var ct=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(r.useState)({}),n=Object(Y.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(!1),j=Object(Y.a)(i,2),b=j[0],u=j[1],h=Object(r.useState)({isShow:!1,type:"",message:""}),O=Object(Y.a)(h,2),m=O[0],x=O[1],p=Object(nt.a)({initialValues:{group_code:"",group_name:"",remark:"",user_id:t.id},validate:function(e){var t={};return e.group_code||(t.group_code="Group Code is Required"),t},onSubmit:function(){var e=Object(we.a)(_e.a.mark((function e(t){var a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,$e.saveMemberGroups(t);case 4:a=e.sent,u(!1),200==a.statusCode?(x({isShow:!0,type:"bg-success",message:a.body.message}),p.resetForm()):x({isShow:!0,type:"bg-danger",message:a.body.message}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),u(!1),x({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),handleChange:function(){s((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},c.target.name,c.target.value))}))}});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(rt.a,{autohide:!0,delay:3e3,show:m.isShow,onClose:function(){return x({isShow:!1,type:"",message:""})},className:"loader "+m.type,children:[Object(V.jsx)(rt.a.Header,{children:Object(V.jsxs)("strong",{className:"me-auto",children:["bg-danger"==m.type?"Error":"Success"," Message"]})}),Object(V.jsx)(rt.a.Body,{className:"Dark",children:m.message})]},1),Object(V.jsx)(le,{show:b}),Object(V.jsx)("h2",{className:"text-info text-center",children:"Add Member Group"}),Object(V.jsx)(re.a,{children:Object(V.jsx)(K.a,{md:6,children:Object(V.jsx)(ve.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(V.jsxs)(W.a,{onSubmit:p.handleSubmit,children:[Object(V.jsxs)(W.a.Group,{className:"mb-3 form-group required",controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Group Code"}),Object(V.jsx)(W.a.Control,{type:"text",name:"group_code",placeholder:"Enter group code",onChange:p.handleChange,value:p.values.group_code}),p.touched.group_code&&p.errors.group_code?Object(V.jsx)("div",{class:"text-danger",children:p.errors.group_code}):null]}),Object(V.jsxs)(W.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Group Name"}),Object(V.jsx)(W.a.Control,{type:"text",name:"group_name",placeholder:"Enter group name",onChange:p.handleChange,value:p.values.group_name})]}),Object(V.jsxs)(W.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(V.jsx)(W.a.Label,{children:"Remark"}),Object(V.jsx)(W.a.Control,{as:"textarea",rows:3,name:"remark",onChange:p.handleChange,value:p.values.remark})]}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",children:"Save"})]})})})})]})},st={getMemberDetailsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return se.b.get("".concat(se.a,"/member/entry/").concat(e))},saveMemberDetails:function(e){return se.b.post("".concat(se.a,"/member/entry"),e)},deleteMember:function(e){return se.b.del("".concat(se.a,"/member/entry/").concat(e))},editMember:function(e,t){return se.b.put("".concat(se.a,"/member/entry/").concat(t),e)}};var ot=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(F.k)(),n=Object(r.useState)(new Date),c=Object(Y.a)(n,2),s=c[0],i=c[1],l=Object(r.useState)(),d=Object(Y.a)(l,2),j=d[0],b=d[1],u=Object(r.useState)({}),h=Object(Y.a)(u,2),O=(h[0],h[1],Object(r.useState)(!1)),m=Object(Y.a)(O,2),x=m[0],p=m[1],g=Object(r.useState)([]),v=Object(Y.a)(g,2),f=v[0],y=v[1],C=Object(r.useState)({isShow:!1,type:"",message:""}),_=Object(Y.a)(C,2),w=_[0],S=_[1];Object(r.useEffect)((function(){console.log(e),e.location.state&&N(e.location.state),I()}),[]);var I=function(){var e=Object(we.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,$e.getMemberGroups();case 4:t=e.sent,p(!1),y(t.body.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),p(!1),S({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(we.a)(_e.a.mark((function e(t){var a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,st.getMemberDetailsData(t);case 4:a=e.sent,console.log(a),k.values.aadhar_number=a.body.message[0].aadhar_number,k.values.member_name=a.body.message[0].member_name,k.values.gender=a.body.message[0].gender,k.values.age=a.body.message[0].age,k.values.marital_status=a.body.message[0].marital_status,k.values.mobile_number=a.body.message[0].mobile_number,k.values.email_id=a.body.message[0].email_id,k.values.member_group_id=a.body.message[0].member_group_id,k.values.pan_card_number=a.body.message[0].pan_card_number,k.values.driving_license_number=a.body.message[0].driving_license_number,k.values.voter_id_number=a.body.message[0].voter_id_number,k.values.ration_card_number=a.body.message[0].ration_card_number,k.values.bank_account=a.body.message[0].bank_account,k.values.bank_ifsc_code=a.body.message[0].bank_ifsc_code,k.values.bank_account_holder=a.body.message[0].bank_account_holder,k.values.enrollment_date=a.body.message[0].enrollment_date,i(new Date(a.body.message[0].enrollment_date)),k.values.date_of_birth=a.body.message[0].date_of_birth,b(new Date(a.body.message[0].date_of_birth)),p(!1),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),p(!1),S({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}(),k=Object(nt.a)({initialValues:{enrollment_date:s,date_of_birth:j,member_name:"",gender:"",age:"",marital_status:"",mobile_number:"",email_id:"",member_group_id:"",aadhar_number:"",pan_card_number:"",driving_license_number:"",voter_id_number:"",ration_card_number:"",bank_account:"",bank_ifsc_code:"",bank_account_holder:"",user_id:t.id},validate:function(e){var t={};return e.member_name||(t.member_name="Please provide member name"),t},onSubmit:function(){var t=Object(we.a)(_e.a.mark((function t(r){var n;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(!0),t.prev=1,r.enrollment_date=s,r.date_of_birth=j,n=[],!e.location.state){t.next=11;break}return t.next=8,st.editMember(r,e.location.state);case 8:n=t.sent,t.next=14;break;case 11:return t.next=13,st.saveMemberDetails(r);case 13:n=t.sent;case 14:p(!1),200==n.statusCode?(k.resetForm(),e.location.state&&a.push("/member"),S({isShow:!0,type:"bg-success",message:n.body.message})):S({isShow:!0,type:"bg-danger",message:n.body.message}),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0.response.body.message),p(!1),S({isShow:!0,type:"bg-danger",message:t.t0.response.body.message});case 23:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}()});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(rt.a,{autohide:!0,delay:3e3,show:w.isShow,onClose:function(){return S({isShow:!1,type:"",message:""})},className:"loader "+w.type,children:[Object(V.jsx)(rt.a.Header,{children:Object(V.jsxs)("strong",{className:"me-auto",children:["bg-danger"==w.type?"Error":"Success"," Message"]})}),Object(V.jsx)(rt.a.Body,{className:"Dark",children:w.message})]},1),Object(V.jsx)(le,{show:x}),Object(V.jsx)("h2",{className:"text-info text-center",children:"Add Member"}),Object(V.jsx)(ve.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(V.jsxs)(W.a,{onSubmit:k.handleSubmit,children:[Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,className:"form-group required",controlId:"formGridEnroll",children:[Object(V.jsx)(W.a.Label,{children:"Enrollment Date"}),Object(V.jsx)(X.a,{class:"form-control",selected:s,onChange:function(e){return i(e)},name:"enrollment_date"})]}),Object(V.jsxs)(W.a.Group,{as:K.a,className:"form-group required",controlId:"formGridName",children:[Object(V.jsx)(W.a.Label,{children:"Member Name"}),Object(V.jsx)(W.a.Control,{type:"text",placeholder:"member name",name:"member_name",onChange:k.handleChange,value:k.values.member_name}),k.touched.member_name&&k.errors.member_name?Object(V.jsx)("div",{class:"text-danger",children:k.errors.member_name}):null]})]}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",children:[Object(V.jsx)(W.a.Label,{children:"Date of Birth"}),Object(V.jsx)(X.a,{class:"form-control",selected:j,onChange:function(e){return b(e)},name:"date_of_birth"})]}),Object(V.jsxs)(W.a.Group,{as:K.a,className:"mb-3",controlId:"formGridAddress1",children:[Object(V.jsx)(W.a.Label,{children:"Gender"}),Object(V.jsxs)("select",{className:"form-control",name:"gender",onChange:k.handleChange,value:k.values.gender,children:[Object(V.jsx)("option",{value:"",children:"Select Gender"},""),Object(V.jsx)("option",{value:"male",children:"Male"},"male"),Object(V.jsx)("option",{value:"female",children:"Female"},"female")]})]})]}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAge",children:[Object(V.jsx)(W.a.Label,{children:"Age"}),Object(V.jsx)(W.a.Control,{name:"age",onChange:k.handleChange,value:k.values.age})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridState",children:[Object(V.jsx)(W.a.Label,{children:"Marital Status"}),Object(V.jsx)(W.a.Control,{name:"marital_status",onChange:k.handleChange,value:k.values.marital_status})]})]}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAge",children:[Object(V.jsx)(W.a.Label,{children:"Phone number"}),Object(V.jsx)(W.a.Control,{name:"mobile_number",type:"number",onChange:k.handleChange,value:k.values.mobile_number})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridState",children:[Object(V.jsx)(W.a.Label,{children:"Email"}),Object(V.jsx)(W.a.Control,{name:"email_id",onChange:k.handleChange,value:k.values.email_id,type:"text"})]})]}),Object(V.jsx)(re.a,{className:"mb-3",children:Object(V.jsxs)(W.a.Group,{as:K.a,md:6,className:"mb-3",controlId:"formGridAddress1",children:[Object(V.jsx)(W.a.Label,{children:"Member Group"}),Object(V.jsxs)("select",{className:"form-control",name:"member_group_id",onChange:k.handleChange,value:k.values.member_group_id,children:[Object(V.jsx)("option",{value:"",children:"Select Member Group"},""),f.map((function(e,t){return Object(V.jsx)("option",{value:e.group_code,children:e.group_code},e.group_code)}))]})]})}),Object(V.jsx)(re.a,{className:"mb-3",children:Object(V.jsx)(K.a,{children:Object(V.jsx)("h3",{className:"text-info",children:"KYC Information"})})}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAge",children:[Object(V.jsx)(W.a.Label,{children:"Aadhar no."}),Object(V.jsx)(W.a.Control,{name:"aadhar_number",type:"number",onChange:k.handleChange,value:k.values.aadhar_number})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridState",children:[Object(V.jsx)(W.a.Label,{children:"PAN"}),Object(V.jsx)(W.a.Control,{name:"pan_card_number",onChange:k.handleChange,value:k.values.pan_card_number})]})]}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAge",children:[Object(V.jsx)(W.a.Label,{children:"Driving Licence No."}),Object(V.jsx)(W.a.Control,{name:"driving_license_number",onChange:k.handleChange,value:k.values.driving_license_number})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridState",children:[Object(V.jsx)(W.a.Label,{children:"Voter Id No."}),Object(V.jsx)(W.a.Control,{name:"voter_id_number",onChange:k.handleChange,value:k.values.voter_id_number})]})]}),Object(V.jsx)(re.a,{className:"mb-3",children:Object(V.jsxs)(W.a.Group,{as:K.a,md:6,controlId:"formGridAge",children:[Object(V.jsx)(W.a.Label,{children:"Ration Card No."}),Object(V.jsx)(W.a.Control,{name:"ration_card_number",onChange:k.handleChange,value:k.values.ration_card_number})]})}),Object(V.jsx)(re.a,{className:"mb-3",children:Object(V.jsx)(K.a,{children:Object(V.jsx)("h3",{className:"text-info",children:"Bank Details"})})}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridAge",children:[Object(V.jsx)(W.a.Label,{children:"Bank Account No."}),Object(V.jsx)(W.a.Control,{name:"bank_account",type:"number",onChange:k.handleChange,value:k.values.bank_account})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGridState",children:[Object(V.jsx)(W.a.Label,{children:"IFSC code"}),Object(V.jsx)(W.a.Control,{name:"bank_ifsc_code",onChange:k.handleChange,value:k.values.bank_ifsc_code})]})]}),Object(V.jsx)(re.a,{className:"mb-3",children:Object(V.jsxs)(W.a.Group,{as:K.a,md:6,controlId:"formGridAge",children:[Object(V.jsx)(W.a.Label,{children:"Account holder name"}),Object(V.jsx)(W.a.Control,{name:"bank_account_holder",onChange:k.handleChange,value:k.values.bank_account_holder})]})}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",children:"Save"})]})})]})};var it=function(e){var t=Object(F.k)(),a=Object(r.useState)(!1),c=Object(Y.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(!1),l=Object(Y.a)(i,2),j=l[0],b=l[1],u=Object(r.useState)(0),h=Object(Y.a)(u,2),O=h[0],m=h[1],x=Object(r.useState)([]),p=Object(Y.a)(x,2),g=p[0],v=p[1];Object(r.useEffect)((function(){C()}),[]);var f=Object(r.useMemo)((function(){return g.map((function(e,t){return{col1:tt()(e.enrollment_date).format("DD-MM-yyy hh:ss A"),col2:e.member_name,col3:e.member_group_id,col4:e.mobile_number,col5:e}}))}),[g]),y=Object(r.useMemo)((function(){return[{Header:"Enrollment Date",accessor:"col1",allowFilter:!0},{Header:"Member Name",accessor:"col2",allowFilter:!0},{Header:"Member Group Code",accessor:"col3",allowFilter:!0},{Header:"Mobile Number",accessor:"col4",allowFilter:!0},{Header:"Action",accessor:"col5",allowFilter:!1}]}),[]),C=function(){o(!0),st.getMemberDetailsData().then((function(e){o(!1),200==e.statusCode?v(e.body.message):v([])}))},_=function(){var e=Object(we.a)(_e.a.mark((function e(){var t,a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),e.prev=1,o(!0),e.next=5,st.deleteMember(O);case 5:t=e.sent,o(!1),200==t.statusCode&&(a=g.filter((function(e,t){return e.member_id!=O})),v(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),o(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();function w(e){var t=e.column,a=t.filterValue,r=t.preFilteredRows,n=t.setFilter,c=r.length;return Object(V.jsx)("input",{className:"form-control",value:a||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var S=n.a.useMemo((function(){return{Filter:w}}),[]),I=function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return Object(V.jsxs)(He.a,{children:[Object(V.jsx)(He.a.First,{onClick:function(){return R(0)}}),Object(V.jsx)(He.a.Prev,{onClick:function(){return H()},disabled:!z}),t.map((function(e){return Object(V.jsx)(He.a.Item,{active:e===T+1,onClick:function(){return R(e-1)},children:e},e)})),Object(V.jsx)(He.a.Next,{onClick:function(){return B()},disabled:!U}),Object(V.jsx)(He.a.Last,{onClick:function(){return R(e-1)}})]})},N=Object(Fe.useTable)({columns:y,data:f,defaultColumn:S,initialState:{pageIndex:0}},Fe.useFilters,Fe.useSortBy,Fe.usePagination),k=N.getTableProps,L=N.getTableBodyProps,P=N.headerGroups,M=(N.rows,N.prepareRow),D=(N.pageOptions,N.page),A=N.pageCount,E=N.state,T=E.pageIndex,R=(E.pageSize,N.gotoPage),H=N.previousPage,B=N.nextPage,z=(N.setPageSize,N.canPreviousPage),U=N.canNextPage;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(q.a,{show:j,onHide:function(){return b(!1)},children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"Delete Member"})}),Object(V.jsx)(q.a.Body,{children:"Are you sure?"}),Object(V.jsxs)(q.a.Footer,{children:[Object(V.jsx)(Z.a,{variant:"secondary",onClick:function(){return b(!1)},children:"Cancel"}),Object(V.jsx)(Z.a,{variant:"primary",onClick:function(){return _()},children:"Delete"})]})]}),Object(V.jsx)(le,{show:s}),Object(V.jsxs)(ve.a,{fluid:!0,children:[Object(V.jsx)("h2",{className:"text-info text-center",children:"Members"}),Object(V.jsx)(re.a,{className:"mb-5 mt-3",children:Object(V.jsx)(K.a,{children:Object(V.jsx)(G.Link,{to:"/addMember",children:Object(V.jsx)(Z.a,{variant:"info",size:"lg",active:!0,children:"Add Member"})})})}),Object(V.jsx)(re.a,{children:Object(V.jsxs)(K.a,{children:[Object(V.jsx)("div",{className:"text-right",children:I(A)}),Object(V.jsxs)(De.a,Object(d.a)(Object(d.a)({},k()),{},{className:"shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{className:"bg-primary",children:P.map((function(e){return Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(V.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(V.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(V.jsx)("div",{children:e.allowFilter?e.render("Filter"):null})]}))}))}))}))}),Object(V.jsx)("tbody",Object(d.a)(Object(d.a)({},L()),{},{children:D.map((function(e){return M(e),Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return console.log(e),"col5"!=e.column.id?Object(V.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")})):Object(V.jsxs)("td",{children:[Object(V.jsx)(Z.a,{size:"sm",variant:"primary",onClick:function(){t.push("/viewMemberDetail",e.value.member_id)},children:"View"})," ",Object(V.jsx)(Z.a,{size:"sm",variant:"success",onClick:function(){t.push("/addMember",e.value.member_id)},children:"Edit"})," ",Object(V.jsx)(Z.a,{size:"sm",variant:"danger",onClick:function(){return t=e.value.member_id,m(t),void b(!0);var t},children:"Delete"})]})}))}))}))}))]})),Object(V.jsx)("div",{className:"text-right",children:I(A)})]})})]})]})};var lt=function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),o=Object(Y.a)(s,2),i=o[0],l=o[1];Object(r.useEffect)((function(){console.log(e),d()}),[]);var d=function(){c(!0),st.getMemberDetailsData(e.location.state).then((function(e){c(!1),200==e.statusCode?l(e.body.message[0]):l([])}))};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le,{show:n}),Object(V.jsxs)(ve.a,{fluid:!0,children:[Object(V.jsxs)("h2",{className:"text-info text-center",children:["Member Detail - ",i.member_name]}),Object(V.jsx)(re.a,{className:"mb-5 mt-3"}),Object(V.jsx)(re.a,{children:Object(V.jsx)(K.a,{children:Object(V.jsx)(De.a,{className:"shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(V.jsxs)("tbody",{children:[Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Enrollment Date"}),Object(V.jsx)("td",{children:tt()(i.enrollment_date).format("DD-MM-YYYY hh:ss A")})," "]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Member Name"}),"  ",Object(V.jsx)("td",{children:i.member_name})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Member Id"}),"  ",Object(V.jsx)("td",{children:i.member_id})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Gender"}),"  ",Object(V.jsx)("td",{children:i.gender})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"DOB"}),"   ",Object(V.jsxs)("td",{children:[tt()(i.date_of_birth).format("DD-MM-YYYY")," "]})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Age"})," ",Object(V.jsx)("td",{children:i.age})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Marital Status"}),"  ",Object(V.jsx)("td",{children:i.marital_status})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Mobile Number"})," ",Object(V.jsx)("td",{children:i.mobile_number})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Email Id"})," ",Object(V.jsx)("td",{children:i.email_id})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Member Group Id"}),"  ",Object(V.jsx)("td",{children:i.member_group_id})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Aadhar Number"})," ",Object(V.jsx)("td",{children:i.aadhar_number})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Driving License Number"}),"  ",Object(V.jsx)("td",{children:i.driving_license_number})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Voter Id Number "}),"  ",Object(V.jsx)("td",{children:i.voter_id_number})]}),Object(V.jsxs)("tr",{children:["  ",Object(V.jsx)("th",{children:"Ration Card Number"})," ",Object(V.jsx)("td",{children:i.ration_card_number})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"PAN Number"})," ",Object(V.jsx)("td",{children:i.pan_card_number})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Bank Account no."})," ",Object(V.jsx)("td",{children:i.bank_account})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"IFSC Code"})," ",Object(V.jsx)("td",{children:i.bank_ifsc_code})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Bank Account Holder"})," ",Object(V.jsx)("td",{children:i.bank_account_holder})]})]})})})})]})]})},dt={getScheme:function(){return se.b.get("".concat(se.a,"/scheme/entry"))},saveScheme:function(e){return se.b.post("".concat(se.a,"/scheme/entry"),e)},deleteScheme:function(e){return se.b.del("".concat(se.a,"/scheme/entry/").concat(e))},getLoanAppInitialData:function(){return[se.b.get("".concat(se.a,"/scheme/entry")),se.b.get("".concat(se.a,"/member/entry/all"))]}},jt={applyForloan:function(e){return se.b.post("".concat(se.a,"/groupLoan/applyGroupLoan"),e)},getApprovalList:function(){return se.b.get("".concat(se.a,"/groupLoan/entry/pendingApproval"))},getDisburseList:function(){return se.b.get("".concat(se.a,"/groupLoan/entry/pendingDisburse"))},getLoanDetailbyId:function(e){return se.b.get("".concat(se.a,"/groupLoan/entry/").concat(e))},approveRejectLoan:function(e){return se.b.post("".concat(se.a,"/groupLoan/approveLoan"),e)},getAllLoanApplications:function(){return se.b.get("".concat(se.a,"/groupLoan/entry/all"))},disburseRejectLoan:function(e){return se.b.post("".concat(se.a,"/groupLoan/disburseLoan"),e)}},bt={calculateEMI:function(e){return se.b.post("".concat(se.a,"/emis/calculateEMI"),e)},getDueEmis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt()().format("yyyy-MM-DD");return se.b.get("".concat(se.a,"/emis/dueEMIs/").concat(e))},paidEmi:function(e){return se.b.put("".concat(se.a,"/emis/entry"),{id:e})},getPaidEmis:function(e){return se.b.get("".concat(se.a,"/emis/entry/").concat(e))}};var ut=function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),o=Object(Y.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)([]),j=Object(Y.a)(d,2),b=j[0],u=j[1],h=Object(r.useState)(0),O=Object(Y.a)(h,2),m=O[0],x=O[1];Object(r.useEffect)((function(){p()}),[]);var p=function(){l(!0),dt.getScheme().then((function(e){l(!1),200==e.statusCode?u(e.body.message):u([])}))},g=function(){var e=Object(we.a)(_e.a.mark((function e(){var t,a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.prev=1,l(!0),e.next=5,dt.deleteScheme(m);case 5:t=e.sent,l(!1),200==t.statusCode&&(a=b.filter((function(e,t){return e.id!=m})),u(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),l(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(q.a,{show:n,onHide:function(){return c(!1)},children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"Delete Scheme"})}),Object(V.jsx)(q.a.Body,{children:"Are you sure?"}),Object(V.jsxs)(q.a.Footer,{children:[Object(V.jsx)(Z.a,{variant:"secondary",onClick:function(){return c(!1)},children:"Cancel"}),Object(V.jsx)(Z.a,{variant:"primary",onClick:function(){return g()},children:"Delete"})]})]}),Object(V.jsx)(le,{show:i}),Object(V.jsxs)(ve.a,{fluid:!0,children:[Object(V.jsx)("h2",{className:"text-info text-center",children:"Schemes"}),Object(V.jsx)(re.a,{className:"mb-5 mt-3",children:Object(V.jsx)(K.a,{children:Object(V.jsx)(G.Link,{to:"/addScheme",children:Object(V.jsx)(Z.a,{variant:"info",size:"lg",active:!0,children:"Add Scheme"})})})}),Object(V.jsx)(re.a,{children:Object(V.jsx)(K.a,{children:Object(V.jsxs)(De.a,{className:"shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{className:"bg-primary",children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Scheme code"}),Object(V.jsx)("th",{children:"Scheme name"}),Object(V.jsx)("th",{children:"Max amount"}),Object(V.jsx)("th",{children:"Interest rate (%)"}),Object(V.jsx)("th",{children:"EMI type"}),Object(V.jsx)("th",{children:"Action"})]})}),Object(V.jsx)("tbody",{children:b.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.scheme_code}),Object(V.jsx)("td",{children:e.scheme_name}),Object(V.jsx)("td",{children:e.max_amount}),Object(V.jsxs)("td",{children:[e.interest_rate,"%"]}),Object(V.jsx)("td",{children:e.EMI_type}),Object(V.jsx)("td",{children:Object(V.jsx)(Z.a,{variant:"danger",size:"sm",onClick:function(){return function(e){x(e),c(!0)}(e.id)},className:"ml-2",children:"Delete"})})]})}))})]})})})]})]})};var ht=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(r.useState)({}),n=Object(Y.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(!1),j=Object(Y.a)(i,2),b=j[0],u=j[1],h=Object(r.useState)({isShow:!1,type:"",message:""}),O=Object(Y.a)(h,2),m=O[0],x=O[1],p=Object(nt.a)({initialValues:{scheme_code:"",scheme_name:"",max_amount:"",interest_rate:"",EMI_type:"",user_id:t.id},validate:function(e){var t={};return e.scheme_code||(t.scheme_code="Scheme code is Required!"),e.scheme_name||(t.scheme_name="Scheme name is Required!"),e.max_amount||(t.max_amount="Max amount is Required!"),e.interest_rate||(t.interest_rate="Interest rate is Required!"),e.EMI_type||(t.EMI_type="EMI type is Required!"),t},onSubmit:function(){var e=Object(we.a)(_e.a.mark((function e(t){var a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,dt.saveScheme(t);case 4:a=e.sent,u(!1),200==a.statusCode?(p.resetForm(),x({isShow:!0,type:"bg-success",message:a.body.message})):x({isShow:!0,type:"bg-danger",message:a.body.message}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),u(!1),x({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),handleChange:function(){s((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},c.target.name,c.target.value))}))}});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(rt.a,{autohide:!0,delay:3e3,show:m.isShow,onClose:function(){return x({isShow:!1,type:"",message:""})},className:"loader "+m.type,children:[Object(V.jsx)(rt.a.Header,{children:Object(V.jsxs)("strong",{className:"me-auto",children:["bg-danger"==m.type?"Error":"Success"," Message"]})}),Object(V.jsx)(rt.a.Body,{className:"Dark",children:m.message})]},1),Object(V.jsx)(le,{show:b}),Object(V.jsx)("h2",{className:"text-info text-center",children:"Add Scheme"}),Object(V.jsx)(ve.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(V.jsxs)(W.a,{onSubmit:p.handleSubmit,children:[Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"Scheme Code"}),Object(V.jsx)(W.a.Control,{name:"scheme_code",onChange:p.handleChange,value:p.values.scheme_code}),p.touched.scheme_code&&p.errors.scheme_code?Object(V.jsx)("div",{class:"text-danger",children:p.errors.scheme_code}):null]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",children:[Object(V.jsx)(W.a.Label,{children:"Scheme Name"}),Object(V.jsx)(W.a.Control,{name:"scheme_name",onChange:p.handleChange,value:p.values.scheme_name}),p.touched.scheme_name&&p.errors.scheme_name?Object(V.jsx)("div",{class:"text-danger",children:p.errors.scheme_name}):null]})]}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"Max amount"}),Object(V.jsx)(W.a.Control,{name:"max_amount",type:"number",min:"1",onChange:p.handleChange,value:p.values.max_amount}),p.touched.max_amount&&p.errors.max_amount?Object(V.jsx)("div",{class:"text-danger",children:p.errors.max_amount}):null]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"Interest Rate (in %)"}),Object(V.jsx)(W.a.Control,{name:"interest_rate",type:"number",min:"0",onChange:p.handleChange,value:p.values.interest_rate}),p.touched.interest_rate&&p.errors.interest_rate?Object(V.jsx)("div",{class:"text-danger",children:p.errors.interest_rate}):null]})]}),Object(V.jsx)(re.a,{className:"mb-3",md:6,children:Object(V.jsxs)(W.a.Group,{as:K.a,className:"mb-3",controlId:"formGridAddress1",children:[Object(V.jsx)(W.a.Label,{children:"EMI type"}),Object(V.jsxs)("select",{className:"form-control",name:"EMI_type",onChange:p.handleChange,value:p.values.EMI_type,children:[Object(V.jsx)("option",{value:"",children:"Select EMI type"},""),Object(V.jsx)("option",{value:"flat",children:"Flat rate"},"flat")]}),p.touched.EMI_type&&p.errors.EMI_type?Object(V.jsx)("div",{class:"text-danger",children:p.errors.EMI_type}):null]})}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",children:"Save"})]})})]})};function Ot(){return Object(V.jsx)("div",{children:Object(V.jsxs)(re.a,{xs:1,md:3,className:"g-2",children:[Object(V.jsx)(K.a,{children:Object(V.jsx)(Ne.a,{bg:"primary",text:"dark",className:"m-2",children:Object(V.jsxs)(Ne.a.Body,{children:[Object(V.jsx)(Ne.a.Title,{children:Object(V.jsx)("h2",{class:"text-center",children:"100"})}),Object(V.jsx)(Ne.a.Text,{class:"text-center",children:"Received Amount(Rs)"})]})},0)}),Object(V.jsx)(K.a,{children:Object(V.jsx)(Ne.a,{bg:"danger",text:"dark",className:"m-2",children:Object(V.jsxs)(Ne.a.Body,{children:[Object(V.jsxs)(Ne.a.Title,{children:[Object(V.jsx)("h2",{class:"text-center",children:"10"})," "]}),Object(V.jsx)(Ne.a.Text,{class:"text-center",children:"Paid Amount(Rs)"})]})},0)}),Object(V.jsx)(K.a,{children:Object(V.jsx)(Ne.a,{bg:"success",text:"dark",className:"m-2",children:Object(V.jsxs)(Ne.a.Body,{children:[Object(V.jsxs)(Ne.a.Title,{children:[Object(V.jsx)("h2",{class:"text-center",children:"90"})," "]}),Object(V.jsx)(Ne.a.Text,{class:"text-center",children:"Cash in hand(Rs)"})]})},0)})]})})}var mt=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(r.useState)(new Date),n=Object(Y.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)({}),l=Object(Y.a)(i,2),d=(l[0],l[1],Object(r.useState)(!1)),j=Object(Y.a)(d,2),b=j[0],u=j[1],h=Object(r.useState)({isShow:!1,type:"",message:""}),O=Object(Y.a)(h,2),m=O[0],x=O[1],p=Object(r.useState)([]),g=Object(Y.a)(p,2),v=g[0],f=g[1],y=Object(r.useState)([]),C=Object(Y.a)(y,2),_=C[0],w=C[1],S=Object(r.useState)({}),I=Object(Y.a)(S,2),N=I[0],k=I[1],L=Object(F.k)();Object(r.useEffect)((function(){P()}),[]);var P=function(){var e=Object(we.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Promise.all(dt.getLoanAppInitialData());case 4:t=e.sent,u(!1),w(t[0].body.message),f(t[1].body.message),console.log(t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),u(!1),x({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),M=Object(nt.a)({initialValues:{scheme_id:"",application_date:"",member_id:"",address:"",interest_rate:"",loan_amount:"",EMI_payout:"",EMI_type:"",tenure:"",user_id:t.id},validate:function(e){var t={};return e.scheme_id||(t.scheme_id="Scheme code is Required!"),e.member_id||(t.member_id="Member name is Required!"),e.interest_rate||(t.interest_rate="Interest rate is Required!"),(null===N||void 0===N?void 0:N.interest_rate)>0&&e.interest_rate>(null===N||void 0===N?void 0:N.interest_rate)&&(t.interest_rate="As per the Selected Scheme. Interest rate should not greater than ".concat(N.interest_rate,".")),e.loan_amount||(t.loan_amount="Loan amount is Required!"),(null===N||void 0===N?void 0:N.max_amount)>0&&e.loan_amount>N.max_amount&&(t.loan_amount="As per the Selected Scheme. Loan amount should not greater than ".concat(N.max_amount,".")),e.EMI_payout||(t.EMI_payout="EMI payout is Required!"),e.tenure||(t.tenure="Tenure is Required!"),t},onSubmit:function(){var e=Object(we.a)(_e.a.mark((function e(t){var a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),u(!0),e.prev=2,t.application_date=c,e.next=6,jt.applyForloan(t);case 6:a=e.sent,u(!1),200==a.statusCode?(M.resetForm(),x({isShow:!0,type:"bg-success",message:a.body.message})):x({isShow:!0,type:"bg-danger",message:a.body.message}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),u(!1),x({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(rt.a,{autohide:!0,delay:3e3,show:m.isShow,onClose:function(){return x({isShow:!1,type:"",message:""})},className:"loader "+m.type,children:[Object(V.jsx)(rt.a.Header,{children:Object(V.jsxs)("strong",{className:"me-auto",children:["bg-danger"==m.type?"Error":"Success"," Message"]})}),Object(V.jsx)(rt.a.Body,{className:"Dark",children:m.message})]},1),Object(V.jsx)(le,{show:b}),Object(V.jsx)("h2",{className:"text-info text-center",children:"Add Loan Application"}),Object(V.jsx)(ve.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(V.jsxs)(W.a,{onSubmit:M.handleSubmit,children:[Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,className:"form-group required",controlId:"formGridEnroll",children:[Object(V.jsx)(W.a.Label,{children:"Application Date"}),Object(V.jsx)(X.a,{class:"form-control",selected:c,onChange:function(e){return s(e)},name:"application_date"})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"Member name"}),Object(V.jsxs)("select",{className:"form-control",name:"member_id",onChange:M.handleChange,value:M.values.member_id,children:[Object(V.jsx)("option",{value:"",children:"Select Member"},""),v.map((function(e,t){return Object(V.jsx)("option",{value:e.member_id,children:"name= ".concat(e.member_name," - member_id= ").concat(e.member_id," ")},e.member_id)}))]}),M.touched.member_id&&M.errors.member_id?Object(V.jsx)("div",{class:"text-danger",children:M.errors.member_id}):null]})]}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",children:[Object(V.jsx)(W.a.Label,{children:"Member Address"}),Object(V.jsx)(W.a.Control,{name:"address",as:"textarea",onChange:M.handleChange,value:M.values.address})]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"Scheme"}),Object(V.jsxs)("select",{className:"form-control",name:"scheme_id",onChange:function(e){console.log(e.target.value);var t=_.filter((function(t){return t.scheme_code==e.target.value}));k(t[0]),M.values.EMI_type=t[0].EMI_type,M.values.interest_rate=t[0].interest_rate,M.handleChange(e)},value:M.values.scheme_id,children:[Object(V.jsx)("option",{value:"",children:"Select Scheme"},""),_.map((function(e,t){return Object(V.jsx)("option",{value:e.scheme_code,children:e.scheme_code},e.scheme_code)}))]}),M.touched.scheme_id&&M.errors.scheme_id?Object(V.jsx)("div",{class:"text-danger",children:M.errors.scheme_id}):null]})]}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"Interest Rate (in %)"}),Object(V.jsx)(W.a.Control,{name:"interest_rate",type:"number",min:"0",onChange:M.handleChange,value:M.values.interest_rate}),Object(V.jsx)(W.a.Text,{className:"text-muted",children:"It will change as per scheme."}),M.touched.interest_rate&&M.errors.interest_rate?Object(V.jsx)("div",{class:"text-danger",children:M.errors.interest_rate}):null]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"Loan Amount"}),Object(V.jsx)(W.a.Control,{name:"loan_amount",type:"number",min:"0",onChange:M.handleChange,value:M.values.loan_amount}),Object(V.jsx)(W.a.Text,{className:"text-muted",children:"Default will be Max amount of selected scheme."}),M.touched.loan_amount&&M.errors.loan_amount?Object(V.jsx)("div",{class:"text-danger",children:M.errors.loan_amount}):null]})]}),Object(V.jsxs)(re.a,{className:"mb-3",children:[Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"EMI Payout"}),Object(V.jsxs)("select",{className:"form-control",name:"EMI_payout",onChange:M.handleChange,value:M.values.EMI_payout,children:[Object(V.jsx)("option",{value:"",children:"Select Payout"},""),Object(V.jsx)("option",{value:"weekly",children:"Weekly"},"weekly"),Object(V.jsx)("option",{value:"fortnight",children:"Fortnight"},"monthly")]}),M.touched.EMI_payout&&M.errors.EMI_payout?Object(V.jsx)("div",{class:"text-danger",children:M.errors.EMI_payout}):null]}),Object(V.jsxs)(W.a.Group,{as:K.a,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsxs)(W.a.Label,{children:["Tenure(in ",""!=M.values.EMI_payout?{weekly:"Weeks",monthly:"Months",daily:"Days",fortnight:"Fortnight"}[M.values.EMI_payout]:"Months",")"]}),Object(V.jsx)(W.a.Control,{name:"tenure",type:"number",min:"1",onChange:M.handleChange,value:M.values.tenure}),M.touched.tenure&&M.errors.tenure?Object(V.jsx)("div",{class:"text-danger",children:M.errors.tenure}):null]})]}),Object(V.jsx)(re.a,{className:"mb-3",children:Object(V.jsxs)(W.a.Group,{as:K.a,md:6,controlId:"formGriddob",className:"form-group required",children:[Object(V.jsx)(W.a.Label,{children:"EMI Type"}),Object(V.jsx)(W.a.Control,{name:"EMI_type",type:"text",onChange:M.handleChange,value:M.values.EMI_type,disabled:"disabled"}),Object(V.jsx)(W.a.Text,{className:"text-muted",children:"It will change as per selected scheme."})]})}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",children:"Save"}),Object(V.jsx)(Z.a,{variant:"danger",onClick:function(){L.push("/")},type:"button",className:"ml-2",children:"Cancel"})]})})]})};var xt=function(e){var t=Object(F.k)(),a=Object(r.useState)(!1),n=Object(Y.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)([]),i=Object(Y.a)(o,2),l=i[0],d=i[1];Object(r.useEffect)((function(){j()}),[]);var j=function(){var e=Object(we.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,jt.getApprovalList();case 4:t=e.sent,s(!1),200==t.statusCode&&d(t.body.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le,{show:c}),Object(V.jsxs)(ve.a,{fluid:!0,children:[Object(V.jsx)("h2",{className:"text-info text-center",children:"Applications for Approval"}),Object(V.jsx)(re.a,{children:Object(V.jsx)(K.a,{children:Object(V.jsxs)(De.a,{className:" shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{className:"bg-primary",children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Application Date"}),Object(V.jsx)("th",{children:"Member name"}),Object(V.jsx)("th",{children:"Scheme ID"}),Object(V.jsx)("th",{children:"Loan Amount"}),Object(V.jsx)("th",{children:"Interest rate"}),Object(V.jsx)("th",{children:"Action"})]})}),Object(V.jsx)("tbody",{children:l.map((function(e,a){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:tt()(e.application_date).format("DD-MM-YYYY hh:ss A")}),Object(V.jsx)("td",{children:e.member_name}),Object(V.jsx)("td",{children:e.scheme_id}),Object(V.jsx)("td",{children:e.loan_amount}),Object(V.jsx)("td",{children:e.interest_rate}),Object(V.jsx)("td",{children:Object(V.jsx)(Z.a,{variant:"success",size:"sm",onClick:function(){return a=e.id,void t.push("/loanApprovalDetails",a);var a},children:"Approve"})})]})}))})]})})})]})]})};var pt=function(e){var t=Object(F.k)(),a=Object(r.useState)(!1),n=Object(Y.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)([]),i=Object(Y.a)(o,2),l=i[0],d=i[1];Object(r.useEffect)((function(){j()}),[]);var j=function(){var e=Object(we.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,jt.getDisburseList();case 4:t=e.sent,s(!1),200==t.statusCode&&d(t.body.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le,{show:c}),Object(V.jsxs)(ve.a,{fluid:!0,children:[Object(V.jsx)("h2",{className:"text-info text-center",children:"Applications For Disburse"}),Object(V.jsx)(re.a,{children:Object(V.jsx)(K.a,{children:Object(V.jsxs)(De.a,{className:" shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{className:"bg-primary",children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Application Date"}),Object(V.jsx)("th",{children:"Member name"}),Object(V.jsx)("th",{children:"Scheme ID"}),Object(V.jsx)("th",{children:"Loan Amount"}),Object(V.jsx)("th",{children:"Interest rate"}),Object(V.jsx)("th",{children:"Action"})]})}),Object(V.jsx)("tbody",{children:l.map((function(e,a){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:tt()(e.application_date).format("DD-MM-YYYY hh:ss A")}),Object(V.jsx)("td",{children:e.member_name}),Object(V.jsx)("td",{children:e.scheme_id}),Object(V.jsx)("td",{children:e.loan_amount}),Object(V.jsx)("td",{children:e.interest_rate}),Object(V.jsx)("td",{children:Object(V.jsx)(Z.a,{variant:"success",size:"sm",onClick:function(){return a=e.id,void t.push("/loanApprovalDetails",a);var a},children:"Disburse"})})]})}))})]})})})]})]})},gt=a(72);var vt=function(e){return Object(V.jsxs)(Ne.a,{border:"primary",header:!0,text:"dark",className:"m-2",children:[Object(V.jsxs)(Ne.a.Header,{className:"bg-primary text-center",children:[Object(V.jsx)("b",{children:"EMI Details"}),Object(V.jsxs)("svg",{onClick:e.handlePrintEMI,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(V.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(V.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(V.jsx)(Ne.a.Body,{children:Object(V.jsxs)(De.a,{size:"sm",className:"bg-white rounded small",bordered:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{className:"bg-success",children:[Object(V.jsx)("th",{children:"EMI date"}),Object(V.jsx)("th",{children:"EMI Amount"}),Object(V.jsx)("th",{children:"Principal"}),Object(V.jsx)("th",{children:"Interest"}),Object(V.jsx)("th",{children:"Outstanding"}),e.showDisburseButton?Object(V.jsx)("th",{children:"EMI Paid"}):""]})}),Object(V.jsx)("tbody",{children:e.emiData.map((function(t,a){return Object(V.jsxs)("tr",{className:e.paidEmiRecord[t.date]?"bg-warning":"",children:[Object(V.jsx)("td",{children:t.date}),Object(V.jsx)("td",{children:t.EMI}),Object(V.jsx)("td",{children:t.principal}),Object(V.jsx)("td",{children:t.int_amount}),Object(V.jsx)("td",{children:t.outstanding}),e.showDisburseButton?Object(V.jsx)("td",{children:e.paidEmiRecord[t.date]?Object(V.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-check-circle",viewBox:"0 0 16 16",children:[Object(V.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(V.jsx)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]}):""}):""]})}))})]})})]},0)},ft=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)("h3",{className:"text-center mb-5 mt-3",children:"AA2 MutualHelp Micro Finance"}),Object(V.jsxs)(Ne.a,{border:"primary",header:!0,text:"dark",className:"m-2",children:[Object(V.jsx)(Ne.a.Header,{className:"bg-primary text-center",children:Object(V.jsx)("b",{children:"EMI Details"})}),Object(V.jsx)(Ne.a.Body,{children:Object(V.jsxs)(De.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"EMI date"}),Object(V.jsx)("th",{children:"EMI Amount"}),Object(V.jsx)("th",{children:"Principal"}),Object(V.jsx)("th",{children:"Interest"}),Object(V.jsx)("th",{children:"Outstanding"}),Object(V.jsx)("th",{children:"Signature"})]})}),Object(V.jsx)("tbody",{children:this.props.emiData.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.date}),Object(V.jsx)("td",{children:e.EMI}),Object(V.jsx)("td",{children:e.principal}),Object(V.jsx)("td",{children:e.int_amount}),Object(V.jsx)("td",{children:e.outstanding}),Object(V.jsx)("td",{})]})}))})]})})]},0)]})}}]),a}(n.a.PureComponent);var yt=function(e){var t=Object(r.useRef)(),a=Object(gt.useReactToPrint)({content:function(){return t.current},documentTitle:"AA2-Member"}),n=Object(r.useRef)(),c=Object(gt.useReactToPrint)({content:function(){return n.current},documentTitle:"AA2-application"}),s=Object(r.useRef)(),i=Object(gt.useReactToPrint)({content:function(){return s.current},documentTitle:"AA2-EMI-details"}),l=Object(o.d)((function(e){return e.auth})),d=Object(r.useState)([]),j=Object(Y.a)(d,2),b=j[0],u=j[1],h=Object(r.useState)(!1),O=Object(Y.a)(h,2),m=O[0],x=O[1],p=Object(r.useState)(!1),g=Object(Y.a)(p,2),v=g[0],f=g[1],y=Object(r.useState)([]),C=Object(Y.a)(y,2),_=C[0],w=C[1],S=Object(r.useState)({}),I=Object(Y.a)(S,2),N=I[0],k=I[1],L=Object(r.useState)({isShow:!1,type:"",message:""}),P=Object(Y.a)(L,2),M=P[0],D=P[1],A=Object(r.useState)(!1),E=Object(Y.a)(A,2),T=E[0],G=E[1],F=Object(r.useState)(!1),R=Object(Y.a)(F,2),H=R[0],B=R[1];Object(r.useEffect)((function(){console.log(e),z()}),[]);var z=function(){var t=Object(we.a)(_e.a.mark((function t(){var a,r,n,c,s,o,i;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),f(!0),t.next=5,jt.getLoanDetailbyId(e.location.state);case 5:return a=t.sent,r={loanStartDate:a.body.message[0].application_date,interest_rate:a.body.message[0].interest_rate,tenure:a.body.message[0].Tenure,EMI_payout:a.body.message[0].EMI_payout,loan_amount:a.body.message[0].loan_amount,EMI_type:a.body.message[0].EMI_type},f(!0),t.next=10,bt.calculateEMI(r);case 10:return n=t.sent,c=[],s={},t.next=15,bt.getPaidEmis(a.body.message[0].loan_account_no);case 15:for(c=t.sent,o=0;o<c.body.message.length;o++)i=tt()(c.body.message[o].EMI_date).format("DD-MM-yyyy"),s[i]=!0;u(s),w(n.body.message),f(!1),console.log(a),x(!1),200==a.statusCode&&(G(0==a.body.message[0].is_approved),B(1==a.body.message[0].is_approved&&0==a.body.message[0].is_disbursed),k(a.body.message[0])),t.next=29;break;case 25:t.prev=25,t.t0=t.catch(0),x(!1),console.log(t.t0);case 29:case"end":return t.stop()}}),t,null,[[0,25]])})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(we.a)(_e.a.mark((function t(a){var r,n;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),r={id:e.location.state,actionType:a},t.next=5,jt.approveRejectLoan(r);case 5:n=t.sent,console.log(n),x(!1),200==n.statusCode&&(G(!1),D({isShow:!0,type:"bg-success",message:n.body.message})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),x(!1),D({isShow:!0,type:"bg-danger",message:t.t0.response.body.message}),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(we.a)(_e.a.mark((function t(a){var r,n;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),r={id:e.location.state,actionType:a},t.next=5,jt.disburseRejectLoan(r);case 5:n=t.sent,x(!1),200==n.statusCode&&(B(!1),D({isShow:!0,type:"bg-success",message:n.body.message})),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),x(!1),D({isShow:!0,type:"bg-danger",message:t.t0.response.body.message}),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(rt.a,{autohide:!0,delay:3e3,show:M.isShow,onClose:function(){return D({isShow:!1,type:"",message:""})},className:"loader "+M.type,children:[Object(V.jsx)(rt.a.Header,{children:Object(V.jsxs)("strong",{className:"me-auto",children:["bg-danger"==M.type?"Error":"Success"," Message"]})}),Object(V.jsx)(rt.a.Body,{className:"Dark",children:M.message})]},1),Object(V.jsx)(le,{show:m}),!T||"checker"!=l.role&&"admin"!=l.role?"":Object(V.jsx)(re.a,{className:"m-5",children:Object(V.jsxs)(K.a,{className:"text-center",children:[Object(V.jsx)(Z.a,{variant:"primary",type:"button",onClick:function(){return q(1)},children:"Approve"}),"  ",Object(V.jsx)(Z.a,{variant:"danger",type:"button",onClick:function(){return q(-1)},children:"Reject"})]})}),!H||"checker"!=l.role&&"admin"!=l.role?"":Object(V.jsx)(re.a,{className:"m-5",children:Object(V.jsxs)(K.a,{className:"text-center",children:[Object(V.jsx)(Z.a,{variant:"primary",type:"button",onClick:function(){return U(1)},children:"Disburse"}),"  ",Object(V.jsx)(Z.a,{variant:"danger",type:"button",onClick:function(){return U(-1)},children:"Reject"})]})}),Object(V.jsxs)(re.a,{xs:1,md:2,className:"g-1",children:[Object(V.jsx)(K.a,{children:Object(V.jsxs)(Ne.a,{border:"success",header:!0,text:"dark",className:"m-2",ref:t,children:[Object(V.jsxs)(Ne.a.Header,{className:"bg-success text-center",children:[Object(V.jsx)("b",{children:"Member Details"}),Object(V.jsxs)("svg",{onClick:a,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(V.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(V.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(V.jsx)(Ne.a.Body,{children:Object(V.jsx)(De.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(V.jsxs)("tbody",{children:[Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Member Name"}),Object(V.jsx)("td",{children:N.member_name})," "]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Member Group ID"}),"  ",Object(V.jsx)("td",{children:N.member_group_id})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Member Address"}),"  ",Object(V.jsx)("td",{children:N.address})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"DOB"}),"   ",Object(V.jsx)("td",{children:tt()(N.date_of_birth).format("DD-MM-YYYY")})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Phone"})," ",Object(V.jsx)("td",{children:N.mobile_number})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Gender"}),"  ",Object(V.jsx)("td",{children:N.gender})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Aadhar No."})," ",Object(V.jsx)("td",{children:N.aadhar_number})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"PAN"})," ",Object(V.jsx)("td",{children:N.pan_card_number})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Driving License"})," ",Object(V.jsx)("td",{children:N.driving_license_number})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Ration Card No."})," ",Object(V.jsx)("td",{children:N.ration_card_number})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Voter ID No."})," ",Object(V.jsx)("td",{children:N.voter_id_number})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Bank Account No."})," ",Object(V.jsx)("td",{children:N.bank_account})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Bank IFSC code"})," ",Object(V.jsx)("td",{children:N.bank_ifsc_code})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Bank Account Holder"})," ",Object(V.jsx)("td",{children:N.bank_account_holder})]})]})})})]},0)}),Object(V.jsx)(K.a,{children:Object(V.jsxs)(Ne.a,{border:"info",header:!0,text:"dark",className:"m-2",ref:n,children:[Object(V.jsxs)(Ne.a.Header,{className:"bg-info text-center",children:[Object(V.jsx)("b",{children:"Application Details"}),Object(V.jsxs)("svg",{onClick:c,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(V.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(V.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(V.jsx)(Ne.a.Body,{children:Object(V.jsx)(De.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(V.jsxs)("tbody",{children:[Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Account No"}),"  ",Object(V.jsx)("td",{children:N.loan_account_no})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Application Date"}),Object(V.jsx)("td",{children:tt()(N.application_date).format("DD-MM-YYYY HH:SS")})," "]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Scheme Id"}),"  ",Object(V.jsx)("td",{children:N.scheme_id})]}),Object(V.jsxs)("tr",{children:[" ",Object(V.jsx)("th",{children:"Member Address"}),"  ",Object(V.jsx)("td",{children:N.address})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Loan Amount"}),"   ",Object(V.jsx)("td",{children:N.loan_amount})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Interest rate"})," ",Object(V.jsx)("td",{children:N.interest_rate})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"EMI payout"}),"  ",Object(V.jsx)("td",{children:N.EMI_payout})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"EMI type"}),"  ",Object(V.jsx)("td",{children:N.EMI_type})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Tenure"})," ",Object(V.jsx)("td",{children:N.Tenure})]})]})})})]},0)}),Object(V.jsxs)(K.a,{children:[Object(V.jsx)(le,{show:v,relative:!0}),Object(V.jsx)(vt,{showDisburseButton:1==N.is_approved&&1==N.is_disbursed,emiData:_,paidEmiRecord:b,handlePrintEMI:i}),Object(V.jsx)("div",{style:{display:"none"},children:Object(V.jsx)(ft,{ref:s,emiData:_})})]})]})]})};var Ct=function(e){var t=Object(F.k)(),a=Object(r.useState)(!1),c=Object(Y.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)([]),l=Object(Y.a)(i,2),j=l[0],b=l[1];Object(r.useEffect)((function(){p()}),[]);var u=Object(r.useMemo)((function(){return j.map((function(e,t){return{col1:e.loan_account_no?e.loan_account_no:"N/A",col2:tt()(e.application_date).format("DD-MM-yyy hh:ss A"),col3:e.member_name,col4:e.scheme_id,col5:e.loan_amount,col6:e.interest_rate,col7:e.actionStatus,col8:e}}))}),[j]),h=Object(r.useMemo)((function(){return[{Header:"Account no.",accessor:"col1",allowFilter:!0},{Header:"Application date",accessor:"col2",allowFilter:!0},{Header:"Member name",accessor:"col3",allowFilter:!0},{Header:"Scheme ID",accessor:"col4",allowFilter:!0},{Header:"Loan amount",accessor:"col5",allowFilter:!0},{Header:"Interest rate",accessor:"col6",allowFilter:!0},{Header:"Status",accessor:"col7",allowFilter:!1},{Header:"Action",accessor:"col8",allowFilter:!1}]}),[]);function O(e){var t=e.column,a=t.filterValue,r=t.preFilteredRows,n=t.setFilter,c=r.length;return Object(V.jsx)("input",{className:"form-control",value:a||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var m=n.a.useMemo((function(){return{Filter:O}}),[]),x=function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return Object(V.jsxs)(He.a,{children:[Object(V.jsx)(He.a.First,{onClick:function(){return N(0)}}),Object(V.jsx)(He.a.Prev,{onClick:function(){return k()},disabled:!P}),t.map((function(e){return Object(V.jsx)(He.a.Item,{active:e===I+1,onClick:function(){return N(e-1)},children:e},e)})),Object(V.jsx)(He.a.Next,{onClick:function(){return L()},disabled:!M}),Object(V.jsx)(He.a.Last,{onClick:function(){return N(e-1)}})]})},p=function(){var e=Object(we.a)(_e.a.mark((function e(){var t,a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,jt.getAllLoanApplications();case 4:t=e.sent,o(!1),200==t.statusCode&&(a=t.body.message.map((function(e,t){return 1==e.is_approved&&1==e.is_disbursed?e.actionStatus="Disbursed":1==e.is_approved&&0==e.is_disbursed?e.actionStatus="Approved":-1==e.is_disbursed?e.actionStatus="Disburse Rejected":-1==e.is_approved?e.actionStatus="Approval Rejected":e.actionStatus="Pending",e})),b(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),o(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=Object(Fe.useTable)({columns:h,data:u,defaultColumn:m,initialState:{pageIndex:0}},Fe.useFilters,Fe.useSortBy,Fe.usePagination),v=g.getTableProps,f=g.getTableBodyProps,y=g.headerGroups,C=(g.rows,g.prepareRow),_=(g.pageOptions,g.page),w=g.pageCount,S=g.state,I=S.pageIndex,N=(S.pageSize,g.gotoPage),k=g.previousPage,L=g.nextPage,P=(g.setPageSize,g.canPreviousPage),M=g.canNextPage;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le,{show:s}),Object(V.jsxs)(ve.a,{fluid:!0,children:[Object(V.jsx)("h2",{className:"text-info text-center",children:"All Loan Applications"}),Object(V.jsx)(re.a,{children:Object(V.jsxs)(K.a,{children:[Object(V.jsx)("div",{className:"text-right",children:x(w)}),Object(V.jsxs)(De.a,Object(d.a)(Object(d.a)({},v()),{},{className:"shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{className:"bg-primary",children:y.map((function(e){return Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(V.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(V.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(V.jsx)("div",{children:e.allowFilter?e.render("Filter"):null})]}))}))}))}))}),Object(V.jsx)("tbody",Object(d.a)(Object(d.a)({},f()),{},{children:_.map((function(e){return C(e),Object(V.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return console.log(e),"col8"!=e.column.id&&"col7"!=e.column.id?Object(V.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")})):"col8"==e.column.id?Object(V.jsx)("td",{children:Object(V.jsx)(Z.a,{size:"sm",variant:"info",onClick:function(){t.push("/loanApprovalDetails",e.value.id)},type:"button",className:"ml-2",children:"View"})}):"col7"==e.column.id?Object(V.jsx)("td",{children:Object(V.jsx)(ke.a,{className:"Approved"==e.value||"Disbursed"==e.value?"bg-success":"bg-danger",children:e.value})}):void 0}))}))}))}))]})),Object(V.jsx)("div",{className:"text-right",children:x(w)})]})})]})]})};var _t=function(e){var t=Object(r.useState)(new Date),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),o=Object(Y.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)([]),j=Object(Y.a)(d,2),b=j[0],u=j[1],h=Object(r.useRef)(),O=Object(gt.useReactToPrint)({content:function(){return h.current},documentTitle:"AA2-EMI-details"}),m=Object(nt.a)({initialValues:{loanStartDate:"",interest_rate:"",tenure:"",EMI_payout:"",loan_amount:"",EMI_type:"flat"},validate:function(e){var t={};return e.interest_rate||(t.interest_rate="Interest rate is Required"),e.loan_amount||(t.loan_amount="Loan amount is Required"),e.tenure||(t.tenure="Tenure is Required"),e.EMI_payout||(t.EMI_payout="EMI payout is Required"),t},onSubmit:function(){var e=Object(we.a)(_e.a.mark((function e(t){var a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,t.loanStartDate=n,console.log(t),e.next=6,bt.calculateEMI(t);case 6:a=e.sent,l(!1),200==a.statusCode&&u(a.body.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),l(!1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()});return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le,{show:i}),Object(V.jsx)(ve.a,{fluid:!0,children:Object(V.jsxs)(re.a,{children:[Object(V.jsx)(K.a,{children:Object(V.jsx)(ve.a,{className:"bg-white mt-2 shadow-lg p-3 mb-5 bg-white rounded",children:Object(V.jsxs)(W.a,{onSubmit:m.handleSubmit,children:[Object(V.jsxs)(W.a.Group,{as:K.a,className:"form-group required pl-0 pr-0",controlId:"formGridEnroll",children:[Object(V.jsx)(W.a.Label,{children:"Application Date"}),Object(V.jsx)(X.a,{class:"form-control",selected:n,onChange:function(e){return c(e)},name:"loanStartDate"}),m.touched.loanStartDate&&m.errors.loanStartDate?Object(V.jsx)("div",{class:"text-danger",children:m.errors.loanStartDate}):null]}),Object(V.jsxs)(W.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Loan amount"}),Object(V.jsx)(W.a.Control,{type:"number",name:"loan_amount",placeholder:"Enter loan amount",onChange:m.handleChange,value:m.values.loan_amount}),m.touched.loan_amount&&m.errors.loan_amount?Object(V.jsx)("div",{class:"text-danger",children:m.errors.loan_amount}):null]}),Object(V.jsxs)(W.a.Group,{className:"mb-3 form-group required",controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Interest rate"}),Object(V.jsx)(W.a.Control,{type:"number",name:"interest_rate",placeholder:"Enter interest rate",onChange:m.handleChange,value:m.values.interest_rate}),m.touched.interest_rate&&m.errors.interest_rate?Object(V.jsx)("div",{class:"text-danger",children:m.errors.interest_rate}):null]}),Object(V.jsxs)(W.a.Group,{className:"mb-3 form-group required",controlId:"formBasicEmail",children:[Object(V.jsx)(W.a.Label,{children:"Tenure"}),Object(V.jsx)(W.a.Control,{type:"number",name:"tenure",onChange:m.handleChange,value:m.values.tenure}),m.touched.tenure&&m.errors.tenure?Object(V.jsx)("div",{class:"text-danger",children:m.errors.tenure}):null]}),Object(V.jsxs)(W.a.Group,{as:K.a,className:"mb-3 pl-0 pr-0",controlId:"formGridAddress1",children:[Object(V.jsx)(W.a.Label,{children:"EMI payout"}),Object(V.jsxs)("select",{className:"form-control",name:"EMI_payout",onChange:m.handleChange,value:m.values.EMI_payout,children:[Object(V.jsx)("option",{value:"",children:"Select payout"},""),Object(V.jsx)("option",{value:"weekly",children:"Weekly"},"weekly"),Object(V.jsx)("option",{value:"fortnight",children:"Fortnight"},"monthly")]}),m.touched.EMI_payout&&m.errors.EMI_payout?Object(V.jsx)("div",{class:"text-danger",children:m.errors.EMI_payout}):null]}),Object(V.jsx)(Z.a,{variant:"primary",type:"submit",children:"Calculate"})]})})}),Object(V.jsx)(K.a,{md:8,children:Object(V.jsxs)(Ne.a,{border:"primary",header:!0,text:"dark",className:"m-2",ref:h,children:[Object(V.jsxs)(Ne.a.Header,{className:"bg-primary text-center",children:[Object(V.jsx)("b",{children:"AA2 Micro Finance EMI Details"}),Object(V.jsxs)("svg",{onClick:O,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(V.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(V.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(V.jsx)(Ne.a.Body,{children:Object(V.jsxs)(De.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"EMI date"}),Object(V.jsx)("th",{children:"EMI Amount"}),Object(V.jsx)("th",{children:"Principal"}),Object(V.jsx)("th",{children:"Interest"}),Object(V.jsx)("th",{children:"Outstanding"})]})}),Object(V.jsx)("tbody",{children:b.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.date}),Object(V.jsx)("td",{children:e.EMI}),Object(V.jsx)("td",{children:e.principal}),Object(V.jsx)("td",{children:e.int_amount}),Object(V.jsx)("td",{children:e.outstanding})]})}))})]})})]},0)})]})})]})},wt=a(243),St=a(130);var It=function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),o=Object(Y.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)([]),j=Object(Y.a)(d,2),b=j[0],u=j[1],h=Object(r.useState)(0),O=Object(Y.a)(h,2),m=O[0],x=O[1],p=Object(r.useState)(new Date),g=Object(Y.a)(p,2),v=g[0],f=g[1];Object(r.useEffect)((function(){y()}),[]);var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt()().format("yyyy-MM-DD");l(!0),bt.getDueEmis(e).then((function(e){if(l(!1),200==e.statusCode){var t;t=e.body.message.map((function(e){return e.loan_table_id=e.loan_account_no.substring(11),e})),u(t)}else u([])}))},C=function(){var e=Object(we.a)(_e.a.mark((function e(){var t,a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.prev=1,l(!0),e.next=5,bt.paidEmi(m);case 5:t=e.sent,l(!1),200==t.statusCode&&(a=b.filter((function(e,t){return e.emi_id!=m})),u(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),l(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(q.a,{show:n,onHide:function(){return c(!1)},children:[Object(V.jsx)(q.a.Header,{closeButton:!0,children:Object(V.jsx)(q.a.Title,{children:"Paid EMI "})}),Object(V.jsx)(q.a.Body,{children:"Are you sure?"}),Object(V.jsxs)(q.a.Footer,{children:[Object(V.jsx)(Z.a,{variant:"secondary",onClick:function(){return c(!1)},children:"Cancel"}),Object(V.jsx)(Z.a,{variant:"primary",onClick:function(){return C()},children:"Paid"})]})]}),Object(V.jsx)(le,{show:i}),Object(V.jsxs)(ve.a,{fluid:!0,children:[Object(V.jsx)("h2",{className:"text-info text-center",children:"Due EMIs"}),Object(V.jsx)(re.a,{children:Object(V.jsxs)(K.a,{children:[Object(V.jsxs)(wt.a,{className:"mb-3",children:[Object(V.jsx)(St.a,{className:"mr-3",children:"EMI Date:"}),Object(V.jsx)(X.a,{class:"form-control",selected:v,onChange:function(e){return f(t=e),void y(tt()(t).format("yyyy-MM-DD"));var t},name:"enrollment_date",dateFormat:"dd/MM/yyyy"})]}),Object(V.jsxs)(De.a,{className:" shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(V.jsx)("thead",{className:"bg-primary",children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Account No."}),Object(V.jsx)("th",{children:"Group"}),Object(V.jsx)("th",{children:"Member ID"}),Object(V.jsx)("th",{children:"Name"}),Object(V.jsx)("th",{children:"No. of Emi"}),Object(V.jsx)("th",{children:"EMI Amount"}),Object(V.jsx)("th",{children:"Outstanding"}),Object(V.jsx)("th",{children:"Action"})]})}),Object(V.jsx)("tbody",{children:b.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:Object(V.jsx)(G.Link,{to:{pathname:"/loanApprovalDetails",state:e.loan_table_id},children:e.loan_account_no})}),Object(V.jsx)("td",{children:Object(V.jsx)(G.Link,{to:"/memberGroup",children:e.member_group_id})}),Object(V.jsx)("td",{children:Object(V.jsx)(G.Link,{to:{pathname:"/viewMemberDetail",state:e.member_id},children:e.member_id})}),Object(V.jsx)("td",{children:Object(V.jsx)(G.Link,{to:{pathname:"/viewMemberDetail",state:e.member_id},children:e.member_name})}),Object(V.jsx)("td",{children:e.remain_EMI}),Object(V.jsx)("td",{children:e.EMI_amount}),Object(V.jsx)("td",{children:e.outstanding}),Object(V.jsx)("td",{children:Object(V.jsx)(Z.a,{size:"sm",variant:"success",onClick:function(){return function(e){x(e),c(!0)}(e.emi_id)},children:"Pay"})})]})}))})]})]})})]})]})};var Nt=function(){return Object(V.jsx)(G.BrowserRouter,{children:Object(V.jsxs)(F.g,{children:[Object(V.jsx)(ye,{exact:!0,path:"/",component:Ot}),Object(V.jsx)(ye,{exact:!0,path:"/memberGroup",component:at}),Object(V.jsx)(ye,{exact:!0,path:"/addMemberGroup",component:ct}),Object(V.jsx)(ye,{exact:!0,path:"/addMember",component:ot}),Object(V.jsx)(ye,{exact:!0,path:"/addMember",component:ot}),Object(V.jsx)(ye,{exact:!0,path:"/scheme",component:ut}),Object(V.jsx)(ye,{exact:!0,path:"/viewMemberDetail",component:lt}),Object(V.jsx)(ye,{exact:!0,path:"/addScheme",component:ht}),Object(V.jsx)(ye,{exact:!0,path:"/loanApplication",component:mt}),Object(V.jsx)(ye,{exact:!0,path:"/loanApproval",component:xt}),Object(V.jsx)(ye,{exact:!0,path:"/disburseLoan",component:pt}),Object(V.jsx)(ye,{exact:!0,path:"/loanApprovalDetails",component:yt}),Object(V.jsx)(ye,{exact:!0,path:"/allApplications",component:Ct}),Object(V.jsx)(ye,{exact:!0,path:"/emiCalculator",component:_t}),Object(V.jsx)(ye,{exact:!0,path:"/dueEmis",component:It}),Object(V.jsx)(F.d,{path:"/login",component:je}),Object(V.jsx)(ye,{path:"/registration",component:ce}),Object(V.jsx)(ye,{path:"/fillItr",component:be}),Object(V.jsx)(ye,{path:"/CategoryList",component:Me}),Object(V.jsx)(ye,{path:"/myCart",component:Ee}),Object(V.jsx)(ye,{path:"/placeOrder",component:Te}),Object(V.jsx)(ye,{path:"/orderSuccess",component:Ge}),Object(V.jsx)(ye,{path:"/adminHome",component:Ke}),Object(V.jsx)(ye,{path:"/categoryManagement",component:Re}),Object(V.jsx)(ye,{path:"/addCategory",component:ze}),Object(V.jsx)(ye,{path:"/orderHistory",component:Be}),Object(V.jsx)(ye,{path:"/userOrderHistory",component:Ze}),Object(V.jsx)(ye,{path:"/userAction",component:Je}),Object(V.jsx)(ye,{path:"/productManagement",component:Ve}),Object(V.jsx)(ye,{path:"/addProduct",component:Ue}),Object(V.jsx)(ye,{path:"/editProduct",component:Ye}),Object(V.jsx)(ye,{path:"/orderFailed",component:Xe}),Object(V.jsx)(ye,{path:"/financeRequests",component:Qe}),Object(V.jsx)(ye,{path:"/form16Requests",component:We}),Object(V.jsx)(ye,{path:"/inqueryForm",component:$}),Object(V.jsx)(ye,{path:"/member",component:it})]})})};var kt=function(){return Object(V.jsx)(o.a,{store:T,children:Object(V.jsx)("div",{className:"App",children:Object(V.jsx)(Nt,{})})})},Lt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,252)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(V.jsx)(n.a.StrictMode,{children:Object(V.jsx)(kt,{})}),document.getElementById("root")),Lt()}},[[228,1,2]]]);
//# sourceMappingURL=main.506f20ac.chunk.js.map