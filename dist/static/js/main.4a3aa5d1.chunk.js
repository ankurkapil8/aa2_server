(this["webpackJsonpkanba-client"]=this["webpackJsonpkanba-client"]||[]).push([[0],{142:function(e,t,a){},143:function(e,t,a){},158:function(e,t){},227:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(32),s=a.n(c),o=(a(142),a(143),a(17)),i=a(70),l=a(33),d=a(7),j="REDIRECT",u="LOGIN",b="LOGOUT",h="REGISTER",m="LOGIN_PAGE_UNLOADED",O="REGISTER_PAGE_UNLOADED",x="ASYNC_START",p="ASYNC_END",g="UPDATE_FIELD_AUTH",v="ADD_ITEM_INITIAL",f="INCREASE_QUANTITY",y="DECREASE_QUANTITY",_="RESET_ORDER",w="STORE_EDIT_PRODUCT",C="GET_EDIT_PRODUCT",k="UPDATE_PRODUCT_FIELD",N=a(36),S={addedItem:[]},M={product:{}},I=Object(i.combineReducers)({auth:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u:return Object(d.a)(Object(d.a)({},a),{},{inProgress:!1,errors:n.payload.message,role:null===(e=n.payload.record[0])||void 0===e?void 0:e.role,id:null===(t=n.payload.record[0])||void 0===t?void 0:t.id,statusCode:""!=n.payload.jwtToken?"200":"",isLoginSuccess:""!=n.payload.jwtToken});case h:return Object(d.a)(Object(d.a)({},a),{},{inProgress:!1,errors:n.payload,statusCode:n.payload.statusCode});case m:return Object(d.a)({},a);case O:return{};case x:if(n.subtype===u||n.subtype===h)return Object(d.a)(Object(d.a)({},a),{},{inProgress:!0});break;case g:return Object(d.a)(Object(d.a)({},a),{},Object(l.a)({},n.key,n.value));default:return a}return a},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{redirectTo:null});default:return e}return e},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var a=[].concat(Object(N.a)(e.addedItem),[{productId:t.item._id,quantity:1,perItemPrice:t.item.price,item:t.item}]);return Object(d.a)(Object(d.a)({},e),{},{addedItem:a});case f:return e.addedItem.map((function(e){return e.productId==t.productId&&(e.quantity+=1),e})),Object(d.a)(Object(d.a)({},e),{},{state:e});case y:return e.addedItem.map((function(e){return e.productId==t.productId&&0!=e.quantity&&(e.quantity-=1),e})),Object(d.a)(Object(d.a)({},e),{},{state:e});case _:return e.addedItem=[],Object(d.a)({},e);default:return e}return e},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(d.a)(Object(d.a)({},e),{},{product:t.data});case C:return Object(d.a)({},e);case k:var a=e.product;return a[t.data.key]=t.data.value,Object(d.a)(Object(d.a)({},e),{},{product:a});default:return e}return e}}),D=function(e,t){return"LOGOUT"===t.type&&(e=void 0),I(e,t)},A=a(80),E=function(e){return function(t){return function(a){if((c=a.payload)&&"function"===typeof c.then){e.dispatch({type:x,subtype:a.type});var n=e.getState().viewChangeCounter,r=a.skipTracking;a.payload.then((function(t){var c=e.getState();(r||c.viewChangeCounter===n)&&(a.payload=t,e.dispatch({type:p,promise:a.payload}),e.dispatch(a))}),(function(t){var c=e.getState();(r||c.viewChangeCounter===n)&&(a.error=!0,a.payload=t.response.body,a.skipTracking||e.dispatch({type:p,promise:a.payload}),e.dispatch(a))}))}else{var c;t(a)}}}},L=function(e){return function(e){return function(t){t.type===u&&void 0!=t.payload?""!=t.payload.jwtToken&&(window.localStorage.setItem("jwt",t.payload.jwtToken),A.a.setToken(t.payload.jwtToken)):t.type===b&&(window.localStorage.setItem("jwt",""),A.a.setToken(null)),e(t)}}};var P=a(128),G=Object(i.createStore)(D,Object(P.composeWithDevTools)(Object(i.applyMiddleware)(E,L))),F=a(14),R=a(21),H=a(42),T=a(43),B=a(45),z=a(44),q=a(242),V=a(130),Y=a(235),U=a(233),W=a(0),K=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){var e=this.props.errors,t=this.props.statusCode;return e?Object(W.jsx)(U.a,{variant:200==t?"success":"danger",children:e}):null}}]),a}(n.Component),$=a(9),J={getUsers:function(){return $.b.get("".concat($.a,"/user/userList/"))},login:function(e,t){return $.b.post("".concat($.a,"/user/login"),{username:e,password:t})}},Q=a(234);var X=function(e){return e.show?Object(W.jsx)(Q.a,{animation:"border",role:"status",className:(null===e||void 0===e?void 0:e.relative)?"loader-relative":"loader"}):null},Z=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).submitForm=function(e){e.preventDefault(),n.setState({isShowLoader:!0}),J.login(n.props.username,n.props.password).then((function(e){n.setState({isShowLoader:!1}),console.log(e),n.props.onSubmit(e.body)}))},n.state={isShowLoader:!1},n.changeEmail=function(e){n.props.onChangeEmail(e.target.value)},n.changePassword=function(e){n.props.onChangePassword(e.target.value)},n}return Object(T.a)(a,[{key:"componentDidUpdate",value:function(){this.props.isLoginSuccess&&this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){var e=this.props.username,t=this.props.password;return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"login-div",children:[Object(W.jsx)(X,{show:this.state.isShowLoader}),Object(W.jsx)(K,{errors:this.props.errors,statusCode:this.props.statusCode}),Object(W.jsxs)(q.a,{className:"login-form",onSubmit:this.submitForm,children:[Object(W.jsx)(q.a.Row,{children:Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formBasicEmail",children:[Object(W.jsx)(q.a.Label,{children:"Username"}),Object(W.jsx)(q.a.Control,{type:"text",placeholder:"Enter username",value:e,onChange:this.changeEmail,required:!0})]})}),Object(W.jsx)(q.a.Row,{children:Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formBasicPassword",children:[Object(W.jsx)(q.a.Label,{children:"Password"}),Object(W.jsx)(q.a.Control,{type:"password",placeholder:"Password",value:t,onChange:this.changePassword,required:!0})]})}),Object(W.jsx)(q.a.Row,{children:Object(W.jsx)(V.a,{children:Object(W.jsx)(Y.a,{variant:"primary",disabled:this.props.inProgress,type:"submit",children:this.props.inProgress?"Loading\u2026":"Login"})})})]})]})})}}]),a}(n.Component),ee=Object(o.b)((function(e){return Object(d.a)({},e.auth)}),(function(e){return{onChangeEmail:function(t){return e({type:g,key:"username",value:t})},onChangePassword:function(t){return e({type:g,key:"password",value:t})},onSubmit:function(t){return e({type:u,payload:t})},onUnload:function(){return e({type:m})}}}))(Z),te=a(4),ae=a(137);var ne=function(e){return e.currentUser.errors&&500!=e.currentUser.errors.statusCode?null:Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)(F.NavLink,{aactiveClassName:"active",className:"nav-link",to:"/login",children:"Login"})})};var re=function(e){var t=Object(o.c)(),a=Object(R.k)();if(e.currentUser.errors&&200==e.currentUser.errors.statusCode){var n=e.currentUser.email.split("@");return Object(W.jsxs)(W.Fragment,{children:[e.currentUser.errors.body.record.isAdmin?Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)(F.NavLink,{aactiveClassName:"active",to:"/adminHome",className:"nav-link",children:"Admin"})})}):"",Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsxs)(F.NavLink,{aactiveClassName:"active",to:"/userAction",className:"nav-link",children:[n[0],e.currentUser.errors.body.record.isPrimeMember?Object(W.jsx)("label",{className:"clr-cyan",children:"(Prime member)"}):""]})}),Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)("a",{className:"nav-link",onClick:function(){t({type:b}),console.log("hollo"),a.push("/")},children:"Logout"})})]})}return null},ce=a(241);var se=function(e){return Object(W.jsxs)(ce.a,{show:e.isopen,onHide:e.hide,centered:!0,className:"text-center",children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Tax Return"})}),Object(W.jsxs)(ce.a.Body,{children:[Object(W.jsx)(F.Link,{to:{pathname:"/fillItr",query:{type:"fill"}},className:"btn btn-danger btn-sm",children:"Start Your Tax Return"}),Object(W.jsx)(F.Link,{to:{pathname:"/fillItr",query:{type:"uploadForm16"}},className:"btn btn-danger btn-sm",children:"Upload Form-16 Now"})]})]})},oe=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).isopen=!1,n.handleITRPopup=function(){n.setState({isopen:!n.state.isopen})},n.state={isopen:!1},n}return Object(T.a)(a,[{key:"render",value:function(){return Object(W.jsxs)("header",{children:[Object(W.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark top-nav-collapse",children:Object(W.jsxs)("div",{className:"container",children:[Object(W.jsxs)(F.NavLink,{className:"navbar-brand",to:"/",children:[" ",Object(W.jsx)("h2",{children:"AA2 Mutualhelp"})]}),Object(W.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent-7","aria-controls":"navbarSupportedContent-7","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(W.jsx)("span",{className:"navbar-toggler-icon"})}),Object(W.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent-7",children:Object(W.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(W.jsx)(re,{currentUser:this.props}),Object(W.jsx)(ne,{currentUser:this.props})]})})]})}),Object(W.jsx)(se,{isopen:this.state.isopen,hide:this.handleITRPopup})]})}}]),a}(n.Component),ie=(Object(o.b)((function(e){return Object(d.a)({},e.auth)}),(function(e){return{}}))(oe),a(236));var le=a(243),de=a(30);function je(){var e=Object(o.d)((function(e){return e.auth}));return Object(W.jsx)("nav",{id:"sidebar",children:Object(W.jsxs)(le.a,{className:"list-unstyled components flex-column",as:"ul",children:[Object(W.jsx)(le.a.Item,{as:"li",className:"active",children:Object(W.jsx)(de.LinkContainer,{to:"/",children:Object(W.jsx)(le.a.Link,{children:"Dashboard"})})}),Object(W.jsxs)(le.a.Item,{as:"li",children:[Object(W.jsx)(le.a.Link,{href:"#homeSubmenu",className:"dropdown-toggle","data-toggle":"collapse","aria-expanded":"false",children:"Master Record"}),Object(W.jsxs)(le.a,{class:"collapse list-unstyled",id:"homeSubmenu",as:"ul",children:[Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/memberGroup",children:Object(W.jsx)(le.a.Link,{href:"/home",children:"Member Group"})})}),Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/member",children:Object(W.jsx)(le.a.Link,{eventKey:"link-1",children:"Members"})})})]})]}),Object(W.jsxs)(le.a.Item,{as:"li",children:[Object(W.jsx)(le.a.Link,{href:"#groupLoan","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Group Loan"}),Object(W.jsxs)(le.a,{class:"collapse list-unstyled",id:"groupLoan",as:"ul",children:[Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/emiCalculator",children:Object(W.jsx)(le.a.Link,{href:"#",children:"Calculator"})})}),Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/scheme",children:Object(W.jsx)(le.a.Link,{eventKey:"link-1",children:"Scheme"})})}),Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/village",children:Object(W.jsx)(le.a.Link,{eventKey:"link-1",children:"Village"})})}),Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/loanApplication",children:Object(W.jsx)(le.a.Link,{eventKey:"link-2",children:"Application"})})}),"checker"==e.role||"admin"==e.role?Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/loanApproval",children:Object(W.jsx)(le.a.Link,{eventKey:"link-2",children:"Approve Application"})})}):"","checker"==e.role||"admin"==e.role?Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/disburseLoan",children:Object(W.jsx)(le.a.Link,{eventKey:"link-2",children:"Disbure Application"})})}):"",Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/allApplications",children:Object(W.jsx)(le.a.Link,{eventKey:"link-2",children:"Loan Applications"})})})]})]}),Object(W.jsxs)(le.a.Item,{as:"li",children:[Object(W.jsx)(le.a.Link,{href:"#rdApplications","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Recurring Deposit"}),Object(W.jsxs)(le.a,{class:"collapse list-unstyled",id:"rdApplications",as:"ul",children:[Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/rdApplications",children:Object(W.jsx)(le.a.Link,{href:"#",children:"RD applications"})})}),Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/rdLadger",children:Object(W.jsx)(le.a.Link,{href:"#",children:"RD Ladger"})})})]})]}),Object(W.jsxs)(le.a.Item,{as:"li",children:[Object(W.jsx)(le.a.Link,{href:"#processingFee","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Processing Fee"}),Object(W.jsx)(le.a,{class:"collapse list-unstyled",id:"processingFee",as:"ul",children:Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/processingFee",children:Object(W.jsx)(le.a.Link,{href:"#",children:"List Processing Fee"})})})})]}),Object(W.jsxs)(le.a.Item,{as:"li",children:[Object(W.jsx)(le.a.Link,{href:"#expense","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Expense"}),Object(W.jsx)(le.a,{class:"collapse list-unstyled",id:"expense",as:"ul",children:Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/expense",children:Object(W.jsx)(le.a.Link,{href:"#",children:"List Expense"})})})})]}),Object(W.jsxs)(le.a.Item,{as:"li",children:[Object(W.jsx)(le.a.Link,{href:"#payments","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Payment to collect"}),Object(W.jsxs)(le.a,{class:"collapse list-unstyled",id:"payments",as:"ul",children:[Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/dueEmis",children:Object(W.jsx)(le.a.Link,{href:"#",children:"Payment to collect(Loan)"})})}),Object(W.jsx)(le.a.Item,{as:"li",children:Object(W.jsx)(de.LinkContainer,{to:"/rdDeposites",children:Object(W.jsx)(le.a.Link,{href:"#",children:"Deposites collect(RD)"})})})]})]})]})})}var ue=a(245);function be(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(o.c)(),n=Object(R.k)();return Object(W.jsxs)(ue.a,{collapseOnSelect:!0,expand:"lg",bg:"info",variant:"dark",children:[Object(W.jsx)("h4",{id:"logo-web",className:"mr-4",children:"AA2 MutualHelp"}),Object(W.jsx)("button",{type:"button",onClick:e.toggleSidebar,className:"btn btn-dark",children:Object(W.jsx)("i",{className:"fas fa-align-left"})}),Object(W.jsx)("h4",{id:"logo-mobile",className:"",children:"AA2 MutualHelp"}),Object(W.jsx)(ue.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(W.jsx)(ue.a.Collapse,{id:"responsive-navbar-nav",children:Object(W.jsxs)(le.a,{className:"ml-auto",children:[Object(W.jsx)(le.a.Link,{href:"#",children:t.username}),Object(W.jsx)(le.a.Link,{eventKey:2,onClick:function(){a({type:b}),n.push("/login")},children:"Logout"})]})})]})}var he=a(237),me=["component"],Oe=function(e){var t=e.component,a=Object(ae.a)(e,me),r=Object(o.d)((function(e){return e.auth})),c=Object(R.k)(),s=Object(n.useState)(!0),i=Object(te.a)(s,2),l=i[0],j=i[1];Object(n.useEffect)((function(){j(!(window.innerWidth<=768)),b()}),[t]);var u=function(){console.log(window),j(!l)},b=function(){var e;e=localStorage.getItem("jwt"),console.log(e),""!=e&&r.hasOwnProperty("username")||c.push("/login")};return Object(W.jsx)(R.d,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(he.a,{fluid:!0,className:"pl-0 pr-0",children:[Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsx)(be,{toggleSidebar:u})})}),Object(W.jsxs)(ie.a,{children:[l?Object(W.jsx)(V.a,{md:2,sm:2,id:"sidebar-col",className:"bg-info",children:Object(W.jsx)(je,{})}):"",Object(W.jsx)(V.a,{sm:l?10:12,children:Object(W.jsx)("div",{id:"content",children:Object(W.jsx)(t,Object(d.a)({},e))})})]})]})})}}))},xe=a(8),pe=a.n(xe),ge=a(13),ve=a(238),fe=a(239),ye={getMemberGroups:function(){return $.b.get("".concat($.a,"/memberGroups/entry"))},saveMemberGroups:function(e){return $.b.post("".concat($.a,"/memberGroups/entry"),e)},getMembersBygroup:function(e){return $.b.get("".concat($.a,"/memberGroups/memberByGroupCode/").concat(e))},deleteGroup:function(e){return $.b.del("".concat($.a,"/memberGroups/entry/").concat(e))}},_e=a(15),we=a.n(_e);var Ce=function(e){var t=Object(n.useState)(!1),a=Object(te.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),o=Object(te.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)([]),j=Object(te.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(!1),m=Object(te.a)(h,2),O=m[0],x=m[1],p=Object(n.useState)(0),g=Object(te.a)(p,2),v=g[0],f=g[1],y=Object(n.useState)(!1),_=Object(te.a)(y,2),w=_[0],C=_[1];Object(n.useEffect)((function(){k()}),[]);var k=function(){c(!0),ye.getMemberGroups().then((function(e){c(!1),200==e.statusCode?l(e.body.message):l([])}))},N=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.prev=1,c(!0),e.next=5,ye.deleteGroup(v);case 5:t=e.sent,c(!1),200==t.statusCode&&(a=i.filter((function(e,t){return e.group_code!=v})),l(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),c(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ce.a,{show:O,onHide:function(){return x(!1)},children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Delete Group"})}),Object(W.jsx)(ce.a.Body,{children:"Are you sure?"}),Object(W.jsxs)(ce.a.Footer,{children:[Object(W.jsx)(Y.a,{variant:"secondary",onClick:function(){return x(!1)},children:"Cancel"}),Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){return N()},children:"Delete"})]})]}),Object(W.jsxs)(ce.a,{show:w,onHide:function(){return C(!1)},children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Members"})}),Object(W.jsx)(ce.a.Body,{children:0!=u.length?Object(W.jsxs)(ve.a,{className:"bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"ID"}),Object(W.jsx)("th",{children:"Name"}),Object(W.jsx)("th",{children:"Gender"}),Object(W.jsx)("th",{children:"DOB"}),Object(W.jsx)("th",{children:"age"}),Object(W.jsx)("th",{children:"Marital status"}),Object(W.jsx)("th",{children:"Mobile"}),Object(W.jsx)("th",{children:"Aadhar"}),Object(W.jsx)("th",{children:"Voter id"}),Object(W.jsx)("th",{children:"PAN"}),Object(W.jsx)("th",{children:"Driving licence"}),Object(W.jsx)("th",{children:"Ration card"}),Object(W.jsx)("th",{children:"Bank IFSC code"}),Object(W.jsx)("th",{children:"Bank account"}),Object(W.jsx)("th",{children:"Bank account holder"})]})}),Object(W.jsx)("tbody",{children:u.map((function(e){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.member_id}),Object(W.jsx)("td",{children:e.member_name}),Object(W.jsx)("td",{children:e.gender}),Object(W.jsx)("td",{children:we()(e.date_of_birth).format("DD-MM-YYYY")}),Object(W.jsx)("td",{children:e.age}),Object(W.jsx)("td",{children:e.marital_status}),Object(W.jsx)("td",{children:e.mobile_number}),Object(W.jsx)("td",{children:e.aadhar_number}),Object(W.jsx)("td",{children:e.voter_id_number}),Object(W.jsx)("td",{children:e.pan_card_number}),Object(W.jsx)("td",{children:e.driving_license_number}),Object(W.jsx)("td",{children:e.ration_card_number}),Object(W.jsx)("td",{children:e.bank_ifsc_code}),Object(W.jsx)("td",{children:e.bank_account}),Object(W.jsx)("td",{children:e.bank_account_holder})]})}))})]}):Object(W.jsx)("h5",{children:"No members in this group!"})}),Object(W.jsxs)(ce.a.Footer,{children:[Object(W.jsx)(Y.a,{variant:"secondary",onClick:function(){return C(!1)},children:"Cancel"}),Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){return C(!1)},children:"Ok"})]})]}),Object(W.jsx)(X,{show:r}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Member Groups"}),Object(W.jsx)(ie.a,{className:"mb-5 mt-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)(F.Link,{to:"/addMemberGroup",children:Object(W.jsx)(Y.a,{variant:"info",size:"sm",active:!0,children:"Add Member Group"})})})}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(ve.a,{className:" shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Group Code"}),Object(W.jsx)("th",{children:"Name"}),Object(W.jsx)("th",{children:"Remark"}),Object(W.jsx)("th",{children:"Member"}),Object(W.jsx)("th",{children:"Action"})]})}),Object(W.jsx)("tbody",{children:i.map((function(e,t){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.group_code}),Object(W.jsx)("td",{children:e.group_name}),Object(W.jsx)("td",{children:e.remark}),Object(W.jsx)("td",{children:Object(W.jsxs)(Y.a,{size:"sm",variant:"info",onClick:function(){return t=e.group_code,console.log(t),c(!0),void ye.getMembersBygroup(t).then((function(e){c(!1),200==e.statusCode?(b(e.body.message),C(!0)):b([])}));var t},children:["Members",Object(W.jsx)(fe.a,{className:"bg-secondary",children:e.member_count})]})}),Object(W.jsx)("td",{children:Object(W.jsx)(Y.a,{size:"sm",disabled:0!=e.member_count,variant:"danger",onClick:function(){return function(e){f(e),x(!0)}(e.group_code)},children:"Delete"})})]})}))})]})})})]})]})},ke=a(244),Ne=a(28);var Se=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(n.useState)({}),r=Object(te.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!1),j=Object(te.a)(i,2),u=j[0],b=j[1],h=Object(n.useState)({isShow:!1,type:"",message:""}),m=Object(te.a)(h,2),O=m[0],x=m[1],p=Object(Ne.a)({initialValues:{group_code:"",group_name:"",remark:"",user_id:t.id},validate:function(e){var t={};return e.group_code||(t.group_code="Group Code is Required"),t},onSubmit:function(){var e=Object(ge.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,ye.saveMemberGroups(t);case 4:a=e.sent,b(!1),200==a.statusCode?(x({isShow:!0,type:"bg-success",message:a.body.message}),p.resetForm()):x({isShow:!0,type:"bg-danger",message:a.body.message}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),b(!1),x({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),handleChange:function(){s((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},c.target.name,c.target.value))}))}});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:O.isShow,onClose:function(){return x({isShow:!1,type:"",message:""})},className:"loader "+O.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==O.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:O.message})]},1),Object(W.jsx)(X,{show:u}),Object(W.jsx)("h2",{className:"text-info text-center",children:"Add Member Group"}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{md:6,children:Object(W.jsx)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:p.handleSubmit,children:[Object(W.jsxs)(q.a.Group,{className:"mb-3 form-group required",controlId:"formBasicEmail",children:[Object(W.jsx)(q.a.Label,{children:"Group Code"}),Object(W.jsx)(q.a.Control,{type:"text",name:"group_code",placeholder:"Enter group code",onChange:p.handleChange,value:p.values.group_code}),p.touched.group_code&&p.errors.group_code?Object(W.jsx)("div",{class:"text-danger",children:p.errors.group_code}):null]}),Object(W.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(W.jsx)(q.a.Label,{children:"Group Name"}),Object(W.jsx)(q.a.Control,{type:"text",name:"group_name",placeholder:"Enter group name",onChange:p.handleChange,value:p.values.group_name})]}),Object(W.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(W.jsx)(q.a.Label,{children:"Remark"}),Object(W.jsx)(q.a.Control,{as:"textarea",rows:3,name:"remark",onChange:p.handleChange,value:p.values.remark})]}),Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Save"})]})})})})]})},Me=a(29),Ie=a.n(Me),De={getMemberDetailsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return $.b.get("".concat($.a,"/member/entry/").concat(e))},getMemberPageData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[$.b.get("".concat($.a,"/member/entry/").concat(e)),$.b.get("".concat($.a,"/member/loanByMember/").concat(e))]},saveMemberDetails:function(e){return $.b.post("".concat($.a,"/member/entry"),e)},deleteMember:function(e){return $.b.del("".concat($.a,"/member/entry/").concat(e))},editMember:function(e,t){return $.b.put("".concat($.a,"/member/entry/").concat(t),e)}};var Ae=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(R.k)(),r=Object(n.useState)(new Date),c=Object(te.a)(r,2),s=c[0],i=c[1],l=Object(n.useState)(),d=Object(te.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)({}),h=Object(te.a)(b,2),m=(h[0],h[1],Object(n.useState)(!1)),O=Object(te.a)(m,2),x=O[0],p=O[1],g=Object(n.useState)([]),v=Object(te.a)(g,2),f=v[0],y=v[1],_=Object(n.useState)({isShow:!1,type:"",message:""}),w=Object(te.a)(_,2),C=w[0],k=w[1];Object(n.useEffect)((function(){console.log(e),e.location.state&&S(e.location.state),N()}),[]);var N=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,ye.getMemberGroups();case 4:t=e.sent,p(!1),y(t.body.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),p(!1),k({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(ge.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,De.getMemberDetailsData(t);case 4:a=e.sent,console.log(a),M.values.aadhar_number=a.body.message[0].aadhar_number,M.values.member_name=a.body.message[0].member_name,M.values.gender=a.body.message[0].gender,M.values.age=a.body.message[0].age,M.values.marital_status=a.body.message[0].marital_status,M.values.mobile_number=a.body.message[0].mobile_number,M.values.email_id=a.body.message[0].email_id,M.values.member_group_id=a.body.message[0].member_group_id,M.values.pan_card_number=a.body.message[0].pan_card_number,M.values.driving_license_number=a.body.message[0].driving_license_number,M.values.voter_id_number=a.body.message[0].voter_id_number,M.values.ration_card_number=a.body.message[0].ration_card_number,M.values.bank_account=a.body.message[0].bank_account,M.values.bank_ifsc_code=a.body.message[0].bank_ifsc_code,M.values.bank_account_holder=a.body.message[0].bank_account_holder,M.values.enrollment_date=a.body.message[0].enrollment_date,i(new Date(a.body.message[0].enrollment_date)),M.values.date_of_birth=a.body.message[0].date_of_birth,u(new Date(a.body.message[0].date_of_birth)),p(!1),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),p(!1),k({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}(),M=Object(Ne.a)({initialValues:{enrollment_date:s,date_of_birth:j,member_name:"",gender:"",age:"",marital_status:"",mobile_number:"",email_id:"",member_group_id:"",aadhar_number:"",pan_card_number:"",driving_license_number:"",voter_id_number:"",ration_card_number:"",bank_account:"",bank_ifsc_code:"",bank_account_holder:"",user_id:t.id},validate:function(e){var t={};return e.member_name||(t.member_name="Please provide member name"),t},onSubmit:function(){var t=Object(ge.a)(pe.a.mark((function t(n){var r;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(!0),t.prev=1,n.enrollment_date=s,n.date_of_birth=j,r=[],!e.location.state){t.next=11;break}return t.next=8,De.editMember(n,e.location.state);case 8:r=t.sent,t.next=14;break;case 11:return t.next=13,De.saveMemberDetails(n);case 13:r=t.sent;case 14:p(!1),200==r.statusCode?(M.resetForm(),e.location.state&&a.push("/member"),k({isShow:!0,type:"bg-success",message:r.body.message})):k({isShow:!0,type:"bg-danger",message:r.body.message}),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0.response.body.message),p(!1),k({isShow:!0,type:"bg-danger",message:t.t0.response.body.message});case 23:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}()});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:C.isShow,onClose:function(){return k({isShow:!1,type:"",message:""})},className:"loader "+C.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==C.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:C.message})]},1),Object(W.jsx)(X,{show:x}),Object(W.jsx)("h2",{className:"text-info text-center",children:"Add Member"}),Object(W.jsx)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:M.handleSubmit,children:[Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,className:"form-group required",controlId:"formGridEnroll",children:[Object(W.jsx)(q.a.Label,{children:"Enrollment Date"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:s,onChange:function(e){return i(e)},name:"enrollment_date"})]}),Object(W.jsxs)(q.a.Group,{as:V.a,className:"form-group required",controlId:"formGridName",children:[Object(W.jsx)(q.a.Label,{children:"Member Name"}),Object(W.jsx)(q.a.Control,{type:"text",placeholder:"member name",name:"member_name",onChange:M.handleChange,value:M.values.member_name}),M.touched.member_name&&M.errors.member_name?Object(W.jsx)("div",{class:"text-danger",children:M.errors.member_name}):null]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",children:[Object(W.jsx)(q.a.Label,{children:"Date of Birth"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:j,onChange:function(e){return u(e)},name:"date_of_birth"})]}),Object(W.jsxs)(q.a.Group,{as:V.a,className:"mb-3",controlId:"formGridAddress1",children:[Object(W.jsx)(q.a.Label,{children:"Gender"}),Object(W.jsxs)("select",{className:"form-control",name:"gender",onChange:M.handleChange,value:M.values.gender,children:[Object(W.jsx)("option",{value:"",children:"Select Gender"},""),Object(W.jsx)("option",{value:"male",children:"Male"},"male"),Object(W.jsx)("option",{value:"female",children:"Female"},"female")]})]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridAge",children:[Object(W.jsx)(q.a.Label,{children:"Age"}),Object(W.jsx)(q.a.Control,{name:"age",onChange:M.handleChange,value:M.values.age})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridState",children:[Object(W.jsx)(q.a.Label,{children:"Marital Status"}),Object(W.jsx)(q.a.Control,{name:"marital_status",onChange:M.handleChange,value:M.values.marital_status})]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridAge",children:[Object(W.jsx)(q.a.Label,{children:"Phone number"}),Object(W.jsx)(q.a.Control,{name:"mobile_number",type:"number",onChange:M.handleChange,value:M.values.mobile_number})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridState",children:[Object(W.jsx)(q.a.Label,{children:"Email"}),Object(W.jsx)(q.a.Control,{name:"email_id",onChange:M.handleChange,value:M.values.email_id,type:"text"})]})]}),Object(W.jsx)(ie.a,{className:"mb-3",children:Object(W.jsxs)(q.a.Group,{as:V.a,md:6,className:"mb-3",controlId:"formGridAddress1",children:[Object(W.jsx)(q.a.Label,{children:"Member Group"}),Object(W.jsxs)("select",{className:"form-control",name:"member_group_id",onChange:M.handleChange,value:M.values.member_group_id,children:[Object(W.jsx)("option",{value:"",children:"Select Member Group"},""),f.map((function(e,t){return Object(W.jsx)("option",{value:e.group_code,children:e.group_code},e.group_code)}))]})]})}),Object(W.jsx)(ie.a,{className:"mb-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)("h3",{className:"text-info",children:"KYC Information"})})}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridAge",children:[Object(W.jsx)(q.a.Label,{children:"Aadhar no."}),Object(W.jsx)(q.a.Control,{name:"aadhar_number",type:"number",onChange:M.handleChange,value:M.values.aadhar_number})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridState",children:[Object(W.jsx)(q.a.Label,{children:"PAN"}),Object(W.jsx)(q.a.Control,{name:"pan_card_number",onChange:M.handleChange,value:M.values.pan_card_number})]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridAge",children:[Object(W.jsx)(q.a.Label,{children:"Driving Licence No."}),Object(W.jsx)(q.a.Control,{name:"driving_license_number",onChange:M.handleChange,value:M.values.driving_license_number})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridState",children:[Object(W.jsx)(q.a.Label,{children:"Voter Id No."}),Object(W.jsx)(q.a.Control,{name:"voter_id_number",onChange:M.handleChange,value:M.values.voter_id_number})]})]}),Object(W.jsx)(ie.a,{className:"mb-3",children:Object(W.jsxs)(q.a.Group,{as:V.a,md:6,controlId:"formGridAge",children:[Object(W.jsx)(q.a.Label,{children:"Ration Card No."}),Object(W.jsx)(q.a.Control,{name:"ration_card_number",onChange:M.handleChange,value:M.values.ration_card_number})]})}),Object(W.jsx)(ie.a,{className:"mb-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)("h3",{className:"text-info",children:"Bank Details"})})}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridAge",children:[Object(W.jsx)(q.a.Label,{children:"Bank Account No."}),Object(W.jsx)(q.a.Control,{name:"bank_account",type:"number",onChange:M.handleChange,value:M.values.bank_account})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGridState",children:[Object(W.jsx)(q.a.Label,{children:"IFSC code"}),Object(W.jsx)(q.a.Control,{name:"bank_ifsc_code",onChange:M.handleChange,value:M.values.bank_ifsc_code})]})]}),Object(W.jsx)(ie.a,{className:"mb-3",children:Object(W.jsxs)(q.a.Group,{as:V.a,md:6,controlId:"formGridAge",children:[Object(W.jsx)(q.a.Label,{children:"Account holder name"}),Object(W.jsx)(q.a.Control,{name:"bank_account_holder",onChange:M.handleChange,value:M.values.bank_account_holder})]})}),Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Save"})]})})]})},Ee=a(247),Le=a(22);var Pe=function(e){var t=Object(R.k)(),a=Object(n.useState)(!1),c=Object(te.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(!1),l=Object(te.a)(i,2),j=l[0],u=l[1],b=Object(n.useState)(0),h=Object(te.a)(b,2),m=h[0],O=h[1],x=Object(n.useState)([]),p=Object(te.a)(x,2),g=p[0],v=p[1];Object(n.useEffect)((function(){_()}),[]);var f=Object(n.useMemo)((function(){return g.map((function(e,t){return{col1:e.member_id,col2:e.member_name,col3:e.member_group_id,col4:e.mobile_number,col5:e}}))}),[g]),y=Object(n.useMemo)((function(){return[{Header:"Member ID",accessor:"col1",allowFilter:!0},{Header:"Member Name",accessor:"col2",allowFilter:!0},{Header:"Member Group Code",accessor:"col3",allowFilter:!0},{Header:"Mobile Number",accessor:"col4",allowFilter:!0},{Header:"Action",accessor:"col5",allowFilter:!1}]}),[]),_=function(){o(!0),De.getMemberDetailsData().then((function(e){o(!1),200==e.statusCode?v(e.body.message):v([])}))},w=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.prev=1,o(!0),e.next=5,De.deleteMember(m);case 5:t=e.sent,o(!1),200==t.statusCode&&(a=g.filter((function(e,t){return e.member_id!=m})),v(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),o(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();function C(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,r=t.setFilter,c=n.length;return Object(W.jsx)("input",{className:"form-control",value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var k=r.a.useMemo((function(){return{Filter:C}}),[]),N=function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return Object(W.jsxs)(Ee.a,{children:[Object(W.jsx)(Ee.a.First,{onClick:function(){return H(0)}}),Object(W.jsx)(Ee.a.Prev,{onClick:function(){return T()},disabled:!z}),t.map((function(e){return Object(W.jsx)(Ee.a.Item,{active:e===G+1,onClick:function(){return H(e-1)},children:e},e)})),Object(W.jsx)(Ee.a.Next,{onClick:function(){return B()},disabled:!q}),Object(W.jsx)(Ee.a.Last,{onClick:function(){return H(e-1)}})]})},S=Object(Le.useTable)({columns:y,data:f,defaultColumn:k,initialState:{pageIndex:0}},Le.useFilters,Le.useSortBy,Le.usePagination),M=S.getTableProps,I=S.getTableBodyProps,D=S.headerGroups,A=(S.rows,S.prepareRow),E=(S.pageOptions,S.page),L=S.pageCount,P=S.state,G=P.pageIndex,H=(P.pageSize,S.gotoPage),T=S.previousPage,B=S.nextPage,z=(S.setPageSize,S.canPreviousPage),q=S.canNextPage;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ce.a,{show:j,onHide:function(){return u(!1)},children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Delete Member"})}),Object(W.jsx)(ce.a.Body,{children:"Are you sure?"}),Object(W.jsxs)(ce.a.Footer,{children:[Object(W.jsx)(Y.a,{variant:"secondary",onClick:function(){return u(!1)},children:"Cancel"}),Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){return w()},children:"Delete"})]})]}),Object(W.jsx)(X,{show:s}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Members"}),Object(W.jsx)(ie.a,{className:"mb-5 mt-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)(F.Link,{to:"/addMember",children:Object(W.jsx)(Y.a,{variant:"info",size:"lg",active:!0,children:"Add Member"})})})}),Object(W.jsx)(ie.a,{children:Object(W.jsxs)(V.a,{children:[Object(W.jsx)("div",{className:"text-right",children:N(L)}),Object(W.jsxs)(ve.a,Object(d.a)(Object(d.a)({},M()),{},{className:"shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:D.map((function(e){return Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(W.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(W.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(W.jsx)("div",{children:e.allowFilter?e.render("Filter"):null})]}))}))}))}))}),Object(W.jsx)("tbody",Object(d.a)(Object(d.a)({},I()),{},{children:E.map((function(e){return A(e),Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return console.log(e),"col5"!=e.column.id?Object(W.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")})):Object(W.jsxs)("td",{children:[Object(W.jsx)(Y.a,{size:"sm",variant:"primary",onClick:function(){t.push("/viewMemberDetail",e.value.member_id)},children:"View"})," ",Object(W.jsx)(Y.a,{size:"sm",variant:"success",onClick:function(){t.push("/addMember",e.value.member_id)},children:"Edit"})," ",Object(W.jsx)(Y.a,{size:"sm",variant:"danger",onClick:function(){return t=e.value.member_id,O(t),void u(!0);var t},children:"Delete"})]})}))}))}))}))]})),Object(W.jsx)("div",{className:"text-right",children:N(L)})]})})]})]})},Ge=a(248);var Fe=function(e){var t=Object(n.useState)(!1),a=Object(te.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),o=Object(te.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)([]),j=Object(te.a)(d,2),u=j[0],b=j[1];Object(n.useEffect)((function(){console.log(e),h()}),[]);var h=function(){var t=Object(ge.a)(pe.a.mark((function t(){var a;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,Promise.all(De.getMemberPageData(e.location.state));case 4:a=t.sent,c(!1),l(a[0].body.message[0]),b(a[1].body.message),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c(!1);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),m=function(e){return 1==e.is_approved&&1==e.is_disbursed?"Disbursed":1==e.is_approved&&0==e.is_disbursed?"Approved":-1==e.is_disbursed?"Disburse Rejected":-1==e.is_approved?"Approval Rejected":"Pending"};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{show:r}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{border:"success",header:!0,text:"dark",className:"m-2",children:[Object(W.jsx)(Ge.a.Header,{className:"bg-info text-center",children:Object(W.jsx)("b",{children:"Loan Accounts"})}),1==r?Object(W.jsx)(Ge.a.Body,{children:Object(W.jsx)("h5",{className:"text-center",children:"Loading..."})}):Object(W.jsx)(Ge.a.Body,{children:0==u.length?Object(W.jsx)("h5",{className:"text-center",children:"Not running any loan!"}):Object(W.jsxs)(ve.a,{className:"shadow-lg bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Loan Account"}),Object(W.jsx)("th",{children:"Application date"}),Object(W.jsx)("th",{children:"Scheme id"}),Object(W.jsx)("th",{children:"Village name"}),Object(W.jsx)("th",{children:"EMI day"}),Object(W.jsx)("th",{children:"EMI week"}),Object(W.jsx)("th",{children:"Member address"}),Object(W.jsx)("th",{children:"Loan amount"}),Object(W.jsx)("th",{children:"Interest rate"}),Object(W.jsx)("th",{children:"EMI payout"}),Object(W.jsx)("th",{children:"EMI type"}),Object(W.jsx)("th",{children:"Tenure"}),Object(W.jsx)("th",{children:"Status"})]})}),Object(W.jsx)("tbody",{children:u.map((function(e){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:Object(W.jsx)(F.Link,{to:{pathname:"/loanApprovalDetails",state:e.id},children:Object(W.jsx)("u",{children:e.loan_account_no})})}),Object(W.jsx)("td",{children:e.application_date}),Object(W.jsx)("td",{children:e.scheme_id}),Object(W.jsx)("td",{children:e.village_name}),Object(W.jsx)("td",{children:e.day}),Object(W.jsx)("td",{children:e.week}),Object(W.jsx)("td",{children:e.address}),Object(W.jsx)("td",{children:e.loan_amount}),Object(W.jsx)("td",{children:e.interest_rate}),Object(W.jsx)("td",{children:e.EMI_payout}),Object(W.jsx)("td",{children:e.EMI_type}),Object(W.jsx)("td",{children:e.Tenure}),Object(W.jsx)("td",{children:Object(W.jsx)(fe.a,{className:"Approved"==m(e)||"Disbursed"==m(e)?"bg-success":"bg-danger",children:m(e)})})]})}))})]})})]},0)})}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{border:"success",header:!0,text:"dark",className:"m-2",children:[Object(W.jsx)(Ge.a.Header,{className:"bg-success text-center",children:Object(W.jsx)("b",{children:"Member Details"})}),Object(W.jsx)(Ge.a.Body,{children:Object(W.jsx)(ve.a,{className:"shadow-lg bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(W.jsxs)("tbody",{children:[Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Enrollment Date"}),Object(W.jsx)("td",{children:we()(i.enrollment_date).format("DD-MM-YYYY hh:ss A")})," "]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Member Name"}),"  ",Object(W.jsx)("td",{children:i.member_name})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Member Id"}),"  ",Object(W.jsx)("td",{children:i.member_id})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Gender"}),"  ",Object(W.jsx)("td",{children:i.gender})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"DOB"}),"   ",Object(W.jsxs)("td",{children:[we()(i.date_of_birth).format("DD-MM-YYYY")," "]})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Age"})," ",Object(W.jsx)("td",{children:i.age})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Marital Status"}),"  ",Object(W.jsx)("td",{children:i.marital_status})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Mobile Number"})," ",Object(W.jsx)("td",{children:i.mobile_number})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Email Id"})," ",Object(W.jsx)("td",{children:i.email_id})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Member Group Id"}),"  ",Object(W.jsx)("td",{children:i.member_group_id})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Aadhar Number"})," ",Object(W.jsx)("td",{children:i.aadhar_number})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Driving License Number"}),"  ",Object(W.jsx)("td",{children:i.driving_license_number})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Voter Id Number "}),"  ",Object(W.jsx)("td",{children:i.voter_id_number})]}),Object(W.jsxs)("tr",{children:["  ",Object(W.jsx)("th",{children:"Ration Card Number"})," ",Object(W.jsx)("td",{children:i.ration_card_number})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"PAN Number"})," ",Object(W.jsx)("td",{children:i.pan_card_number})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Bank Account no."})," ",Object(W.jsx)("td",{children:i.bank_account})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"IFSC Code"})," ",Object(W.jsx)("td",{children:i.bank_ifsc_code})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Bank Account Holder"})," ",Object(W.jsx)("td",{children:i.bank_account_holder})]})]})})})]},0)})})]})]})},Re={getScheme:function(){return $.b.get("".concat($.a,"/scheme/entry"))},saveScheme:function(e){return $.b.post("".concat($.a,"/scheme/entry"),e)},deleteScheme:function(e){return $.b.del("".concat($.a,"/scheme/entry/").concat(e))},getLoanAppInitialData:function(){return[$.b.get("".concat($.a,"/scheme/entry")),$.b.get("".concat($.a,"/member/entry/all")),$.b.get("".concat($.a,"/village/entry"))]}},He={applyForloan:function(e){return $.b.post("".concat($.a,"/groupLoan/applyGroupLoan"),e)},getApprovalList:function(){return $.b.get("".concat($.a,"/groupLoan/entry/pendingApproval"))},getDisburseList:function(){return $.b.get("".concat($.a,"/groupLoan/entry/pendingDisburse"))},getLoanDetailbyId:function(e){return $.b.get("".concat($.a,"/groupLoan/entry/").concat(e))},approveRejectLoan:function(e){return $.b.post("".concat($.a,"/groupLoan/approveLoan"),e)},getAllLoanApplications:function(){return $.b.get("".concat($.a,"/groupLoan/entry/all"))},disburseRejectLoan:function(e){return $.b.post("".concat($.a,"/groupLoan/disburseLoan"),e)}},Te={calculateEMI:function(e){return $.b.post("".concat($.a,"/emis/calculateEMI"),e)},getDueEmis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we()().format("yyyy-MM-DD");return $.b.get("".concat($.a,"/emis/dueEMIs/").concat(e))},paidEmi:function(e){return $.b.put("".concat($.a,"/emis/entry"),{id:e})},getPaidEmis:function(e){return $.b.get("".concat($.a,"/emis/entry/").concat(e))}},Be={saveVillage:function(e){return $.b.post("".concat($.a,"/village/entry"),e)},getVillage:function(){return $.b.get("".concat($.a,"/village/entry"))}};var ze=function(e){var t=Object(n.useState)(!1),a=Object(te.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(te.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)([]),j=Object(te.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(0),m=Object(te.a)(h,2),O=m[0],x=m[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){l(!0),Re.getScheme().then((function(e){l(!1),200==e.statusCode?b(e.body.message):b([])}))},g=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.prev=1,l(!0),e.next=5,Re.deleteScheme(O);case 5:t=e.sent,l(!1),200==t.statusCode&&(a=u.filter((function(e,t){return e.id!=O})),b(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),l(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ce.a,{show:r,onHide:function(){return c(!1)},children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Delete Scheme"})}),Object(W.jsx)(ce.a.Body,{children:"Are you sure?"}),Object(W.jsxs)(ce.a.Footer,{children:[Object(W.jsx)(Y.a,{variant:"secondary",onClick:function(){return c(!1)},children:"Cancel"}),Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){return g()},children:"Delete"})]})]}),Object(W.jsx)(X,{show:i}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Schemes"}),Object(W.jsx)(ie.a,{className:"mb-5 mt-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)(F.Link,{to:"/addScheme",children:Object(W.jsx)(Y.a,{variant:"info",size:"lg",active:!0,children:"Add Scheme"})})})}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(ve.a,{className:"shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Scheme code"}),Object(W.jsx)("th",{children:"Scheme name"}),Object(W.jsx)("th",{children:"Max amount"}),Object(W.jsx)("th",{children:"Interest rate (%)"}),Object(W.jsx)("th",{children:"EMI type"}),Object(W.jsx)("th",{children:"Action"})]})}),Object(W.jsx)("tbody",{children:u.map((function(e,t){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.scheme_code}),Object(W.jsx)("td",{children:e.scheme_name}),Object(W.jsx)("td",{children:e.max_amount}),Object(W.jsxs)("td",{children:[e.interest_rate,"%"]}),Object(W.jsx)("td",{children:e.EMI_type}),Object(W.jsx)("td",{children:Object(W.jsx)(Y.a,{variant:"danger",size:"sm",onClick:function(){return function(e){x(e),c(!0)}(e.id)},className:"ml-2",children:"Delete"})})]})}))})]})})})]})]})};var qe=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(n.useState)({}),r=Object(te.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!1),j=Object(te.a)(i,2),u=j[0],b=j[1],h=Object(n.useState)({isShow:!1,type:"",message:""}),m=Object(te.a)(h,2),O=m[0],x=m[1],p=Object(Ne.a)({initialValues:{scheme_code:"",scheme_name:"",max_amount:"",interest_rate:"",EMI_type:"",user_id:t.id},validate:function(e){var t={};return e.scheme_code||(t.scheme_code="Scheme code is Required!"),e.scheme_name||(t.scheme_name="Scheme name is Required!"),e.max_amount||(t.max_amount="Max amount is Required!"),e.interest_rate||(t.interest_rate="Interest rate is Required!"),e.EMI_type||(t.EMI_type="EMI type is Required!"),t},onSubmit:function(){var e=Object(ge.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Re.saveScheme(t);case 4:a=e.sent,b(!1),200==a.statusCode?(p.resetForm(),x({isShow:!0,type:"bg-success",message:a.body.message})):x({isShow:!0,type:"bg-danger",message:a.body.message}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),b(!1),x({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),handleChange:function(){s((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},c.target.name,c.target.value))}))}});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:O.isShow,onClose:function(){return x({isShow:!1,type:"",message:""})},className:"loader "+O.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==O.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:O.message})]},1),Object(W.jsx)(X,{show:u}),Object(W.jsx)("h2",{className:"text-info text-center",children:"Add Scheme"}),Object(W.jsx)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:p.handleSubmit,children:[Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Scheme Code"}),Object(W.jsx)(q.a.Control,{name:"scheme_code",onChange:p.handleChange,value:p.values.scheme_code}),p.touched.scheme_code&&p.errors.scheme_code?Object(W.jsx)("div",{class:"text-danger",children:p.errors.scheme_code}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",children:[Object(W.jsx)(q.a.Label,{children:"Scheme Name"}),Object(W.jsx)(q.a.Control,{name:"scheme_name",onChange:p.handleChange,value:p.values.scheme_name}),p.touched.scheme_name&&p.errors.scheme_name?Object(W.jsx)("div",{class:"text-danger",children:p.errors.scheme_name}):null]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Max amount"}),Object(W.jsx)(q.a.Control,{name:"max_amount",type:"number",min:"1",onChange:p.handleChange,value:p.values.max_amount}),p.touched.max_amount&&p.errors.max_amount?Object(W.jsx)("div",{class:"text-danger",children:p.errors.max_amount}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Interest Rate (in %)"}),Object(W.jsx)(q.a.Control,{name:"interest_rate",type:"number",min:"0",onChange:p.handleChange,value:p.values.interest_rate}),p.touched.interest_rate&&p.errors.interest_rate?Object(W.jsx)("div",{class:"text-danger",children:p.errors.interest_rate}):null]})]}),Object(W.jsx)(ie.a,{className:"mb-3",md:6,children:Object(W.jsxs)(q.a.Group,{as:V.a,className:"mb-3",controlId:"formGridAddress1",children:[Object(W.jsx)(q.a.Label,{children:"EMI type"}),Object(W.jsxs)("select",{className:"form-control",name:"EMI_type",onChange:p.handleChange,value:p.values.EMI_type,children:[Object(W.jsx)("option",{value:"",children:"Select EMI type"},""),Object(W.jsx)("option",{value:"flat",children:"Flat rate"},"flat")]}),p.touched.EMI_type&&p.errors.EMI_type?Object(W.jsx)("div",{class:"text-danger",children:p.errors.EMI_type}):null]})}),Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Save"})]})})]})},Ve={getReceivedAmount:function(){return $.b.get("".concat($.a,"/dashboard/totalReceivedAmount"))},getPaidAmount:function(){return $.b.get("".concat($.a,"/dashboard/totalPaidAmount"))},getEmiRecord:function(e){return $.b.get("".concat($.a,"/emis/allEmis/").concat(e))}},Ye=a(135);function Ue(){var e=Object(o.d)((function(e){return e.auth})),t=Object(R.k)(),a=Object(n.useState)(!1),r=Object(te.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)([]),l=Object(te.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(!1),b=Object(te.a)(u,2),h=b[0],m=b[1],O=Object(n.useState)([]),x=Object(te.a)(O,2),p=x[0],g=x[1],v=Object(n.useState)({notPaid:0,paid:0}),f=Object(te.a)(v,2),y=f[0],_=f[1];Object(n.useEffect)((function(){w(),C(),k()}),[]);var w=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,Ve.getReceivedAmount();case 4:t=e.sent,s(!1),200==t.statusCode?j(t.body.message):j([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Ve.getPaidAmount();case 4:t=e.sent,m(!1),200==t.statusCode?g(t.body.message):g([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.getEmiRecord(we()().format("yyyy-MM-DD"));case 2:(null===(t=e.sent)||void 0===t?void 0:t.body)&&_({notPaid:t.body.notPaidCount,paid:t.body.paidCount});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){t.push("/ladger",e)},S=function(e){return e?e.toString().replace(/.(?=(..)*...$)/g,"$&,"):""};return Object(W.jsxs)(W.Fragment,{children:["checker"==e.role||"admin"==e.role?Object(W.jsxs)(ie.a,{xs:1,md:3,className:"g-2",children:[Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{bg:"primary",text:"dark",className:"m-2",children:[c?Object(W.jsx)(Ge.a.Body,{className:"text-center",children:Object(W.jsx)(Q.a,{animation:"border",variant:"dark"})}):Object(W.jsxs)(Ge.a.Body,{children:[Object(W.jsx)(Ge.a.Title,{children:Object(W.jsx)("h2",{class:"text-center",children:S(null===d||void 0===d?void 0:d.total)})}),Object(W.jsx)(Ge.a.Text,{class:"text-center",children:"Received Amount(Rs)"})]}),Object(W.jsx)(Ge.a.Footer,{className:"text-white text-center",children:Object(W.jsxs)("span",{style:{cursor:"pointer"},className:"",onClick:function(){return N("totalReceived")},children:["More Info",Object(W.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right-circle",viewBox:"0 0 16 16",children:Object(W.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})})]})})]},0)}),Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{bg:"danger",text:"dark",className:"m-2",children:[h?Object(W.jsx)(Ge.a.Body,{className:"text-center",children:Object(W.jsx)(Q.a,{animation:"border",variant:"dark"})}):Object(W.jsxs)(Ge.a.Body,{children:[Object(W.jsx)(Ge.a.Title,{children:Object(W.jsx)("h2",{class:"text-center",children:S(null===p||void 0===p?void 0:p.total)})}),Object(W.jsx)(Ge.a.Text,{class:"text-center",children:"Paid Amount(Rs)"})]}),Object(W.jsx)(Ge.a.Footer,{className:"text-white text-center",children:Object(W.jsxs)("span",{style:{cursor:"pointer"},className:"",onClick:function(){return N("totalPaid")},children:["More Info",Object(W.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right-circle",viewBox:"0 0 16 16",children:Object(W.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})})]})})]},0)}),Object(W.jsx)(V.a,{children:Object(W.jsx)(Ge.a,{bg:"success",text:"dark",className:"m-2",children:c&&h?Object(W.jsx)(Ge.a.Body,{className:"text-center",children:Object(W.jsx)(Q.a,{animation:"border",variant:"dark"})}):Object(W.jsxs)(Ge.a.Body,{children:[Object(W.jsx)(Ge.a.Title,{children:Object(W.jsx)("h2",{class:"text-center",children:S((null===d||void 0===d?void 0:d.total)-(null===p||void 0===p?void 0:p.total))})}),Object(W.jsx)(Ge.a.Text,{class:"text-center",children:"Cash in hand(Rs)"})]})},0)})]}):"","checker"==e.role||"admin"==e.role?Object(W.jsxs)(ie.a,{xs:1,md:3,className:"g-2",children:[Object(W.jsx)(V.a,{}),Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{text:"dark",className:"m-2",children:[Object(W.jsx)(Ge.a.Header,{className:"text-center bg-warning",children:"Main Ladger"}),Object(W.jsx)(Ge.a.Body,{className:"text-center",children:Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){t.push("/completeLadger")},children:"Go to Main Ladger"})})]},0)})]}):"",Object(W.jsxs)(ie.a,{xs:1,md:3,className:"g-2",children:[Object(W.jsx)(V.a,{}),Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{text:"dark",className:"m-2",children:[Object(W.jsx)(Ge.a.Header,{className:"text-center bg-dark text-white",children:"Today's Due EMIs"}),Object(W.jsx)(Ge.a.Body,{className:"text-center",children:0==y.paid&&0==y.notPaid?"No Due Emi today":Object(W.jsx)(Ye.a,{chartType:"PieChart",loader:Object(W.jsx)("div",{children:"Loading Chart"}),data:[["Task","Hours per Day"],["Paid (".concat(y.paid,")"),y.paid],["Not Paid (".concat(y.notPaid,")"),y.notPaid]],options:{chartArea:{width:"100%",height:"100%"},pieSliceText:"label"},rootProps:{"data-testid":"0"}})})]},0)})]})]})}var We=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(n.useState)(new Date),r=Object(te.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)({}),l=Object(te.a)(i,2),d=(l[0],l[1],Object(n.useState)(!1)),j=Object(te.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)({isShow:!1,type:"",message:""}),m=Object(te.a)(h,2),O=m[0],x=m[1],p=Object(n.useState)([]),g=Object(te.a)(p,2),v=g[0],f=g[1],y=Object(n.useState)([]),_=Object(te.a)(y,2),w=_[0],C=_[1],k=Object(n.useState)({}),N=Object(te.a)(k,2),S=N[0],M=N[1],I=Object(n.useState)([]),D=Object(te.a)(I,2),A=D[0],E=D[1],L=Object(R.k)();Object(n.useEffect)((function(){P()}),[]);var P=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,Promise.all(Re.getLoanAppInitialData());case 4:t=e.sent,b(!1),C(t[0].body.message),f(t[1].body.message),E(t[2].body.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),b(!1),x({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),G=Object(Ne.a)({initialValues:{scheme_id:"",application_date:"",member_id:"",address:"",interest_rate:"",loan_amount:"",EMI_payout:"",EMI_type:"",tenure:"",user_id:t.id,village_id:"",week:"",day:""},validate:function(e){var t={};return e.scheme_id||(t.scheme_id="Scheme code is Required!"),e.member_id||(t.member_id="Member name is Required!"),e.interest_rate||(t.interest_rate="Interest rate is Required!"),(null===S||void 0===S?void 0:S.interest_rate)>0&&e.interest_rate>(null===S||void 0===S?void 0:S.interest_rate)&&(t.interest_rate="As per the Selected Scheme. Interest rate should not greater than ".concat(S.interest_rate,".")),e.loan_amount||(t.loan_amount="Loan amount is Required!"),(null===S||void 0===S?void 0:S.max_amount)>0&&e.loan_amount>S.max_amount&&(t.loan_amount="As per the Selected Scheme. Loan amount should not greater than ".concat(S.max_amount,".")),e.EMI_payout||(t.EMI_payout="EMI payout is Required!"),e.tenure||(t.tenure="Tenure is Required!"),"village"!=e.EMI_payout||e.village_id||(t.village_id="Village name is Required!"),"village"!=e.week||e.week||(t.week="Week is Required!"),"village"!=e.day||e.day||(t.day="Day is Required!"),t},onSubmit:function(){var e=Object(ge.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),b(!0),e.prev=2,t.application_date=c,delete t.week,delete t.day,e.next=8,He.applyForloan(t);case 8:a=e.sent,b(!1),200==a.statusCode?(G.resetForm(),x({isShow:!0,type:"bg-success",message:a.body.message})):x({isShow:!0,type:"bg-danger",message:a.body.message}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),b(!1),x({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:O.isShow,onClose:function(){return x({isShow:!1,type:"",message:""})},className:"loader "+O.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==O.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:O.message})]},1),Object(W.jsx)(X,{show:u}),Object(W.jsx)("h2",{className:"text-info text-center",children:"Add Loan Application"}),Object(W.jsx)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:G.handleSubmit,children:[Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,className:"form-group required",controlId:"formGridEnroll",children:[Object(W.jsx)(q.a.Label,{children:"Application Date"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:c,onChange:function(e){return s(e)},name:"application_date"})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Member name"}),Object(W.jsxs)("select",{className:"form-control",name:"member_id",onChange:G.handleChange,value:G.values.member_id,children:[Object(W.jsx)("option",{value:"",children:"Select Member"},""),v.map((function(e,t){return Object(W.jsx)("option",{value:e.member_id,children:"name= ".concat(e.member_name," - member_id= ").concat(e.member_id," ")},e.member_id)}))]}),G.touched.member_id&&G.errors.member_id?Object(W.jsx)("div",{class:"text-danger",children:G.errors.member_id}):null]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",children:[Object(W.jsx)(q.a.Label,{children:"Member Address"}),Object(W.jsx)(q.a.Control,{name:"address",as:"textarea",onChange:G.handleChange,value:G.values.address})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Scheme"}),Object(W.jsxs)("select",{className:"form-control",name:"scheme_id",onChange:function(e){console.log(e.target.value);var t=w.filter((function(t){return t.scheme_code==e.target.value}));M(t[0]),G.values.EMI_type=t[0].EMI_type,G.values.interest_rate=t[0].interest_rate,G.handleChange(e)},value:G.values.scheme_id,children:[Object(W.jsx)("option",{value:"",children:"Select Scheme"},""),w.map((function(e,t){return Object(W.jsx)("option",{value:e.scheme_code,children:e.scheme_code},e.scheme_code)}))]}),G.touched.scheme_id&&G.errors.scheme_id?Object(W.jsx)("div",{class:"text-danger",children:G.errors.scheme_id}):null]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Interest Rate (in %)"}),Object(W.jsx)(q.a.Control,{name:"interest_rate",type:"number",min:"0",onChange:G.handleChange,value:G.values.interest_rate}),Object(W.jsx)(q.a.Text,{className:"text-muted",children:"It will change as per scheme."}),G.touched.interest_rate&&G.errors.interest_rate?Object(W.jsx)("div",{class:"text-danger",children:G.errors.interest_rate}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Loan Amount"}),Object(W.jsx)(q.a.Control,{name:"loan_amount",type:"number",min:"0",onChange:G.handleChange,value:G.values.loan_amount}),Object(W.jsx)(q.a.Text,{className:"text-muted",children:"Default will be Max amount of selected scheme."}),G.touched.loan_amount&&G.errors.loan_amount?Object(W.jsx)("div",{class:"text-danger",children:G.errors.loan_amount}):null]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"EMI Payout"}),Object(W.jsxs)("select",{className:"form-control",name:"EMI_payout",onChange:G.handleChange,value:G.values.EMI_payout,children:[Object(W.jsx)("option",{value:"",children:"Select Payout"},""),Object(W.jsx)("option",{value:"weekly",children:"Weekly"},"weekly"),Object(W.jsx)("option",{value:"fortnight",children:"Fortnight"},"monthly"),Object(W.jsx)("option",{value:"village",children:"By village"},"village")]}),G.touched.EMI_payout&&G.errors.EMI_payout?Object(W.jsx)("div",{class:"text-danger",children:G.errors.EMI_payout}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsxs)(q.a.Label,{children:["Tenure(in ",""!=G.values.EMI_payout?{weekly:"Weeks",monthly:"Months",daily:"Days",fortnight:"Fortnight",village:"Village"}[G.values.EMI_payout]:"Months",")"]}),Object(W.jsx)(q.a.Control,{name:"tenure",type:"number",min:"1",onChange:G.handleChange,value:G.values.tenure}),G.touched.tenure&&G.errors.tenure?Object(W.jsx)("div",{class:"text-danger",children:G.errors.tenure}):null]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,md:6,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"EMI Type"}),Object(W.jsx)(q.a.Control,{name:"EMI_type",type:"text",onChange:G.handleChange,value:G.values.EMI_type,disabled:"disabled"}),Object(W.jsx)(q.a.Text,{className:"text-muted",children:"It will change as per selected scheme."})]}),"village"==G.values.EMI_payout?Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Village"}),Object(W.jsxs)("select",{className:"form-control",name:"village_id",onChange:function(e){var t=A.filter((function(t){return t.id==e.target.value}));G.values.week=t[0].week,G.values.day=t[0].day,G.handleChange(e)},value:G.values.village_id,children:[Object(W.jsx)("option",{value:"",children:"Select Village"},""),A.map((function(e,t){return Object(W.jsx)("option",{value:e.id,children:e.village_name},e.id)}))]}),G.touched.village_id&&G.errors.village_id?Object(W.jsx)("div",{class:"text-danger",children:G.errors.village_id}):null]}):""]}),"village"==G.values.EMI_payout?Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,md:6,controlId:"formGriddob",className:"form-group",children:[Object(W.jsx)(q.a.Label,{children:"Week"}),Object(W.jsx)(q.a.Control,{name:"week",type:"text",onChange:G.handleChange,value:G.values.week,disabled:"disabled"})]}),Object(W.jsxs)(q.a.Group,{as:V.a,md:6,controlId:"formGriddob",className:"form-group",children:[Object(W.jsx)(q.a.Label,{children:"Day"}),Object(W.jsx)(q.a.Control,{name:"day",type:"text",onChange:G.handleChange,value:G.values.day,disabled:"disabled"})]})]}):"",Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Save"}),Object(W.jsx)(Y.a,{variant:"danger",onClick:function(){L.push("/")},type:"button",className:"ml-2",children:"Cancel"})]})})]})};var Ke=function(e){var t=Object(R.k)(),a=Object(n.useState)(!1),r=Object(te.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)([]),i=Object(te.a)(o,2),l=i[0],d=i[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,He.getApprovalList();case 4:t=e.sent,s(!1),200==t.statusCode&&d(t.body.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{show:c}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Applications for Approval"}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(ve.a,{className:" shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Application Date"}),Object(W.jsx)("th",{children:"Member name"}),Object(W.jsx)("th",{children:"Scheme ID"}),Object(W.jsx)("th",{children:"Loan Amount"}),Object(W.jsx)("th",{children:"Village"}),Object(W.jsx)("th",{children:"Action"})]})}),Object(W.jsx)("tbody",{children:l.map((function(e,a){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:we()(e.application_date).format("DD-MM-YYYY hh:ss A")}),Object(W.jsx)("td",{children:e.member_name}),Object(W.jsx)("td",{children:e.scheme_id}),Object(W.jsx)("td",{children:e.loan_amount}),Object(W.jsx)("td",{children:e.village_name}),Object(W.jsx)("td",{children:Object(W.jsx)(Y.a,{variant:"success",size:"sm",onClick:function(){return a=e.id,void t.push("/loanApprovalDetails",a);var a},children:"Approve"})})]})}))})]})})})]})]})};var $e=function(e){var t=Object(R.k)(),a=Object(n.useState)(!1),r=Object(te.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)([]),i=Object(te.a)(o,2),l=i[0],d=i[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,He.getDisburseList();case 4:t=e.sent,s(!1),200==t.statusCode&&d(t.body.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{show:c}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Applications For Disburse"}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(ve.a,{className:" shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Application Date"}),Object(W.jsx)("th",{children:"Member name"}),Object(W.jsx)("th",{children:"Scheme ID"}),Object(W.jsx)("th",{children:"Loan Amount"}),Object(W.jsx)("th",{children:"Village"}),Object(W.jsx)("th",{children:"Action"})]})}),Object(W.jsx)("tbody",{children:l.map((function(e,a){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:we()(e.application_date).format("DD-MM-YYYY hh:ss A")}),Object(W.jsx)("td",{children:e.member_name}),Object(W.jsx)("td",{children:e.scheme_id}),Object(W.jsx)("td",{children:e.loan_amount}),Object(W.jsx)("td",{children:e.village_name}),Object(W.jsx)("td",{children:Object(W.jsx)(Y.a,{variant:"success",size:"sm",onClick:function(){return a=e.id,void t.push("/loanApprovalDetails",a);var a},children:"Disburse"})})]})}))})]})})})]})]})},Je=a(34);var Qe=function(e){return Object(W.jsxs)(Ge.a,{border:"primary",header:!0,text:"dark",className:"m-2",children:[Object(W.jsxs)(Ge.a.Header,{className:"bg-primary text-center",children:[Object(W.jsx)("b",{children:"EMI Details"}),Object(W.jsxs)("svg",{onClick:e.handlePrintEMI,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(W.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(W.jsx)(Ge.a.Body,{children:Object(W.jsxs)(ve.a,{size:"sm",className:"bg-white rounded small",bordered:!0,responsive:!0,children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{className:"bg-success",children:[Object(W.jsx)("th",{children:"EMI date"}),Object(W.jsx)("th",{children:"EMI Amount"}),Object(W.jsx)("th",{children:"Principal"}),Object(W.jsx)("th",{children:"Interest"}),Object(W.jsx)("th",{children:"Outstanding"}),e.showDisburseButton?Object(W.jsx)("th",{children:"EMI Paid"}):""]})}),Object(W.jsx)("tbody",{children:e.emiData.map((function(t,a){return Object(W.jsxs)("tr",{className:e.paidEmiRecord[t.date]?"bg-warning":"",children:[Object(W.jsx)("td",{children:t.date}),Object(W.jsx)("td",{children:t.EMI.toFixed(2)}),Object(W.jsx)("td",{children:t.principal}),Object(W.jsx)("td",{children:t.int_amount}),Object(W.jsx)("td",{children:t.outstanding}),e.showDisburseButton?Object(W.jsx)("td",{children:e.paidEmiRecord[t.date]?Object(W.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-check-circle",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(W.jsx)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]}):""}):""]})}))})]})})]},0)},Xe=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){return Object(W.jsxs)("div",{children:[Object(W.jsx)("h3",{className:"text-center mb-5 mt-3",children:"AA2 MutualHelp Micro Finance"}),Object(W.jsxs)(Ge.a,{border:"primary",header:!0,text:"dark",className:"m-2",children:[Object(W.jsx)(Ge.a.Header,{className:"bg-primary text-center",children:Object(W.jsx)("b",{children:"EMI Details"})}),Object(W.jsx)(Ge.a.Body,{children:Object(W.jsxs)(ve.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"EMI date"}),Object(W.jsx)("th",{children:"EMI Amount"}),Object(W.jsx)("th",{children:"Principal"}),Object(W.jsx)("th",{children:"Interest"}),Object(W.jsx)("th",{children:"Outstanding"}),Object(W.jsx)("th",{children:"Signature"})]})}),Object(W.jsx)("tbody",{children:this.props.emiData.map((function(e,t){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.date}),Object(W.jsx)("td",{children:e.EMI}),Object(W.jsx)("td",{children:e.principal}),Object(W.jsx)("td",{children:e.int_amount}),Object(W.jsx)("td",{children:e.outstanding}),Object(W.jsx)("td",{})]})}))})]})})]},0)]})}}]),a}(r.a.PureComponent);var Ze=function(e){var t=Object(R.k)(),a=Object(n.useRef)(),r=Object(Je.useReactToPrint)({content:function(){return a.current},documentTitle:"AA2-Member"}),c=Object(n.useRef)(),s=Object(Je.useReactToPrint)({content:function(){return c.current},documentTitle:"AA2-application"}),i=Object(n.useRef)(),l=Object(Je.useReactToPrint)({content:function(){return i.current},documentTitle:"AA2-EMI-details"}),d=Object(o.d)((function(e){return e.auth})),j=Object(n.useState)([]),u=Object(te.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(!1),O=Object(te.a)(m,2),x=O[0],p=O[1],g=Object(n.useState)(!1),v=Object(te.a)(g,2),f=v[0],y=v[1],_=Object(n.useState)([]),w=Object(te.a)(_,2),C=w[0],k=w[1],N=Object(n.useState)({}),S=Object(te.a)(N,2),M=S[0],I=S[1],D=Object(n.useState)({isShow:!1,type:"",message:""}),A=Object(te.a)(D,2),E=A[0],L=A[1],P=Object(n.useState)(!1),G=Object(te.a)(P,2),F=G[0],H=G[1],T=Object(n.useState)(!1),B=Object(te.a)(T,2),z=B[0],q=B[1];Object(n.useEffect)((function(){console.log(e),U()}),[]);var U=function(){var t=Object(ge.a)(pe.a.mark((function t(){var a,n,r,c,s,o,i;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),y(!0),t.next=5,He.getLoanDetailbyId(e.location.state);case 5:return a=t.sent,n={loanStartDate:a.body.message[0].application_date,interest_rate:a.body.message[0].interest_rate,tenure:a.body.message[0].Tenure,EMI_payout:a.body.message[0].EMI_payout,loan_amount:a.body.message[0].loan_amount,EMI_type:a.body.message[0].EMI_type,week:a.body.message[0].week,day:a.body.message[0].day},y(!0),t.next=10,Te.calculateEMI(n);case 10:if(r=t.sent,c=[],s=[],!a.body.message[0].loan_account_no){t.next=19;break}return t.next=16,Te.getPaidEmis(a.body.message[0].loan_account_no);case 16:for(c=t.sent,o=0;o<c.body.message.length;o++)i=we()(c.body.message[o].EMI_date).format("DD-MM-yyyy"),s[i]=!0;h(s);case 19:k(r.body.message),y(!1),console.log(a),p(!1),200==a.statusCode&&(H(0==a.body.message[0].is_approved),q(1==a.body.message[0].is_approved&&0==a.body.message[0].is_disbursed),I(a.body.message[0])),t.next=30;break;case 26:t.prev=26,t.t0=t.catch(0),p(!1),console.log(t.t0);case 30:case"end":return t.stop()}}),t,null,[[0,26]])})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(ge.a)(pe.a.mark((function t(a){var n,r;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),n={id:e.location.state,actionType:a},t.next=5,He.approveRejectLoan(n);case 5:r=t.sent,console.log(r),p(!1),200==r.statusCode&&(H(!1),L({isShow:!0,type:"bg-success",message:r.body.message})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),p(!1),L({isShow:!0,type:"bg-danger",message:t.t0.response.body.message}),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),$=function(){var t=Object(ge.a)(pe.a.mark((function t(a){var n,r;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),n={id:e.location.state,actionType:a},t.next=5,He.disburseRejectLoan(n);case 5:r=t.sent,p(!1),200==r.statusCode&&(q(!1),L({isShow:!0,type:"bg-success",message:r.body.message})),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),p(!1),L({isShow:!0,type:"bg-danger",message:t.t0.response.body.message}),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Y.a,{className:"mt-2 ml-2",onClick:function(){t.goBack()},size:"sm",children:"Back"}),Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:E.isShow,onClose:function(){return L({isShow:!1,type:"",message:""})},className:"loader "+E.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==E.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:E.message})]},1),Object(W.jsx)(X,{show:x}),!F||"checker"!=d.role&&"admin"!=d.role?"":Object(W.jsx)(ie.a,{children:Object(W.jsxs)(V.a,{className:"text-center",children:[Object(W.jsx)(Y.a,{variant:"primary",type:"button",onClick:function(){return K(1)},children:"Approve"}),"  ",Object(W.jsx)(Y.a,{variant:"danger",type:"button",onClick:function(){return K(-1)},children:"Reject"})]})}),!z||"checker"!=d.role&&"admin"!=d.role?"":Object(W.jsx)(ie.a,{children:Object(W.jsxs)(V.a,{className:"text-center",children:[Object(W.jsx)(Y.a,{variant:"primary",type:"button",onClick:function(){return $(1)},children:"Disburse"}),"  ",Object(W.jsx)(Y.a,{variant:"danger",type:"button",onClick:function(){return $(-1)},children:"Reject"})]})}),Object(W.jsxs)(ie.a,{xs:1,md:2,className:"g-1",children:[Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{border:"success",header:!0,text:"dark",className:"m-2",ref:a,children:[Object(W.jsxs)(Ge.a.Header,{className:"bg-success text-center",children:[Object(W.jsx)("b",{children:"Member Details"}),Object(W.jsxs)("svg",{onClick:r,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(W.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(W.jsx)(Ge.a.Body,{children:Object(W.jsx)(ve.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(W.jsxs)("tbody",{children:[Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Member Name"}),Object(W.jsx)("td",{children:M.member_name})," "]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Member Group ID"}),"  ",Object(W.jsx)("td",{children:M.member_group_id})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Member Address"}),"  ",Object(W.jsx)("td",{children:M.address})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"DOB"}),"   ",Object(W.jsx)("td",{children:we()(M.date_of_birth).format("DD-MM-YYYY")})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Phone"})," ",Object(W.jsx)("td",{children:M.mobile_number})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Gender"}),"  ",Object(W.jsx)("td",{children:M.gender})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Aadhar No."})," ",Object(W.jsx)("td",{children:M.aadhar_number})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"PAN"})," ",Object(W.jsx)("td",{children:M.pan_card_number})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Driving License"})," ",Object(W.jsx)("td",{children:M.driving_license_number})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Ration Card No."})," ",Object(W.jsx)("td",{children:M.ration_card_number})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Voter ID No."})," ",Object(W.jsx)("td",{children:M.voter_id_number})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Bank Account No."})," ",Object(W.jsx)("td",{children:M.bank_account})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Bank IFSC code"})," ",Object(W.jsx)("td",{children:M.bank_ifsc_code})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Bank Account Holder"})," ",Object(W.jsx)("td",{children:M.bank_account_holder})]})]})})})]},0)}),Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{border:"info",header:!0,text:"dark",className:"m-2",ref:c,children:[Object(W.jsxs)(Ge.a.Header,{className:"bg-info text-center",children:[Object(W.jsx)("b",{children:"Application Details"}),Object(W.jsxs)("svg",{onClick:s,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(W.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(W.jsx)(Ge.a.Body,{children:Object(W.jsx)(ve.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(W.jsxs)("tbody",{children:[Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Account No"}),"  ",Object(W.jsx)("td",{children:M.loan_account_no})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Application Date"}),Object(W.jsx)("td",{children:we()(M.application_date).format("DD-MM-YYYY HH:SS")})," "]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Scheme Id"}),"  ",Object(W.jsx)("td",{children:M.scheme_id})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Village Name"}),Object(W.jsx)("td",{children:M.village_name})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"EMI Week"}),Object(W.jsx)("td",{children:M.week})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"EMI Day"}),Object(W.jsx)("td",{children:M.day})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Member Address"}),"  ",Object(W.jsx)("td",{children:M.address})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Loan Amount"}),"   ",Object(W.jsx)("td",{children:M.loan_amount})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Interest rate"})," ",Object(W.jsx)("td",{children:M.interest_rate})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"EMI payout"}),"  ",Object(W.jsx)("td",{children:M.EMI_payout})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"EMI type"}),"  ",Object(W.jsx)("td",{children:M.EMI_type})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Tenure"})," ",Object(W.jsx)("td",{children:M.Tenure})]})]})})})]},0)}),Object(W.jsxs)(V.a,{children:[Object(W.jsx)(X,{show:f,relative:!0}),Object(W.jsx)(Qe,{showDisburseButton:1==M.is_approved&&1==M.is_disbursed,emiData:C,paidEmiRecord:b,handlePrintEMI:l}),Object(W.jsx)("div",{style:{display:"none"},children:Object(W.jsx)(Xe,{ref:i,emiData:C})})]})]})]})};var et=function(e){var t=Object(R.k)(),a=Object(n.useState)(!1),c=Object(te.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)([]),l=Object(te.a)(i,2),j=l[0],u=l[1];Object(n.useEffect)((function(){p()}),[]);var b=Object(n.useMemo)((function(){return j.map((function(e,t){return{col1:e.loan_account_no?e.loan_account_no:"N/A",col2:we()(e.application_date).format("DD-MM-yyy hh:ss A"),col3:e.member_name,col4:e.scheme_id,col5:e.loan_amount,col6:e.village_name,col7:e.actionStatus,col8:e}}))}),[j]),h=Object(n.useMemo)((function(){return[{Header:"Account no.",accessor:"col1",allowFilter:!0},{Header:"Application date",accessor:"col2",allowFilter:!0},{Header:"Member name",accessor:"col3",allowFilter:!0},{Header:"Scheme ID",accessor:"col4",allowFilter:!0},{Header:"Loan amount",accessor:"col5",allowFilter:!0},{Header:"Village",accessor:"col6",allowFilter:!0},{Header:"Status",accessor:"col7",allowFilter:!1,Cell:function(e){return Object(W.jsx)(fe.a,{className:"Approved"==e.value||"Disbursed"==e.value?"bg-success":"bg-danger",children:e.value})}},{Header:"Action",accessor:"col8",allowFilter:!1,Cell:function(e){return Object(W.jsx)(Y.a,{size:"sm",variant:"info",onClick:function(){t.push("/loanApprovalDetails",e.value.id)},type:"button",className:"ml-2",children:"View"})}}]}),[]);function m(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,r=t.setFilter,c=n.length;return Object(W.jsx)("input",{className:"form-control",value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var O=r.a.useMemo((function(){return{Filter:m}}),[]),x=function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return Object(W.jsxs)(Ee.a,{children:[Object(W.jsx)(Ee.a.First,{onClick:function(){return S(0)}}),Object(W.jsx)(Ee.a.Prev,{onClick:function(){return M()},disabled:!D}),t.map((function(e){return Object(W.jsx)(Ee.a.Item,{active:e===N+1,onClick:function(){return S(e-1)},children:e},e)})),Object(W.jsx)(Ee.a.Next,{onClick:function(){return I()},disabled:!A}),Object(W.jsx)(Ee.a.Last,{onClick:function(){return S(e-1)}})]})},p=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,He.getAllLoanApplications();case 4:t=e.sent,o(!1),200==t.statusCode&&(a=t.body.message.map((function(e,t){return 1==e.is_approved&&1==e.is_disbursed?e.actionStatus="Disbursed":1==e.is_approved&&0==e.is_disbursed?e.actionStatus="Approved":-1==e.is_disbursed?e.actionStatus="Disburse Rejected":-1==e.is_approved?e.actionStatus="Approval Rejected":e.actionStatus="Pending",e})),u(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),o(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=Object(Le.useTable)({columns:h,data:b,defaultColumn:O,initialState:{pageIndex:0}},Le.useFilters,Le.useSortBy,Le.usePagination),v=g.getTableProps,f=g.getTableBodyProps,y=g.headerGroups,_=(g.rows,g.prepareRow),w=(g.pageOptions,g.page),C=g.pageCount,k=g.state,N=k.pageIndex,S=(k.pageSize,g.gotoPage),M=g.previousPage,I=g.nextPage,D=(g.setPageSize,g.canPreviousPage),A=g.canNextPage;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{show:s}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"All Loan Applications"}),Object(W.jsx)(ie.a,{children:Object(W.jsxs)(V.a,{children:[Object(W.jsx)("div",{className:"text-right",children:x(C)}),Object(W.jsxs)(ve.a,Object(d.a)(Object(d.a)({},v()),{},{className:"shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:y.map((function(e){return Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(W.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(W.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(W.jsx)("div",{children:e.allowFilter?e.render("Filter"):null})]}))}))}))}))}),Object(W.jsx)("tbody",Object(d.a)(Object(d.a)({},f()),{},{children:w.map((function(e){return _(e),Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return console.log(e),Object(W.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(W.jsx)("div",{className:"text-right",children:x(C)})]})})]})]})};var tt=function(e){var t=Object(n.useState)(new Date),a=Object(te.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(te.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)([]),j=Object(te.a)(d,2),u=j[0],b=j[1],h=Object(n.useRef)(),m=Object(Je.useReactToPrint)({content:function(){return h.current},documentTitle:"AA2-EMI-details"}),O=Object(Ne.a)({initialValues:{loanStartDate:"",interest_rate:"",tenure:"",EMI_payout:"",loan_amount:"",EMI_type:"flat",week:"",day:""},validate:function(e){var t={};return e.interest_rate||(t.interest_rate="Interest rate is Required"),e.loan_amount||(t.loan_amount="Loan amount is Required"),e.tenure||(t.tenure="Tenure is Required"),e.EMI_payout||(t.EMI_payout="EMI payout is Required"),"village"!=e.EMI_payout||e.week||(t.week="Week is Required"),"village"!=e.EMI_payout||e.day||(t.day="Day is Required"),t},onSubmit:function(){var e=Object(ge.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,t.loanStartDate=r,console.log(t),e.next=6,Te.calculateEMI(t);case 6:a=e.sent,l(!1),200==a.statusCode&&b(a.body.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),l(!1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{show:i}),Object(W.jsx)(he.a,{fluid:!0,children:Object(W.jsxs)(ie.a,{children:[Object(W.jsx)(V.a,{children:Object(W.jsx)(he.a,{className:"bg-white mt-2 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:O.handleSubmit,children:[Object(W.jsxs)(q.a.Group,{as:V.a,className:"form-group required pl-0 pr-0",controlId:"formGridEnroll",children:[Object(W.jsx)(q.a.Label,{children:"Application Date"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:r,onChange:function(e){return c(e)},name:"loanStartDate"}),O.touched.loanStartDate&&O.errors.loanStartDate?Object(W.jsx)("div",{class:"text-danger",children:O.errors.loanStartDate}):null]}),Object(W.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(W.jsx)(q.a.Label,{children:"Loan amount"}),Object(W.jsx)(q.a.Control,{type:"number",name:"loan_amount",placeholder:"Enter loan amount",onChange:O.handleChange,value:O.values.loan_amount}),O.touched.loan_amount&&O.errors.loan_amount?Object(W.jsx)("div",{class:"text-danger",children:O.errors.loan_amount}):null]}),Object(W.jsxs)(q.a.Group,{className:"mb-3 form-group required",controlId:"formBasicEmail",children:[Object(W.jsx)(q.a.Label,{children:"Interest rate"}),Object(W.jsx)(q.a.Control,{type:"number",name:"interest_rate",placeholder:"Enter interest rate",onChange:O.handleChange,value:O.values.interest_rate}),O.touched.interest_rate&&O.errors.interest_rate?Object(W.jsx)("div",{class:"text-danger",children:O.errors.interest_rate}):null]}),Object(W.jsxs)(q.a.Group,{className:"mb-3 form-group required",controlId:"formBasicEmail",children:[Object(W.jsx)(q.a.Label,{children:"Tenure"}),Object(W.jsx)(q.a.Control,{type:"number",name:"tenure",onChange:O.handleChange,value:O.values.tenure}),O.touched.tenure&&O.errors.tenure?Object(W.jsx)("div",{class:"text-danger",children:O.errors.tenure}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,className:"mb-3 pl-0 pr-0 required",controlId:"formGridAddress1",children:[Object(W.jsx)(q.a.Label,{children:"EMI payout"}),Object(W.jsxs)("select",{className:"form-control",name:"EMI_payout",onChange:O.handleChange,value:O.values.EMI_payout,children:[Object(W.jsx)("option",{value:"",children:"Select payout"},""),Object(W.jsx)("option",{value:"weekly",children:"Weekly"},"weekly"),Object(W.jsx)("option",{value:"fortnight",children:"Fortnight"},"monthly"),Object(W.jsx)("option",{value:"village",children:"By village"},"village")]}),O.touched.EMI_payout&&O.errors.EMI_payout?Object(W.jsx)("div",{class:"text-danger",children:O.errors.EMI_payout}):null]}),"village"==O.values.EMI_payout?Object(W.jsxs)(q.a.Group,{as:V.a,className:"mb-3 pl-0 pr-0 required",controlId:"formGridAddress1",children:[Object(W.jsx)(q.a.Label,{children:"Week"}),Object(W.jsxs)("select",{className:"form-control",name:"week",onChange:O.handleChange,value:O.values.week,children:[Object(W.jsx)("option",{value:"",children:"Select Week"},""),Object(W.jsx)("option",{value:"1",children:"Week 1"},"1"),Object(W.jsx)("option",{value:"2",children:"Week 2"},"2")]}),O.touched.week&&O.errors.week?Object(W.jsx)("div",{class:"text-danger",children:O.errors.week}):null]}):"","village"==O.values.EMI_payout?Object(W.jsxs)(q.a.Group,{as:V.a,className:"mb-3 pl-0 pr-0 required",controlId:"formGridAddress1",children:[Object(W.jsx)(q.a.Label,{children:"Day"}),Object(W.jsxs)("select",{className:"form-control",name:"day",onChange:O.handleChange,value:O.values.day,children:[Object(W.jsx)("option",{value:"",children:"Select day"},""),Object(W.jsx)("option",{value:"monday",children:"Monday"},"monday"),Object(W.jsx)("option",{value:"tuesday",children:"Tuesday"},"tuesday"),Object(W.jsx)("option",{value:"wednesday",children:"Wednesday"},"wednesday"),Object(W.jsx)("option",{value:"thrusday",children:"Thrusday"},"thrusday"),Object(W.jsx)("option",{value:"friday",children:"Friday"},"friday")]}),O.touched.day&&O.errors.day?Object(W.jsx)("div",{class:"text-danger",children:O.errors.day}):null]}):"",Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Calculate"})]})})}),Object(W.jsx)(V.a,{md:8,children:Object(W.jsxs)(Ge.a,{border:"primary",header:!0,text:"dark",className:"m-2",ref:h,children:[Object(W.jsxs)(Ge.a.Header,{className:"bg-primary text-center",children:[Object(W.jsx)("b",{children:"AA2 Micro Finance EMI Details"}),Object(W.jsxs)("svg",{onClick:m,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(W.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(W.jsx)(Ge.a.Body,{children:Object(W.jsxs)(ve.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"EMI date"}),Object(W.jsx)("th",{children:"EMI Amount"}),Object(W.jsx)("th",{children:"Principal"}),Object(W.jsx)("th",{children:"Interest"}),Object(W.jsx)("th",{children:"Outstanding"})]})}),Object(W.jsx)("tbody",{children:u.map((function(e,t){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.date}),Object(W.jsx)("td",{children:e.EMI.toFixed(2)}),Object(W.jsx)("td",{children:e.principal}),Object(W.jsx)("td",{children:e.int_amount}),Object(W.jsx)("td",{children:e.outstanding})]})}))})]})})]},0)})]})})]})},at=a(240),nt=a(129),rt=function(e){Object(B.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).add=function(e,t){return console.log(e,t.values),parseFloat(t.values.col7)+e},e}return Object(T.a)(a,[{key:"render",value:function(){return Object(W.jsxs)("div",{children:[Object(W.jsx)("h3",{className:"text-center mb-5 mt-3",children:"AAs2 MutualHelp Micro Finance"}),Object(W.jsxs)(ve.a,{className:" shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Account No."}),Object(W.jsx)("th",{children:"Group"}),Object(W.jsx)("th",{children:"Village Name"}),Object(W.jsx)("th",{children:"Member ID"}),Object(W.jsx)("th",{children:"Name"}),Object(W.jsx)("th",{children:"No. of Emi"}),Object(W.jsx)("th",{children:"EMI Amount"}),Object(W.jsx)("th",{children:"Outstanding"}),Object(W.jsx)("th",{children:"Company Signature"}),Object(W.jsx)("th",{children:"Customer Signature"})]})}),Object(W.jsx)("tbody",{children:this.props.dueEmis.map((function(e,t){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.values.col1}),Object(W.jsx)("td",{children:e.values.col2}),Object(W.jsx)("td",{children:e.values.col3}),Object(W.jsx)("td",{children:e.values.col4}),Object(W.jsx)("td",{children:e.values.col5}),Object(W.jsx)("td",{children:e.values.col6}),Object(W.jsx)("td",{children:e.values.col7}),Object(W.jsx)("td",{children:e.values.col8}),Object(W.jsx)("td",{className:"border"}),Object(W.jsx)("td",{className:"border"})]})}))}),Object(W.jsx)("tfoot",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Total Collection"}),Object(W.jsx)("th",{colSpan:"9",children:this.props.dueEmis.reduce(this.add,0)})]})})]})]})}}]),a}(r.a.PureComponent);var ct=function(e){var t=Object(n.useState)(!1),a=Object(te.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!1),i=Object(te.a)(o,2),l=i[0],j=i[1],u=Object(n.useState)([]),b=Object(te.a)(u,2),h=b[0],m=b[1],O=Object(n.useState)(0),x=Object(te.a)(O,2),p=x[0],g=x[1],v=Object(n.useState)(new Date),f=Object(te.a)(v,2),y=f[0],_=f[1],w=Object(n.useRef)(),C=Object(Je.useReactToPrint)({content:function(){return w.current},documentTitle:"AA2-Due-EMIs"});Object(n.useEffect)((function(){D()}),[]);var k=Object(n.useMemo)((function(){return h.map((function(e,t){return{col1:e.loan_account_no,col2:e.member_group_id,col3:e.village_name,col4:e.member_id,col5:e.member_name,col6:e.remain_EMI,col7:e.EMI_amount.toFixed(2),col8:e.outstanding,col9:e}}))}),[h]),N=Object(n.useMemo)((function(){return[{Header:"Account no.",accessor:"col1",allowFilter:!0,Cell:function(e){var t;return Object(W.jsx)(F.Link,{to:{pathname:"/loanApprovalDetails",state:null===(t=h[e.row.id])||void 0===t?void 0:t.loan_table_id},children:e.value})}},{Header:"Group",accessor:"col2",allowFilter:!0,Cell:function(e){return Object(W.jsx)(F.Link,{to:"/memberGroup",children:e.value})}},{Header:"Village Name",accessor:"col3",allowFilter:!0,Cell:function(e){return Object(W.jsx)(F.Link,{to:"/village",children:e.value})}},{Header:"Member ID",accessor:"col4",allowFilter:!0,Cell:function(e){return Object(W.jsx)(F.Link,{to:{pathname:"/viewMemberDetail",state:e.value},children:e.value})}},{Header:"Name",accessor:"col5",allowFilter:!0,Cell:function(e){var t;return Object(W.jsx)(F.Link,{to:{pathname:"/viewMemberDetail",state:null===(t=h[e.row.id])||void 0===t?void 0:t.member_id},children:e.value})}},{Header:"No. of EMI",accessor:"col6",allowFilter:!0},{Header:"EMI Amount",accessor:"col7",allowFilter:!0},{Header:"Outstanding",accessor:"col8",allowFilter:!1},{Header:"Action",accessor:"col9",allowFilter:!1,Cell:function(e){return Object(W.jsx)(Y.a,{size:"sm",variant:"success",onClick:function(){return E(e.value.emi_id)},children:"Pay"})}}]}),[h]);function S(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,r=t.setFilter,c=n.length;return Object(W.jsx)("input",{className:"form-control",value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var M=r.a.useMemo((function(){return{Filter:S}}),[]),I=function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return Object(W.jsxs)(Ee.a,{className:"text-left",children:[Object(W.jsx)(Ee.a.First,{onClick:function(){return K(0)}}),Object(W.jsx)(Ee.a.Prev,{onClick:function(){return $()},disabled:!Q}),t.map((function(e){return Object(W.jsx)(Ee.a.Item,{active:e===U+1,onClick:function(){return K(e-1)},children:e},e)})),Object(W.jsx)(Ee.a.Next,{onClick:function(){return J()},disabled:!Z}),Object(W.jsx)(Ee.a.Last,{onClick:function(){return K(e-1)}})]})},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we()().format("yyyy-MM-DD");j(!0),Te.getDueEmis(e).then((function(e){if(j(!1),200==e.statusCode){var t;t=e.body.message.map((function(e){return e.loan_table_id=e.loan_account_no.substring(11),e})),m(t)}else m([])}))},A=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.prev=1,j(!0),e.next=5,Te.paidEmi(p);case 5:t=e.sent,j(!1),200==t.statusCode&&(a=h.filter((function(e,t){return e.emi_id!=p})),m(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),j(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),E=function(e){g(e),s(!0)},L=Object(Le.useTable)({columns:N,data:k,defaultColumn:M,initialState:{pageIndex:0}},Le.useFilters,Le.useSortBy,Le.usePagination),P=L.getTableProps,G=L.getTableBodyProps,R=L.headerGroups,H=L.rows,T=L.prepareRow,B=(L.pageOptions,L.page),z=L.pageCount,q=L.state,U=q.pageIndex,K=(q.pageSize,L.gotoPage),$=L.previousPage,J=L.nextPage,Q=(L.setPageSize,L.canPreviousPage),Z=L.canNextPage;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ce.a,{show:c,onHide:function(){return s(!1)},children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Paid EMI "})}),Object(W.jsx)(ce.a.Body,{children:"Are you sure?"}),Object(W.jsxs)(ce.a.Footer,{children:[Object(W.jsx)(Y.a,{variant:"secondary",onClick:function(){return s(!1)},children:"Cancel"}),Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){return A()},children:"Paid"})]})]}),Object(W.jsx)(X,{show:l}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Due EMIs"}),Object(W.jsx)(ie.a,{children:Object(W.jsxs)(V.a,{children:[Object(W.jsxs)(at.a,{className:"mb-3",children:[Object(W.jsx)(nt.a,{className:"mr-3",children:"EMI Date:"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:y,onChange:function(e){return _(t=e),void D(we()(t).format("yyyy-MM-DD"));var t},name:"enrollment_date",dateFormat:"dd/MM/yyyy"})]}),Object(W.jsxs)("div",{children:[I(z),Object(W.jsxs)("svg",{style:{cursor:"pointer"},onClick:C,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer mb-2",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(W.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(W.jsxs)(ve.a,Object(d.a)(Object(d.a)({},P()),{},{className:"shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:R.map((function(e){return Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(W.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(W.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(W.jsx)("div",{children:e.allowFilter?e.render("Filter"):null})]}))}))}))}))}),Object(W.jsx)("tbody",Object(d.a)(Object(d.a)({},G()),{},{children:B.map((function(e){return T(e),Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(W.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(W.jsxs)("div",{style:{display:"none"},children:[" ",Object(W.jsx)(rt,{ref:w,dueEmis:H})]}),Object(W.jsx)("div",{className:"text-right",children:I(z)})]})})]})]})};var st=function(e){var t=Object(n.useState)(!1),a=Object(te.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),o=Object(te.a)(s,2),i=o[0],l=o[1];Object(n.useEffect)((function(){d()}),[]);var d=function(){c(!0),Be.getVillage().then((function(e){c(!1),200==e.statusCode?l(e.body.message):l([])}))};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{show:r}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Village"}),Object(W.jsx)(ie.a,{className:"mb-5 mt-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)(F.Link,{to:"/addVillage",children:Object(W.jsx)(Y.a,{variant:"info",active:!0,children:"Add Village"})})})}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(ve.a,{className:" shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Village ID"}),Object(W.jsx)("th",{children:"Village Name"}),Object(W.jsx)("th",{children:"Week"}),Object(W.jsx)("th",{children:"Day"})]})}),Object(W.jsx)("tbody",{children:i.map((function(e,t){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.id}),Object(W.jsx)("td",{children:e.village_name}),Object(W.jsx)("td",{children:e.week}),Object(W.jsx)("td",{children:e.day})]})}))})]})})})]})]})};var ot=function(e){var t=Object(n.useState)({}),a=Object(te.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(te.a)(s,2),i=o[0],j=o[1],u=Object(n.useState)({isShow:!1,type:"",message:""}),b=Object(te.a)(u,2),h=b[0],m=b[1],O=Object(Ne.a)({initialValues:{village_name:"",week:"",day:""},validate:function(e){var t={};return e.village_name||(t.village_name="Village name is Required"),e.week||(t.week="Week is Required"),e.day||(t.day="Day is Required"),t},onSubmit:function(){var e=Object(ge.a)(pe.a.mark((function e(t){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,Be.saveVillage(t);case 4:a=e.sent,j(!1),200==a.statusCode?(m({isShow:!0,type:"bg-success",message:a.body.message}),O.resetForm()):m({isShow:!0,type:"bg-danger",message:a.body.message}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),j(!1),m({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),handleChange:function(){c((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},r.target.name,r.target.value))}))}});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:h.isShow,onClose:function(){return m({isShow:!1,type:"",message:""})},className:"loader "+h.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==h.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:h.message})]},1),Object(W.jsx)(X,{show:i}),Object(W.jsx)("h2",{className:"text-info text-center",children:"Add Village"}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{md:6,children:Object(W.jsx)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:O.handleSubmit,children:[Object(W.jsxs)(q.a.Group,{className:"mb-3 form-group required",controlId:"formBasicEmail",children:[Object(W.jsx)(q.a.Label,{children:"Village Name"}),Object(W.jsx)(q.a.Control,{type:"text",name:"village_name",placeholder:"Enter village name",onChange:O.handleChange,value:O.values.village_name}),O.touched.village_name&&O.errors.village_name?Object(W.jsx)("div",{class:"text-danger",children:O.errors.village_name}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,className:"mb-3 pl-0 pr-0 required",controlId:"formGridAddress1",children:[Object(W.jsx)(q.a.Label,{children:"Week"}),Object(W.jsxs)("select",{className:"form-control",name:"week",onChange:O.handleChange,value:O.values.week,children:[Object(W.jsx)("option",{value:"",children:"Select Week"},""),Object(W.jsx)("option",{value:"1",children:"Week 1"},"1"),Object(W.jsx)("option",{value:"2",children:"Week 2"},"2")]}),O.touched.week&&O.errors.week?Object(W.jsx)("div",{class:"text-danger",children:O.errors.week}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,className:"mb-3 pl-0 pr-0 required",controlId:"formGridAddress1",children:[Object(W.jsx)(q.a.Label,{children:"Day"}),Object(W.jsxs)("select",{className:"form-control",name:"day",onChange:O.handleChange,value:O.values.day,children:[Object(W.jsx)("option",{value:"",children:"Select day"},""),Object(W.jsx)("option",{value:"monday",children:"Monday"},"monday"),Object(W.jsx)("option",{value:"tuesday",children:"Tuesday"},"tuesday"),Object(W.jsx)("option",{value:"wednesday",children:"Wednesday"},"wednesday"),Object(W.jsx)("option",{value:"thrusday",children:"Thrusday"},"thrusday"),Object(W.jsx)("option",{value:"friday",children:"Friday"},"friday")]}),O.touched.day&&O.errors.day?Object(W.jsx)("div",{class:"text-danger",children:O.errors.day}):null]}),Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Save"})]})})})})]})},it={getExpense:function(e){return $.b.get("".concat($.a,"/expense/entry/").concat(e))},saveExpense:function(e){return $.b.post("".concat($.a,"/expense/entry"),e)},deleteExpense:function(e){return $.b.del("".concat($.a,"/expense/entry/").concat(e))},editExpense:function(e,t){return $.b.put("".concat($.a,"/expense/entry/").concat(t),e)}};var lt=function(e){var t=Object(R.k)(),a=Object(n.useState)(!1),r=Object(te.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!1),i=Object(te.a)(o,2),l=i[0],d=i[1],j=Object(n.useState)([]),u=Object(te.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(0),O=Object(te.a)(m,2),x=O[0],p=O[1];Object(n.useEffect)((function(){g()}),[]);var g=function(){d(!0),it.getExpense("all").then((function(e){d(!1),200==e.statusCode?h(e.body.message):h([])}))},v=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.prev=1,d(!0),e.next=5,it.deleteExpense(x);case 5:t=e.sent,d(!1),200==t.statusCode&&(a=b.filter((function(e,t){return e.id!=x})),h(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ce.a,{show:c,onHide:function(){return s(!1)},children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Delete Expense"})}),Object(W.jsx)(ce.a.Body,{children:"Are you sure?"}),Object(W.jsxs)(ce.a.Footer,{children:[Object(W.jsx)(Y.a,{variant:"secondary",onClick:function(){return s(!1)},children:"Cancel"}),Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){return v()},children:"Delete"})]})]}),Object(W.jsx)(X,{show:l}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Expenses"}),Object(W.jsx)(ie.a,{className:"mb-5 mt-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)(F.Link,{to:"/addExpense",children:Object(W.jsx)(Y.a,{variant:"info",size:"lg",active:!0,children:"Add Expense"})})})}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(ve.a,{className:"shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Id"}),Object(W.jsx)("th",{children:"Expense Type"}),Object(W.jsx)("th",{children:"Amount"}),Object(W.jsx)("th",{children:"Date Expense"}),Object(W.jsx)("th",{children:"Created At"}),Object(W.jsx)("th",{children:"Action"})]})}),Object(W.jsx)("tbody",{children:b.map((function(e,a){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.id}),Object(W.jsx)("td",{children:e.expense_type}),Object(W.jsx)("td",{children:e.amount}),Object(W.jsx)("td",{children:e.date_of_expense?we()(e.date_of_expense).format("DD-MM-yyyy"):""}),Object(W.jsx)("td",{children:we()(e.created_at).format("DD-MM-yyyy hh:ss A")}),Object(W.jsxs)("td",{children:[Object(W.jsx)(Y.a,{variant:"success",size:"sm",onClick:function(){t.push("/addExpense",e.id)},children:"Edit"})," ",Object(W.jsx)(Y.a,{variant:"danger",size:"sm",onClick:function(){return function(e){p(e),s(!0)}(e.id)},children:"Delete"})]})]})}))})]})})})]})]})};var dt=function(e){var t=Object(R.k)(),a=Object(o.d)((function(e){return e.auth})),r=Object(n.useState)(new Date),c=Object(te.a)(r,2),s=c[0],i=c[1],j=Object(n.useState)({}),u=Object(te.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(!1),O=Object(te.a)(m,2),x=O[0],p=O[1],g=Object(n.useState)({isShow:!1,type:"",message:""}),v=Object(te.a)(g,2),f=v[0],y=v[1];Object(n.useEffect)((function(){console.log(e),e.location.state&&_(e.location.state)}),[]);var _=function(){var t=Object(ge.a)(pe.a.mark((function t(a){var n;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,it.getExpense(e.location.state);case 4:n=t.sent,w.values.expense_type=n.body.message[0].expense_type,w.values.amount=n.body.message[0].amount,i(new Date(n.body.message[0].date_of_expense)),p(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),p(!1),y({isShow:!0,type:"bg-danger",message:t.t0.response.body.message});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),w=Object(Ne.a)({initialValues:{expense_type:"",amount:"",date_of_expense:"",user_id:a.id},validate:function(e){var t={};return e.expense_type||(t.expense_type="Expense type is Required!"),e.amount||(t.amount="Amount is Required!"),t},onSubmit:function(){var a=Object(ge.a)(pe.a.mark((function a(n){var r;return pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(p(!0),a.prev=1,n.date_of_expense=s,r=[],!e.location.state){a.next=10;break}return a.next=7,it.editExpense(n,e.location.state);case 7:r=a.sent,a.next=13;break;case 10:return a.next=12,it.saveExpense(n);case 12:r=a.sent;case 13:p(!1),200==r.statusCode?(w.resetForm(),e.location.state&&t.push("/expense"),y({isShow:!0,type:"bg-success",message:r.body.message})):y({isShow:!0,type:"bg-danger",message:r.body.message}),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(1),p(!1),y({isShow:!0,type:"bg-danger",message:a.t0.response.body.message});case 21:case"end":return a.stop()}}),a,null,[[1,17]])})));return function(e){return a.apply(this,arguments)}}(),handleChange:function(){h((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},b.target.name,b.target.value))}))}});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:f.isShow,onClose:function(){return y({isShow:!1,type:"",message:""})},className:"loader "+f.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==f.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:f.message})]},1),Object(W.jsx)(X,{show:x}),Object(W.jsx)("h2",{className:"text-info text-center",children:"Add Expense"}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{md:6,children:Object(W.jsx)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:w.handleSubmit,children:[Object(W.jsxs)(q.a.Group,{controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Expense Type:"}),Object(W.jsx)(q.a.Control,{name:"expense_type",onChange:w.handleChange,value:w.values.expense_type}),w.touched.expense_type&&w.errors.expense_type?Object(W.jsx)("div",{class:"text-danger",children:w.errors.expense_type}):null]}),Object(W.jsxs)(q.a.Group,{controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Amount"}),Object(W.jsx)(q.a.Control,{name:"amount",type:"number",onChange:w.handleChange,value:w.values.amount}),w.touched.amount&&w.errors.amount?Object(W.jsx)("div",{class:"text-danger",children:w.errors.amount}):null]}),Object(W.jsxs)(q.a.Group,{className:"form-group required",controlId:"formGridEnroll",children:[Object(W.jsx)(q.a.Label,{children:"Enrollment Date"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:s,onChange:function(e){return i(e)},name:"enrollment_date"})]}),Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Save"})]})})})})]})},jt=(a(226),{getProcessingFee:function(e){return $.b.get("".concat($.a,"/processingFee/entry/").concat(e))},saveProcessingFee:function(e){return $.b.post("".concat($.a,"/processingFee/entry"),e)},deleteProcessingFee:function(e){return $.b.del("".concat($.a,"/processingFee/entry/").concat(e))},editProcessingFee:function(e,t){return $.b.put("".concat($.a,"/processingFee/entry/").concat(t),e)}});var ut=function(e){var t=Object(R.k)(),a=Object(n.useState)(!1),r=Object(te.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!1),i=Object(te.a)(o,2),l=i[0],d=i[1],j=Object(n.useState)([]),u=Object(te.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(0),O=Object(te.a)(m,2),x=O[0],p=O[1];Object(n.useEffect)((function(){g()}),[]);var g=function(){d(!0),jt.getProcessingFee("all").then((function(e){d(!1),200==e.statusCode?h(e.body.message):h([])}))},v=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.prev=1,d(!0),e.next=5,jt.deleteProcessingFee(x);case 5:t=e.sent,d(!1),200==t.statusCode&&(a=b.filter((function(e,t){return e.id!=x})),h(a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.body.message),d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ce.a,{show:c,onHide:function(){return s(!1)},children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Delete Processing Fee"})}),Object(W.jsx)(ce.a.Body,{children:"Are you sure?"}),Object(W.jsxs)(ce.a.Footer,{children:[Object(W.jsx)(Y.a,{variant:"secondary",onClick:function(){return s(!1)},children:"Cancel"}),Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){return v()},children:"Delete"})]})]}),Object(W.jsx)(X,{show:l}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"Processing Fee"}),Object(W.jsx)(ie.a,{className:"mb-5 mt-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)(F.Link,{to:"/addProcessingFee",children:Object(W.jsx)(Y.a,{variant:"info",size:"lg",active:!0,children:"Add Processing Fee"})})})}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(ve.a,{className:"shadow-lg p-3 mb-5 bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Id"}),Object(W.jsx)("th",{children:"Particular"}),Object(W.jsx)("th",{children:"Amount"}),Object(W.jsx)("th",{children:"Date Processing Fee"}),Object(W.jsx)("th",{children:"Created At"}),Object(W.jsx)("th",{children:"Action"})]})}),Object(W.jsx)("tbody",{children:b.map((function(e,a){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:e.id}),Object(W.jsx)("td",{children:e.particular}),Object(W.jsx)("td",{children:e.amount}),Object(W.jsx)("td",{children:e.date_of_processing?we()(e.date_of_processing).format("DD-MM-yyyy"):""}),Object(W.jsx)("td",{children:we()(e.created_at).format("DD-MM-yyyy hh:ss A")}),Object(W.jsxs)("td",{children:[Object(W.jsx)(Y.a,{variant:"success",size:"sm",onClick:function(){t.push("/addProcessingFee",e.id)},children:"Edit"})," ",Object(W.jsx)(Y.a,{variant:"danger",size:"sm",onClick:function(){return function(e){p(e),s(!0)}(e.id)},children:"Delete"})]})]})}))})]})})})]})]})};var bt=function(e){var t=Object(R.k)(),a=Object(o.d)((function(e){return e.auth})),r=Object(n.useState)(new Date),c=Object(te.a)(r,2),s=c[0],i=c[1],j=Object(n.useState)({}),u=Object(te.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(!1),O=Object(te.a)(m,2),x=O[0],p=O[1],g=Object(n.useState)({isShow:!1,type:"",message:""}),v=Object(te.a)(g,2),f=v[0],y=v[1];Object(n.useEffect)((function(){console.log(e),e.location.state&&_(e.location.state)}),[]);var _=function(){var t=Object(ge.a)(pe.a.mark((function t(a){var n;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,jt.getProcessingFee(e.location.state);case 4:n=t.sent,w.values.particular=n.body.message[0].particular,w.values.amount=n.body.message[0].amount,i(new Date(n.body.message[0].date_of_processing)),p(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),p(!1),y({isShow:!0,type:"bg-danger",message:t.t0.response.body.message});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),w=Object(Ne.a)({initialValues:{particular:"",amount:"",date_of_processing:"",user_id:a.id},validate:function(e){var t={};return e.particular||(t.particular="Particular type is Required!"),e.amount||(t.amount="Amount is Required!"),t},onSubmit:function(){var a=Object(ge.a)(pe.a.mark((function a(n){var r;return pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(p(!0),a.prev=1,n.date_of_processing=s,r=[],!e.location.state){a.next=10;break}return a.next=7,jt.editProcessingFee(n,e.location.state);case 7:r=a.sent,a.next=13;break;case 10:return a.next=12,jt.saveProcessingFee(n);case 12:r=a.sent;case 13:p(!1),200==r.statusCode?(w.resetForm(),e.location.state&&t.push("/processingFee"),y({isShow:!0,type:"bg-success",message:r.body.message})):y({isShow:!0,type:"bg-danger",message:r.body.message}),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(1),p(!1),y({isShow:!0,type:"bg-danger",message:a.t0.response.body.message});case 21:case"end":return a.stop()}}),a,null,[[1,17]])})));return function(e){return a.apply(this,arguments)}}(),handleChange:function(){h((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},b.target.name,b.target.value))}))}});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:f.isShow,onClose:function(){return y({isShow:!1,type:"",message:""})},className:"loader "+f.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==f.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:f.message})]},1),Object(W.jsx)(X,{show:x}),Object(W.jsxs)("h2",{className:"text-info text-center",children:[e.location.state?"Edit":"Add"," Processing Fee"]}),Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{md:6,children:Object(W.jsx)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:w.handleSubmit,children:[Object(W.jsxs)(q.a.Group,{controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Particular:"}),Object(W.jsx)(q.a.Control,{name:"particular",onChange:w.handleChange,value:w.values.particular}),w.touched.particular&&w.errors.particular?Object(W.jsx)("div",{class:"text-danger",children:w.errors.particular}):null]}),Object(W.jsxs)(q.a.Group,{controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Amount"}),Object(W.jsx)(q.a.Control,{name:"amount",type:"number",onChange:w.handleChange,value:w.values.amount}),w.touched.amount&&w.errors.amount?Object(W.jsx)("div",{class:"text-danger",children:w.errors.amount}):null]}),Object(W.jsxs)(q.a.Group,{className:"form-group required",controlId:"formGridEnroll",children:[Object(W.jsx)(q.a.Label,{children:"Date of Processing"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:s,onChange:function(e){return i(e)},name:"date_of_processing"})]}),Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Save"})]})})})})]})};var ht=function(e){var t=Object(n.useState)(!1),a=Object(te.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),o=Object(te.a)(s,2),i=o[0],l=o[1],d=Object(n.useRef)("");Object(n.useEffect)((function(){"totalReceived"==e.location.state?(d.current="Received Details",j()):"totalPaid"==e.location.state&&(d.current="Paid Details",u())}),[]);var j=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a,n,r,s,o;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,Ve.getReceivedAmount();case 4:t=e.sent,c(!1),200==t.statusCode?([],[],o=[],r=null===(a=t.body.message)||void 0===a?void 0:a.emis.map((function(e,t){return{date:we()(e.EMI_date).format("DD-MM-yyyy"),particular:"EMI received Loan Account - ".concat(e.loan_account_no),amount:e.EMI_amount}})),s=null===(n=t.body.message)||void 0===n?void 0:n.processingFee.map((function(e,t){return{date:we()(e.created_at).format("DD-MM-yyyy"),particular:e.particular,amount:e.amount}})),(o=[].concat(Object(N.a)(r),Object(N.a)(s))).sort(b),l(o)):l([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a,n,r,s,o;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,Ve.getPaidAmount();case 4:t=e.sent,c(!1),200==t.statusCode?([],[],o=[],r=null===(a=t.body.message)||void 0===a?void 0:a.expenses.map((function(e,t){return{date:we()(e.date_of_expense).format("DD-MM-yyyy"),particular:e.expense_type,amount:e.amount}})),s=null===(n=t.body.message)||void 0===n?void 0:n.loan.map((function(e,t){return{date:we()(e.application_date).format("DD-MM-yyyy"),particular:"Loan disbursed to ".concat(e.member_name," - Loan account ").concat(e.loan_account_no),amount:e.loan_amount}})),(o=[].concat(Object(N.a)(r),Object(N.a)(s))).sort(b),l(o)):l([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),b=function(e,t){return e.date<t.date?-1:e.date>t.date?1:0};return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{border:"success",header:!0,text:"dark",className:"m-2",children:[Object(W.jsx)(Ge.a.Header,{className:"bg-success text-center",children:Object(W.jsxs)("b",{children:[d.current," "]})}),r?Object(W.jsx)(Ge.a.Body,{className:"text-center",children:Object(W.jsx)(Q.a,{animation:"border",variant:"dark"})}):Object(W.jsx)(Ge.a.Body,{children:Object(W.jsxs)(ve.a,{size:"sm",className:"bg-white rounded small",bordered:!0,responsive:!0,children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{className:"bg-success",children:[Object(W.jsx)("th",{children:"SR No."}),Object(W.jsx)("th",{children:"Date"}),Object(W.jsx)("th",{children:"Particular"}),Object(W.jsx)("th",{children:"Amount"})]})}),Object(W.jsx)("tbody",{children:i.map((function(e,t){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:t+1}),Object(W.jsx)("td",{children:e.date}),Object(W.jsx)("td",{children:e.particular}),Object(W.jsx)("td",{children:(a=e.amount,a?a.toString().replace(/.(?=(..)*...$)/g,"$&,"):"")})]});var a}))}),Object(W.jsx)("tfoot",{children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Total"}),Object(W.jsx)("th",{colSpan:"3",className:"text-right",children:i.reduce((function(e,t){return e+parseFloat(t.amount)}),0)})]})})]})})]},0)})})})},mt={getAllRdApplications:function(e){return $.b.get("".concat($.a,"/rdApplication/entry/").concat(e))},openRdAccount:function(e){return $.b.post("".concat($.a,"/rdApplication/entry"),e)},getRdDetails:function(e){return $.b.get("".concat($.a,"/rdApplication/entryById/").concat(e))},getDeposits:function(e,t){return $.b.get("".concat($.a,"/accountDeposited/entryByDate/").concat(e,"/").concat(t))},postDeposit:function(e){return $.b.post("".concat($.a,"/accountDeposited/entry/"),e)},getDepositsGroupBy:function(e,t){return $.b.get("".concat($.a,"/accountDeposited/entryGroupBy/").concat(e,"/").concat(t))}};var Ot=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(R.k)(),c=Object(n.useState)(!1),s=Object(te.a)(c,2),i=s[0],l=s[1],j=Object(n.useState)([]),u=Object(te.a)(j,2),b=(u[0],u[1],Object(n.useState)([])),h=Object(te.a)(b,2),m=h[0],O=h[1];Object(n.useEffect)((function(){g()}),[]);var x=Object(n.useMemo)((function(){return m.map((function(e,t){return{col3:e.agent_name,col1:e.account_number,col2:e.account_holder_name,col4:e.address,col5:e.phone,col6:e.totalDeposited,col9:e}}))}),[m]),p=Object(n.useMemo)((function(){return[{Header:"Agent name",accessor:"col3",allowFilter:!0},{Header:"Account number",accessor:"col1",allowFilter:!0},{Header:"Account holder",accessor:"col2",allowFilter:!0},{Header:"Address",accessor:"col4",allowFilter:!0},{Header:"Phone",accessor:"col5",allowFilter:!0},{Header:"Account Balance",accessor:"col6",allowFilter:!0},{Header:"Action",accessor:"col9",allowFilter:!1,Cell:function(e){return Object(W.jsx)(Y.a,{size:"sm",variant:"info",onClick:function(){a.push("/rdDetails",e.value.id)},type:"button",className:"ml-2",children:"View"})}}]}),[]),g=function(){l(!0);var e=[],a=t.id;"admin"!=t.role&&"maker"!=t.role&&"checker"!=t.role||(a="all"),mt.getAllRdApplications(a).then(function(){var t=Object(ge.a)(pe.a.mark((function t(a){var n;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l(!1),200!=a.statusCode){t.next=9;break}return t.next=4,J.getUsers();case 4:n=t.sent,e=a.body.message.map((function(e){var t=n.body.message.filter((function(t){return t.id==e.agent_id}));return e.agent_name=t[0].name,e})),O(e),t.next=10;break;case 9:O([]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};function v(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,r=t.setFilter,c=n.length;return Object(W.jsx)("input",{className:"form-control",value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var f=r.a.useMemo((function(){return{Filter:v}}),[]),y=function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return Object(W.jsxs)(Ee.a,{children:[Object(W.jsx)(Ee.a.First,{onClick:function(){return A(0)}}),Object(W.jsx)(Ee.a.Prev,{onClick:function(){return E()},disabled:!P}),t.map((function(e){return Object(W.jsx)(Ee.a.Item,{active:e===D+1,onClick:function(){return A(e-1)},children:e},e)})),Object(W.jsx)(Ee.a.Next,{onClick:function(){return L()},disabled:!G}),Object(W.jsx)(Ee.a.Last,{onClick:function(){return A(e-1)}})]})},_=Object(Le.useTable)({columns:p,data:x,defaultColumn:f,initialState:{pageIndex:0}},Le.useFilters,Le.useSortBy,Le.usePagination),w=_.getTableProps,C=_.getTableBodyProps,k=_.headerGroups,N=(_.rows,_.prepareRow),S=(_.pageOptions,_.page),M=_.pageCount,I=_.state,D=I.pageIndex,A=(I.pageSize,_.gotoPage),E=_.previousPage,L=_.nextPage,P=(_.setPageSize,_.canPreviousPage),G=_.canNextPage;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{show:i}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"RD applications"}),Object(W.jsx)(ie.a,{className:"mb-5 mt-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)(F.Link,{to:"/openNewRdAccount",children:Object(W.jsx)(Y.a,{variant:"info",active:!0,children:"Open new RD"})})})}),Object(W.jsx)(ie.a,{children:Object(W.jsxs)(V.a,{children:[Object(W.jsx)("div",{className:"text-right",children:y(M)}),Object(W.jsxs)(ve.a,Object(d.a)(Object(d.a)({},w()),{},{className:"shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:k.map((function(e){return Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(W.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(W.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(W.jsx)("div",{children:e.allowFilter?e.render("Filter"):null})]}))}))}))}))}),Object(W.jsx)("tbody",Object(d.a)(Object(d.a)({},C()),{},{children:S.map((function(e){return N(e),Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return console.log(e),Object(W.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(W.jsx)("div",{className:"text-right",children:y(M)})]})})]})]})};var xt=function(e){var t=Object(R.k)(),a=Object(n.useRef)(),r=Object(Je.useReactToPrint)({content:function(){return a.current},documentTitle:"AA2-Member"}),c=Object(n.useRef)(),s=Object(Je.useReactToPrint)({content:function(){return c.current},documentTitle:"AA2-application"}),i=Object(n.useRef)(),l=(Object(Je.useReactToPrint)({content:function(){return i.current},documentTitle:"AA2-EMI-details"}),Object(o.d)((function(e){return e.auth})),Object(n.useState)([])),d=Object(te.a)(l,2),j=(d[0],d[1],Object(n.useState)(!1)),u=Object(te.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(!1),O=Object(te.a)(m,2),x=(O[0],O[1],Object(n.useState)([])),p=Object(te.a)(x,2),g=(p[0],p[1],Object(n.useState)({})),v=Object(te.a)(g,2),f=v[0],y=v[1];Object(n.useEffect)((function(){console.log(e),_()}),[]);var _=function(){var t=Object(ge.a)(pe.a.mark((function t(){var a;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,mt.getRdDetails(e.location.state);case 4:a=t.sent,[],[],console.log(a),h(!1),200==a.statusCode&&y(a.body.message[0]),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),h(!1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Y.a,{className:"mt-2 ml-2",onClick:function(){t.goBack()},size:"sm",children:"Back"}),Object(W.jsx)(X,{show:b}),Object(W.jsxs)(ie.a,{xs:1,md:2,className:"g-1",children:[Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{border:"success",header:!0,text:"dark",className:"m-2",ref:a,children:[Object(W.jsxs)(Ge.a.Header,{className:"bg-success text-center",children:[Object(W.jsx)("b",{children:"Personal details"}),Object(W.jsxs)("svg",{onClick:r,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(W.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(W.jsx)(Ge.a.Body,{children:Object(W.jsx)(ve.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(W.jsxs)("tbody",{children:[Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Account holder name"}),"  ",Object(W.jsx)("td",{children:f.account_holder_name})]}),Object(W.jsxs)("tr",{children:[" ",Object(W.jsx)("th",{children:"Father/Husband name"}),"  ",Object(W.jsx)("td",{children:f.father_husband_name})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"DOB"}),"   ",Object(W.jsx)("td",{children:f.dob?we()(f.dob).format("DD-MM-YYYY"):""})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Phone"})," ",Object(W.jsx)("td",{children:f.phone})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Gender"}),"  ",Object(W.jsx)("td",{children:f.gender})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Aadhar No."})," ",Object(W.jsx)("td",{children:f.aadhar_card})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"PAN"})," ",Object(W.jsx)("td",{children:f.pan_card})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Driving License"})," ",Object(W.jsx)("td",{children:f.driving_licence})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Ration Card No."})," ",Object(W.jsx)("td",{children:f.ration_card})]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Voter ID No."})," ",Object(W.jsx)("td",{children:f.voter_id})]})]})})})]},0)}),Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{border:"info",header:!0,text:"dark",className:"m-2",ref:c,children:[Object(W.jsxs)(Ge.a.Header,{className:"bg-info text-center",children:[Object(W.jsx)("b",{children:"RD Details"}),Object(W.jsxs)("svg",{onClick:s,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer float-right cursar",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(W.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),Object(W.jsx)(Ge.a.Body,{children:Object(W.jsx)(ve.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(W.jsxs)("tbody",{children:[Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Account Number"}),Object(W.jsx)("td",{children:f.account_number})," "]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Application Date"}),Object(W.jsx)("td",{children:we()(f.created_at).format("DD-MM-YYYY HH:SS")})," "]}),Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Account Balance"}),"   ",Object(W.jsx)("td",{children:f.totalDeposited})]})]})})})]},0)})]})]})};var pt=function(e){var t=Object(o.d)((function(e){return e.auth})),a=Object(n.useState)(!1),r=Object(te.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(new Date),l=Object(te.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)({isShow:!1,type:"",message:""}),b=Object(te.a)(u,2),h=b[0],m=b[1],O=Object(n.useState)(!1),x=Object(te.a)(O,2),p=x[0],g=(x[1],Object(R.k)()),v=Object(Ne.a)({initialValues:{account_holder_name:"",father_husband_name:"",dob:"",address:"",phone:"",aadhar_card:"",pan_card:"",driving_licence:"",voter_id:"",ration_card:"",interest_rate:"",tenure:"",rd_amount:"",period:"",agent_id:"",gender:"",initial_deposited_amount:""},validate:function(e){var t={};return e.account_holder_name||(t.account_holder_name="Account holder name is Required"),e.rd_amount||(t.rd_amount="RD amount  is Required"),e.period||(t.period="Period is Required"),e.interest_rate||(t.interest_rate="Interest rate is Required"),e.tenure||(t.tenure="Tenure is Required"),t},onSubmit:function(){var e=Object(ge.a)(pe.a.mark((function e(a){var n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),a.dob=d,a.agent_id=t.id,a.initial_deposited_amount=p?a.rd_amount:"",e.prev=4,e.next=7,mt.openRdAccount(a);case 7:n=e.sent,console.log(n),s(!1),200==n.status?(v.resetForm(),m({isShow:!0,type:"bg-success",message:n.body.message})):m({isShow:!0,type:"bg-danger",message:n.body.message}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),s(!1),m({isShow:!0,type:"bg-danger",message:e.t0.response.body.message});case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()});return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ke.a,{autohide:!0,delay:3e3,show:h.isShow,onClose:function(){return m({isShow:!1,type:"",message:""})},className:"loader "+h.type,children:[Object(W.jsx)(ke.a.Header,{children:Object(W.jsxs)("strong",{className:"me-auto",children:["bg-danger"==h.type?"Error":"Success"," Message"]})}),Object(W.jsx)(ke.a.Body,{className:"Dark",children:h.message})]},1),Object(W.jsx)(X,{show:c}),Object(W.jsx)("h2",{className:"text-info text-center",children:"Open New RD Account"}),Object(W.jsx)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:Object(W.jsxs)(q.a,{onSubmit:v.handleSubmit,children:[Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Account holder name"}),Object(W.jsx)(q.a.Control,{name:"account_holder_name",type:"text",onChange:v.handleChange,value:v.values.account_holder_name}),v.touched.account_holder_name&&v.errors.account_holder_name?Object(W.jsx)("div",{class:"text-danger",children:v.errors.account_holder_name}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,className:"form-group required",controlId:"formGridEnroll",children:[Object(W.jsx)(q.a.Label,{children:"Date of Birth"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:d,onChange:function(e){return j(e)},name:"application_date"})]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Father/Husband name"}),Object(W.jsx)(q.a.Control,{name:"father_husband_name",type:"text",onChange:v.handleChange,value:v.values.father_husband_name}),v.touched.father_husband_name&&v.errors.father_husband_name?Object(W.jsx)("div",{class:"text-danger",children:v.errors.father_husband_name}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",children:[Object(W.jsx)(q.a.Label,{children:"Address"}),Object(W.jsx)(q.a.Control,{name:"address",as:"textarea",onChange:v.handleChange,value:v.values.address})]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"phone"}),Object(W.jsx)(q.a.Control,{name:"phone",type:"number",onChange:v.handleChange,value:v.values.phone})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",children:[Object(W.jsx)(q.a.Label,{children:"gender"}),Object(W.jsxs)("select",{className:"form-control",name:"gender",onChange:v.handleChange,value:v.values.gender,children:[Object(W.jsx)("option",{value:"",children:"Select gender"},""),Object(W.jsx)("option",{value:"male",children:"Male"},"male"),Object(W.jsx)("option",{value:"female",children:"female"},"female")]})]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group",children:[Object(W.jsx)(q.a.Label,{children:"Aadhar card number"}),Object(W.jsx)(q.a.Control,{name:"aadhar_card",type:"number",onChange:v.handleChange,value:v.values.aadhar_card})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group",children:[Object(W.jsx)(q.a.Label,{children:"PAN"}),Object(W.jsx)(q.a.Control,{name:"pan_card",type:"text",onChange:v.handleChange,value:v.values.pan_card})]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group",children:[Object(W.jsx)(q.a.Label,{children:"Driving Licence"}),Object(W.jsx)(q.a.Control,{name:"driving_licence",type:"text",onChange:v.handleChange,value:v.values.driving_licence})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group",children:[Object(W.jsx)(q.a.Label,{children:"Voter Id"}),Object(W.jsx)(q.a.Control,{name:"voter_id",type:"text",onChange:v.handleChange,value:v.values.voter_id})]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group",children:[Object(W.jsx)(q.a.Label,{children:"Ration card"}),Object(W.jsx)(q.a.Control,{name:"ration_card",type:"text",onChange:v.handleChange,value:v.values.ration_card})]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Interest Rate (in %)"}),Object(W.jsx)(q.a.Control,{name:"interest_rate",type:"number",min:"0",onChange:v.handleChange,value:v.values.interest_rate}),v.touched.interest_rate&&v.errors.interest_rate?Object(W.jsx)("div",{class:"text-danger",children:v.errors.interest_rate}):null]})]}),Object(W.jsxs)(ie.a,{className:"mb-3",children:[Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"RD Amount"}),Object(W.jsx)(q.a.Control,{name:"rd_amount",type:"number",min:"0",onChange:v.handleChange,value:v.values.rd_amount}),Object(W.jsx)(q.a.Text,{className:"text-muted",children:"It will be per month or daily. Based on tenure."}),v.touched.rd_amount&&v.errors.rd_amount?Object(W.jsx)("div",{class:"text-danger",children:v.errors.rd_amount}):null]}),Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Tenure"}),Object(W.jsxs)("select",{className:"form-control",name:"tenure",onChange:v.handleChange,value:v.values.tenure,children:[Object(W.jsx)("option",{value:"",children:"Select Tenure"},""),Object(W.jsx)("option",{value:"daily",children:"Daily"},"daily"),Object(W.jsx)("option",{value:"monthly",children:"Monthly"},"monthly")]}),v.touched.tenure&&v.errors.tenure?Object(W.jsx)("div",{class:"text-danger",children:v.errors.tenure}):null]})]}),Object(W.jsx)(ie.a,{className:"mb-3",children:Object(W.jsxs)(q.a.Group,{md:6,as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Period (in Months)"}),Object(W.jsx)(q.a.Control,{name:"period",type:"number",min:"0",onChange:v.handleChange,value:v.values.period}),v.touched.period&&v.errors.period?Object(W.jsx)("div",{class:"text-danger",children:v.errors.period}):null]})}),Object(W.jsx)(Y.a,{variant:"primary",type:"submit",children:"Save"}),Object(W.jsx)(Y.a,{variant:"danger",onClick:function(){g.push("/")},type:"button",className:"ml-2",children:"Cancel"})]})})]})};var gt=function(e){var t=Object(o.d)((function(e){return e.auth})),a=(Object(R.k)(),Object(n.useState)(!1)),c=Object(te.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)([]),j=Object(te.a)(l,2),u=(j[0],j[1],Object(n.useState)([])),b=Object(te.a)(u,2),h=b[0],m=b[1],O=Object(n.useState)(!1),x=Object(te.a)(O,2),p=x[0],g=x[1],v=Object(n.useState)(""),f=Object(te.a)(v,2),y=f[0],_=f[1],w=Object(n.useState)({account_number:"",deposited_date:"",deposited_amount:"",is_deposited:1,is_account_open_amount:0}),C=Object(te.a)(w,2),k=C[0],N=C[1];Object(n.useEffect)((function(){D()}),[]);var S=Object(n.useMemo)((function(){return h.map((function(e,t){return{col3:e.agent_name,col1:e.account_number,col2:e.account_holder_name,col4:e.address,col5:e.phone,col6:e.totalDeposited,col9:e}}))}),[h]),M=Object(n.useMemo)((function(){return[{Header:"Agent name",accessor:"col3",allowFilter:!0},{Header:"Account number",accessor:"col1",allowFilter:!0},{Header:"Account holder",accessor:"col2",allowFilter:!0},{Header:"Address",accessor:"col4",allowFilter:!0},{Header:"Phone",accessor:"col5",allowFilter:!0},{Header:"Account Balance",accessor:"col6",allowFilter:!0},{Header:"Action",accessor:"col9",allowFilter:!1,Cell:function(e){return Object(W.jsx)(Y.a,{size:"sm",variant:"success",onClick:function(){return I(e.value.account_number)},children:"Deposit"})}}]}),[]),I=function(e){N({account_number:e}),g(!0)},D=function(){i(!0);var e=[],a=t.id;"admin"!=t.role&&"maker"!=t.role&&"checker"!=t.role||(a="all"),mt.getAllRdApplications(a).then(function(){var t=Object(ge.a)(pe.a.mark((function t(a){var n;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(!1),200!=a.statusCode){t.next=9;break}return t.next=4,J.getUsers();case 4:n=t.sent,e=a.body.message.map((function(e){var t=n.body.message.filter((function(t){return t.id==e.agent_id}));return e.agent_name=t[0].name,e})),m(e),t.next=10;break;case 9:m([]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};function A(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,r=t.setFilter,c=n.length;return Object(W.jsx)("input",{className:"form-control",value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}var E=r.a.useMemo((function(){return{Filter:A}}),[]),L=function(){var e=Object(ge.a)(pe.a.mark((function e(){var a,n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""==y||0==y){e.next=10;break}return g(!1),i(!0),a={account_number:k.account_number,agent_id:t.id,deposited_amount:y,deposited_date:we()().format("YYYY-MM-DD"),is_deposited:1,is_account_open_amount:0},e.next=7,mt.postDeposit(a);case 7:n=e.sent,i(!1),200==n.statusCode&&(alert(n.body.message),D());case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response.body.message),i(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),P=function(e){for(var t=[],a=1;a<=e;a++)t.push(a);return Object(W.jsxs)(Ee.a,{children:[Object(W.jsx)(Ee.a.First,{onClick:function(){return Z(0)}}),Object(W.jsx)(Ee.a.Prev,{onClick:function(){return ee()},disabled:!ne}),t.map((function(e){return Object(W.jsx)(Ee.a.Item,{active:e===Q+1,onClick:function(){return Z(e-1)},children:e},e)})),Object(W.jsx)(Ee.a.Next,{onClick:function(){return ae()},disabled:!re}),Object(W.jsx)(Ee.a.Last,{onClick:function(){return Z(e-1)}})]})},G=Object(Le.useTable)({columns:M,data:S,defaultColumn:E,initialState:{pageIndex:0}},Le.useFilters,Le.useSortBy,Le.usePagination),H=G.getTableProps,T=G.getTableBodyProps,B=G.headerGroups,z=(G.rows,G.prepareRow),U=(G.pageOptions,G.page),K=G.pageCount,$=G.state,Q=$.pageIndex,Z=($.pageSize,G.gotoPage),ee=G.previousPage,ae=G.nextPage,ne=(G.setPageSize,G.canPreviousPage),re=G.canNextPage;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(ce.a,{show:p,onHide:function(){return g(!1)},children:[Object(W.jsx)(ce.a.Header,{closeButton:!0,children:Object(W.jsx)(ce.a.Title,{children:"Deposit Money "})}),Object(W.jsx)(ce.a.Body,{children:Object(W.jsxs)(q.a.Group,{as:V.a,controlId:"formGriddob",className:"form-group required",children:[Object(W.jsx)(q.a.Label,{children:"Amount"}),Object(W.jsx)(q.a.Control,{name:"amount",type:"number",onChange:function(e){_(e.target.value)},value:y})]})}),Object(W.jsxs)(ce.a.Footer,{children:[Object(W.jsx)(Y.a,{variant:"secondary",onClick:function(){return g(!1)},children:"Cancel"}),Object(W.jsx)(Y.a,{variant:"primary",onClick:function(){return L()},children:"Deposit"})]})]}),Object(W.jsx)(X,{show:s}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)("h2",{className:"text-info text-center",children:"RD applications"}),Object(W.jsx)(ie.a,{className:"mb-5 mt-3",children:Object(W.jsx)(V.a,{children:Object(W.jsx)(F.Link,{to:"/openNewRdAccount",children:Object(W.jsx)(Y.a,{variant:"info",active:!0,children:"Open new RD"})})})}),Object(W.jsx)(ie.a,{children:Object(W.jsxs)(V.a,{children:[Object(W.jsx)("div",{className:"text-right",children:P(K)}),Object(W.jsxs)(ve.a,Object(d.a)(Object(d.a)({},H()),{},{className:"shadow-lg p-3 mb-5 bg-white rounded small",striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(W.jsx)("thead",{className:"bg-primary",children:B.map((function(e){return Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(W.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(W.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""}),Object(W.jsx)("div",{children:e.allowFilter?e.render("Filter"):null})]}))}))}))}))}),Object(W.jsx)("tbody",Object(d.a)(Object(d.a)({},T()),{},{children:U.map((function(e){return z(e),Object(W.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return console.log(e),Object(W.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(W.jsx)("div",{className:"text-right",children:P(K)})]})})]})]})},vt=a(249);var ft=function(e){var t=Object(n.useState)([]),a=Object(te.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(0),o=Object(te.a)(s,2),i=o[0],l=o[1],d=Object(n.useRef)(),j=Object(Je.useReactToPrint)({content:function(){return d.current},documentTitle:"AA2-Due-EMIs"}),u=0;Object(n.useEffect)((function(){function e(){return(e=Object(ge.a)(pe.a.mark((function e(){var t,a,n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=[],n=[],e.next=5,b();case 5:return t=e.sent,e.next=8,h();case 8:a=e.sent,(n=[].concat(Object(N.a)(t),Object(N.a)(a))).sort(m),c(n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a,n,r,c,s;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(10),e.next=4,Ve.getReceivedAmount();case 4:if(t=e.sent,l(50),200!=t.statusCode){e.next=16;break}return[],[],[],r=null===(a=t.body.message)||void 0===a?void 0:a.emis.map((function(e,t){return{date:we()(e.EMI_date).format("DD-MM-yyyy"),particular:"EMI received Loan Account - ".concat(e.loan_account_no),cr:e.EMI_amount,dr:""}})),c=null===(n=t.body.message)||void 0===n?void 0:n.processingFee.map((function(e,t){return{date:we()(e.created_at).format("DD-MM-yyyy"),particular:e.particular,cr:e.amount,dr:""}})),s=[].concat(Object(N.a)(r),Object(N.a)(c)),e.abrupt("return",s);case 16:return e.abrupt("return",[]);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),l(100);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(ge.a)(pe.a.mark((function e(){var t,a,n,r,c,s;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(70),e.next=4,Ve.getPaidAmount();case 4:if(t=e.sent,l(90),200!=t.statusCode){e.next=17;break}return[],[],[],r=null===(a=t.body.message)||void 0===a?void 0:a.expenses.map((function(e,t){return{date:we()(e.date_of_expense).format("DD-MM-yyyy"),particular:e.expense_type,cr:"",dr:e.amount}})),c=null===(n=t.body.message)||void 0===n?void 0:n.loan.map((function(e,t){return{date:we()(e.application_date).format("DD-MM-yyyy"),particular:"Loan disbursed to ".concat(e.member_name," - Loan account ").concat(e.loan_account_no),dr:e.loan_amount,cr:""}})),s=[].concat(Object(N.a)(r),Object(N.a)(c)),l(100),e.abrupt("return",s);case 17:return e.abrupt("return",[]);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),l(100);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),m=function(e,t){return e.date<t.date?-1:e.date>t.date?1:0},O=function(e,t){var a=u;return u=""!=e?a-parseFloat(e):a+parseFloat(t)},x=function(e){return e?e.toString().replace(/.(?=(..)*...$)/g,"$&,"):""};return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{children:Object(W.jsxs)(Ge.a,{border:"success",header:!0,text:"dark",className:"m-2",children:[Object(W.jsxs)(Ge.a.Header,{className:"bg-success text-center",children:[Object(W.jsx)("b",{children:"Ledger "}),Object(W.jsxs)("svg",{style:{cursor:"pointer",float:"right"},onClick:j,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-printer mb-2",viewBox:"0 0 16 16",children:[Object(W.jsx)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Object(W.jsx)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})]})]}),i<100?Object(W.jsx)(Ge.a.Body,{className:"text-center",children:Object(W.jsx)("div",{style:{top:"50%",position:"relative"},children:Object(W.jsx)(vt.a,{style:{position:"relative",width:"30%",left:"40%"},striped:!0,variant:"info",now:i,label:"".concat(i,"%")})})}):Object(W.jsx)(Ge.a.Body,{children:Object(W.jsxs)(ve.a,{ref:d,size:"sm",className:"bg-white rounded small",bordered:!0,responsive:!0,children:[Object(W.jsx)("thead",{children:Object(W.jsxs)("tr",{className:"bg-success",children:[Object(W.jsx)("th",{children:"SR No."}),Object(W.jsx)("th",{children:"Date"}),Object(W.jsx)("th",{children:"Particular"}),Object(W.jsx)("th",{children:"DR"}),Object(W.jsx)("th",{children:"CR"}),Object(W.jsx)("th",{children:"Balance"})]})}),Object(W.jsx)("tbody",{children:r.map((function(e,t){return Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:t+1}),Object(W.jsx)("td",{children:e.date}),Object(W.jsx)("td",{children:e.particular}),Object(W.jsx)("td",{children:x(e.dr)}),Object(W.jsx)("td",{children:x(e.cr)}),Object(W.jsx)("td",{children:x(O(e.dr,e.cr))})]})}))})]})})]},0)})})})},yt=a(246);var _t=function(e){var t=Object(n.useRef)(0),a=Object(n.useState)(""),r=Object(te.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)([]),i=Object(te.a)(o,2),l=i[0],d=i[1],j=Object(n.useState)(!1),u=Object(te.a)(j,2),b=u[0],h=u[1];Object(n.useEffect)((function(){m()}),[]);var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";h(!0);var a=[];mt.getDepositsGroupBy("all",e).then(function(){var e=Object(ge.a)(pe.a.mark((function e(n){var r;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!1),200!=n.statusCode){e.next=10;break}return e.next=4,J.getUsers();case 4:r=e.sent,t.current=0,a=n.body.message.map((function(e){t.current+=e.total;var a=r.body.message.filter((function(t){return t.id==e.agent_id}));return e.agent_name=a[0].name,e})),d(a),e.next=11;break;case 10:d([]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{show:b}),Object(W.jsxs)(he.a,{fluid:!0,children:[Object(W.jsx)(ie.a,{children:Object(W.jsx)(V.a,{md:6,children:Object(W.jsxs)(he.a,{fluid:!0,className:"bg-white mt-5 shadow-lg p-3 mb-5 bg-white rounded",children:[Object(W.jsxs)("h3",{children:["Total Collection:- Rs ",t.current]}),Object(W.jsxs)(at.a,{className:"m-3",children:[Object(W.jsx)(nt.a,{className:"mr-3",children:"Collection Date:"}),Object(W.jsx)(Ie.a,{class:"form-control",selected:c,onChange:function(e){return s(e)},name:"enrollment_date",dateFormat:"dd/MM/yyyy",autoComplete:!1}),Object(W.jsx)(Y.a,{className:"ml-2",onClick:function(){return m(we()(c).format("yyyy-MM-DD"))},variant:"primary",type:"button",children:"Show"}),Object(W.jsx)(Y.a,{className:"ml-2",onClick:function(){s(),m()},variant:"success",type:"button",children:"Get All"})]})]})})}),l.map((function(e,t){return Object(W.jsx)(yt.a,{children:Object(W.jsxs)(Ge.a,{children:[Object(W.jsxs)(yt.a.Toggle,{style:{cursor:"pointer"},as:Ge.a.Header,eventKey:"0",children:[Object(W.jsx)("b",{style:{color:"blue"},children:Object(W.jsxs)("u",{children:[e.agent_name," - Rs. ",e.total," "]})}),Object(W.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-caret-down-fill float-right",viewBox:"0 0 16 16",children:Object(W.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})]}),Object(W.jsx)(yt.a.Collapse,{eventKey:"0",children:Object(W.jsx)(Ge.a.Body,{children:Object(W.jsx)(ve.a,{size:"sm",className:"bg-white rounded",striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(W.jsx)("thead",{className:"bg-primary",children:Object(W.jsxs)("tr",{children:[Object(W.jsx)("th",{children:"Account Number"}),Object(W.jsx)("th",{children:"Account Holder Name"}),Object(W.jsx)("th",{children:"Father/Husband Name"}),Object(W.jsx)("th",{children:"Phone"}),Object(W.jsx)("th",{children:"Amount"})]})})})})})]})})}))]})]})};var wt=function(){return Object(W.jsx)(F.BrowserRouter,{children:Object(W.jsxs)(R.g,{children:[Object(W.jsx)(Oe,{exact:!0,path:"/",component:Ue}),Object(W.jsx)(Oe,{exact:!0,path:"/memberGroup",component:Ce}),Object(W.jsx)(Oe,{exact:!0,path:"/addMemberGroup",component:Se}),Object(W.jsx)(Oe,{exact:!0,path:"/addMember",component:Ae}),Object(W.jsx)(Oe,{exact:!0,path:"/addMember",component:Ae}),Object(W.jsx)(Oe,{exact:!0,path:"/scheme",component:ze}),Object(W.jsx)(Oe,{exact:!0,path:"/viewMemberDetail",component:Fe}),Object(W.jsx)(Oe,{exact:!0,path:"/addScheme",component:qe}),Object(W.jsx)(Oe,{exact:!0,path:"/loanApplication",component:We}),Object(W.jsx)(Oe,{exact:!0,path:"/loanApproval",component:Ke}),Object(W.jsx)(Oe,{exact:!0,path:"/disburseLoan",component:$e}),Object(W.jsx)(Oe,{exact:!0,path:"/loanApprovalDetails",component:Ze}),Object(W.jsx)(Oe,{exact:!0,path:"/allApplications",component:et}),Object(W.jsx)(Oe,{exact:!0,path:"/emiCalculator",component:tt}),Object(W.jsx)(Oe,{exact:!0,path:"/dueEmis",component:ct}),Object(W.jsx)(Oe,{exact:!0,path:"/Village",component:st}),Object(W.jsx)(Oe,{exact:!0,path:"/addVillage",component:ot}),Object(W.jsx)(Oe,{exact:!0,path:"/expense",component:lt}),Object(W.jsx)(Oe,{exact:!0,path:"/addExpense",component:dt}),Object(W.jsx)(Oe,{exact:!0,path:"/processingFee",component:ut}),Object(W.jsx)(Oe,{exact:!0,path:"/addProcessingFee",component:bt}),Object(W.jsx)(Oe,{exact:!0,path:"/addProcessingFee",component:bt}),Object(W.jsx)(Oe,{exact:!0,path:"/ladger",component:ht}),Object(W.jsx)(Oe,{exact:!0,path:"/rdApplications",component:Ot}),Object(W.jsx)(Oe,{exact:!0,path:"/rdDetails",component:xt}),Object(W.jsx)(Oe,{exact:!0,path:"/openNewRdAccount",component:pt}),Object(W.jsx)(Oe,{exact:!0,path:"/rdDeposites",component:gt}),Object(W.jsx)(Oe,{exact:!0,path:"/CompleteLadger",component:ft}),Object(W.jsx)(Oe,{exact:!0,path:"/rdLadger",component:_t}),Object(W.jsx)(R.d,{path:"/login",component:ee}),Object(W.jsx)(Oe,{path:"/member",component:Pe})]})})};var Ct=function(){return Object(W.jsx)(o.a,{store:G,children:Object(W.jsx)("div",{className:"App",children:Object(W.jsx)(wt,{})})})},kt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,250)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)(Ct,{})}),document.getElementById("root")),kt()},80:function(e,t,a){"use strict";(function(e){var n=a(81),r=a.n(n),c=a(82),s=a.n(c),o=r()(s.a,e.Promise),i="/api",l=(encodeURIComponent,function(e){return e}),d=function(e){return e.response},j=null,u=function(e){j&&e.set("Token",j)},b=function(e){return o.get("".concat(i).concat(e)).use(u).then(l,d)},h=function(e,t){return o.post("".concat(i).concat(e),t).use(u).then(l,d)},m={login:function(e,t){return h("/user/login",{email:e,password:t})},register:function(e){return h("/user/registration",e)}},O={getProductsByCat:function(e){return b("/products?category=".concat(e))},getCatgoryInitialData:function(){return[o.get("".concat(i,"/category")),o.get("".concat(i,"/products"))]},placeOrder:function(e){return o.post("".concat(i,"/orders/place-order"),e).use(u)},getCategoryAdmin:function(){return o.get("".concat(i,"/category")).use(u)},getOrdersHistoryAdmin:function(e){return o.get("".concat(i,"/orders/admin-order-list?page=").concat(e)).use(u)},getOrderHistoryByUserEmail:function(){return o.get("".concat(i,"/orders/get-order")).use(u)},addCategory:function(e){return o.post("".concat(i,"/category"),e).use(u)},deleteCategory:function(e){return o.del("".concat(i,"/category?name=").concat(e),e).use(u)},editCategory:function(e){return o.put("".concat(i,"/category"),e).use(u)},getProducts:function(){return o.get("".concat(i,"/products")).use(u)},deleteProduct:function(e){return o.del("".concat(i,"/products?title=").concat(e),e).use(u)},addProducts:function(e){return o.post("".concat(i,"/products"),e).use(u)},editProducts:function(e){return o.put("".concat(i,"/products"),e).use(u)}},x={getRazorpayOrderId:function(e){return o.post("".concat(i,"/payment/food-create-order-no"),e).use(u)},updatePaymentStatus:function(e){return o.post("".concat(i,"/payment/updatePaymentStatus"),e).use(u)}},p={fillItr:function(e){return o.post("".concat(i,"/finance/fill-itr"),e).use(u)},getAdminItr:function(){return o.get("".concat(i,"/finance/fill-itr")).use(u)},uploadForm16:function(e){return o.post("".concat(i,"/finance/form16Upload"),e).use(u)},getAdminForm16:function(){return o.get("".concat(i,"/finance/form16Upload")).use(u)},downloadForm16:function(e){return o.get("".concat(i,"/download?fileName=").concat(e.fileName)).use(u)}},g={submitInquery:function(e){return o.post("".concat(i,"/user/submitInquery"),e).use(u)}};t.a={Auth:m,Order:O,Payment:x,Finance:p,Inquery:g,getToken:function(){return j},setToken:function(e){j=e}}}).call(this,a(60))},9:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));var n=a(81),r=a.n(n),c=a(82),s=a.n(c),o=r()(s.a,e.Promise),i="localhost"==window.location.hostname?"https://dev-microfinance.herokuapp.com/api":"/api";encodeURIComponent}).call(this,a(60))}},[[227,1,2]]]);
//# sourceMappingURL=main.4a3aa5d1.chunk.js.map